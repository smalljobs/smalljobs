!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Chat=t(e.React,e.ReactDOM)}(this,(function(require$$0$1,reactDom){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var require$$0__default=_interopDefaultLegacy(require$$0$1),require$$0__namespace=_interopNamespace(require$$0$1),RcCtx=require$$0$1.createContext(null),Rc=function(e){var t=e.children,n=e.instance;return require$$0__default.default.createElement(RcCtx.Provider,{value:{rc:n}},t)},useRc=function(){return require$$0$1.useContext(RcCtx)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var shim={exports:{}},useSyncExternalStoreShim_production_min={},e$4=require$$0__default.default;function h$6(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var k$3="function"==typeof Object.is?Object.is:h$6,l$6=e$4.useState,m$5=e$4.useEffect,n$5=e$4.useLayoutEffect,p$6=e$4.useDebugValue;function q$4(e,t){var n=t(),r=l$6({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return n$5((function(){i.value=n,i.getSnapshot=t,r$5(i)&&o({inst:i})}),[e,n,t]),m$5((function(){return r$5(i)&&o({inst:i}),e((function(){r$5(i)&&o({inst:i})}))}),[e]),p$6(n),n}function r$5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k$3(e,n)}catch(e){return!0}}function t$7(e,t){return t()}var u$6="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?t$7:q$4;useSyncExternalStoreShim_production_min.useSyncExternalStore=void 0!==e$4.useSyncExternalStore?e$4.useSyncExternalStore:u$6,shim.exports=useSyncExternalStoreShim_production_min;var withSelector={exports:{}},withSelector_production_min={},h$5=require$$0__default.default,n$4=shim.exports;function p$5(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var q$3="function"==typeof Object.is?Object.is:p$5,r$4=n$4.useSyncExternalStore,t$6=h$5.useRef,u$5=h$5.useEffect,v$5=h$5.useMemo,w$4=h$5.useDebugValue;function defaultNoopBatch(e){e()}withSelector_production_min.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=t$6(null);if(null===o.current){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=v$5((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&s.hasValue){var t=s.value;if(i(t,e))return a=t}return a=e}if(t=a,q$3(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,a=n)}var o,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var a=r$4(e,o[0],o[1]);return u$5((function(){s.hasValue=!0,s.value=a}),[a]),w$4(a),a},withSelector.exports=withSelector_production_min;let batch=defaultNoopBatch;const setBatch=e=>batch=e,getBatch=()=>batch,ReactReduxContext=require$$0$1.createContext(null);function useReduxContext(){return require$$0$1.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=e=>{useSyncExternalStoreWithSelector=e},refEquality=(e,t)=>e===t;function createSelectorHook(e=ReactReduxContext){const t=e===ReactReduxContext?useReduxContext:()=>require$$0$1.useContext(e);return function(e,n=refEquality){const{store:r,subscription:i,getServerState:o}=t(),s=useSyncExternalStoreWithSelector(i.addNestedSub,r.getState,o||r.getState,e,n);return require$$0$1.useDebugValue(s),s}}const useSelector=createSelectorHook();var reactIs$1={exports:{}},reactIs_production_min$1={},b$2="function"==typeof Symbol&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$4=b$2?Symbol.for("react.portal"):60106,e$3=b$2?Symbol.for("react.fragment"):60107,f$7=b$2?Symbol.for("react.strict_mode"):60108,g$3=b$2?Symbol.for("react.profiler"):60114,h$4=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$5=b$2?Symbol.for("react.async_mode"):60111,m$4=b$2?Symbol.for("react.concurrent_mode"):60111,n$3=b$2?Symbol.for("react.forward_ref"):60112,p$4=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$3=b$2?Symbol.for("react.memo"):60115,t$5=b$2?Symbol.for("react.lazy"):60116,v$4=b$2?Symbol.for("react.block"):60121,w$3=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$2=b$2?Symbol.for("react.scope"):60119;function z$1(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case c$2:switch(e=e.type){case l$5:case m$4:case e$3:case g$3:case f$7:case p$4:return e;default:switch(e=e&&e.$$typeof){case k$2:case n$3:case t$5:case r$3:case h$4:return e;default:return t}}case d$4:return t}}}function A$3(e){return z$1(e)===m$4}reactIs_production_min$1.AsyncMode=l$5,reactIs_production_min$1.ConcurrentMode=m$4,reactIs_production_min$1.ContextConsumer=k$2,reactIs_production_min$1.ContextProvider=h$4,reactIs_production_min$1.Element=c$2,reactIs_production_min$1.ForwardRef=n$3,reactIs_production_min$1.Fragment=e$3,reactIs_production_min$1.Lazy=t$5,reactIs_production_min$1.Memo=r$3,reactIs_production_min$1.Portal=d$4,reactIs_production_min$1.Profiler=g$3,reactIs_production_min$1.StrictMode=f$7,reactIs_production_min$1.Suspense=p$4,reactIs_production_min$1.isAsyncMode=function(e){return A$3(e)||z$1(e)===l$5},reactIs_production_min$1.isConcurrentMode=A$3,reactIs_production_min$1.isContextConsumer=function(e){return z$1(e)===k$2},reactIs_production_min$1.isContextProvider=function(e){return z$1(e)===h$4},reactIs_production_min$1.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===c$2},reactIs_production_min$1.isForwardRef=function(e){return z$1(e)===n$3},reactIs_production_min$1.isFragment=function(e){return z$1(e)===e$3},reactIs_production_min$1.isLazy=function(e){return z$1(e)===t$5},reactIs_production_min$1.isMemo=function(e){return z$1(e)===r$3},reactIs_production_min$1.isPortal=function(e){return z$1(e)===d$4},reactIs_production_min$1.isProfiler=function(e){return z$1(e)===g$3},reactIs_production_min$1.isStrictMode=function(e){return z$1(e)===f$7},reactIs_production_min$1.isSuspense=function(e){return z$1(e)===p$4},reactIs_production_min$1.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===e$3||e===m$4||e===g$3||e===f$7||e===p$4||e===q$2||"object"==typeof e&&null!==e&&(e.$$typeof===t$5||e.$$typeof===r$3||e.$$typeof===h$4||e.$$typeof===k$2||e.$$typeof===n$3||e.$$typeof===w$3||e.$$typeof===x$2||e.$$typeof===y$2||e.$$typeof===v$4)},reactIs_production_min$1.typeOf=z$1,reactIs$1.exports=reactIs_production_min$1;var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS,TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var reactIs_production_min={},b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$3=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$6=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$4=Symbol.for("react.forward_ref"),m$3=Symbol.for("react.suspense"),n$2=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$4=Symbol.for("react.offscreen"),u$4;
/**
     * @license React
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function v$3(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case b$1:switch(e=e.type){case d$3:case f$6:case e$2:case m$3:case n$2:return e;default:switch(e=e&&e.$$typeof){case k$1:case h$3:case l$4:case q$1:case p$3:case g$2:return e;default:return t}}case c$1:return t}}}function createListenerCollection(){const e=getBatch();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}u$4=Symbol.for("react.module.reference"),reactIs_production_min.ContextConsumer=h$3,reactIs_production_min.ContextProvider=g$2,reactIs_production_min.Element=b$1,reactIs_production_min.ForwardRef=l$4,reactIs_production_min.Fragment=d$3,reactIs_production_min.Lazy=q$1,reactIs_production_min.Memo=p$3,reactIs_production_min.Portal=c$1,reactIs_production_min.Profiler=f$6,reactIs_production_min.StrictMode=e$2,reactIs_production_min.Suspense=m$3,reactIs_production_min.SuspenseList=n$2,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(e){return v$3(e)===h$3},reactIs_production_min.isContextProvider=function(e){return v$3(e)===g$2},reactIs_production_min.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===b$1},reactIs_production_min.isForwardRef=function(e){return v$3(e)===l$4},reactIs_production_min.isFragment=function(e){return v$3(e)===d$3},reactIs_production_min.isLazy=function(e){return v$3(e)===q$1},reactIs_production_min.isMemo=function(e){return v$3(e)===p$3},reactIs_production_min.isPortal=function(e){return v$3(e)===c$1},reactIs_production_min.isProfiler=function(e){return v$3(e)===f$6},reactIs_production_min.isStrictMode=function(e){return v$3(e)===e$2},reactIs_production_min.isSuspense=function(e){return v$3(e)===m$3},reactIs_production_min.isSuspenseList=function(e){return v$3(e)===n$2},reactIs_production_min.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===d$3||e===f$6||e===e$2||e===m$3||e===n$2||e===t$4||"object"==typeof e&&null!==e&&(e.$$typeof===q$1||e.$$typeof===p$3||e.$$typeof===g$2||e.$$typeof===h$3||e.$$typeof===l$4||e.$$typeof===u$4||void 0!==e.getModuleId)},reactIs_production_min.typeOf=v$3;const nullListeners={notify(){},get:()=>[]};function createSubscription(e,t){let n,r=nullListeners;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=createListenerCollection())}const s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=nullListeners)},getListeners:()=>r};return s}const canUseDOM=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),useIsomorphicLayoutEffect=canUseDOM?require$$0$1.useLayoutEffect:require$$0$1.useEffect;function Provider({store:e,context:t,children:n,serverState:r}){const i=require$$0$1.useMemo((()=>{const t=createSubscription(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),o=require$$0$1.useMemo((()=>e.getState()),[e]);useIsomorphicLayoutEffect((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,o]);const s=t||ReactReduxContext;return require$$0__default.default.createElement(s.Provider,{value:i},n)}function createStoreHook(e=ReactReduxContext){const t=e===ReactReduxContext?useReduxContext:()=>require$$0$1.useContext(e);return function(){const{store:e}=t();return e}}const useStore=createStoreHook();function createDispatchHook(e=ReactReduxContext){const t=e===ReactReduxContext?useStore:createStoreHook(e);return function(){return t().dispatch}}const useDispatch=createDispatchHook();function n$1(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$2(e){return!!e&&!!e[Q]}function t$3(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(e)||Array.isArray(e)||!!e[L$2]||!!(null===(t=e.constructor)||void 0===t?void 0:t[L$2])||s$4(e)||v$2(e))}function i$4(e,t,n){void 0===n&&(n=!1),0===o$5(e)?(n?Object.keys:nn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function o$5(e){var t=e[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:s$4(e)?2:v$2(e)?3:0}function u$3(e,t){return 2===o$5(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function a$1(e,t){return 2===o$5(e)?e.get(t):e[t]}function f$5(e,t,n){var r=o$5(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function s$4(e){return X$1&&e instanceof Map}function v$2(e){return q&&e instanceof Set}function p$2(e){return e.o||e.t}function l$3(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=rn(e);delete t[Q];for(var n=nn(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function d$2(e,t){return void 0===t&&(t=!1),y$1(e)||r$2(e)||!t$3(e)||(o$5(e)>1&&(e.set=e.add=e.clear=e.delete=h$2),Object.freeze(e),t&&i$4(e,(function(e,t){return d$2(t,!0)}),!0)),e}function h$2(){n$1(2)}function y$1(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=tn[e];return t||n$1(18,e),t}function m$2(e,t){tn[e]||(tn[e]=t)}function _(){return U$1}function j$1(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function O$2(e){g$1(e),e.p.forEach(S$1),e.p=null}function g$1(e){e===U$1&&(U$1=e.l)}function w$2(e){return U$1={p:[],l:U$1,h:e,m:!0,_:0}}function S$1(e){var t=e[Q];0===t.i||1===t.i?t.j():t.O=!0}function P$2(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,r),r?(n[Q].P&&(O$2(t),n$1(4)),t$3(e)&&(e=M$2(t,e),t.l||x$1(t,e)),t.u&&b("Patches").M(n[Q].t,e,t.u,t.s)):e=M$2(t,n,[]),O$2(t),t.u&&t.v(t.u,t.s),e!==H$1?e:void 0}function M$2(e,t,n){if(y$1(t))return t;var r=t[Q];if(!r)return i$4(t,(function(i,o){return A$2(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return x$1(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=l$3(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),i$4(o,(function(t,o){return A$2(e,r,i,t,o,n,s)})),x$1(e,i,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function A$2(e,t,n,r,i,o,s){if(r$2(i)){var a=M$2(e,i,o&&t&&3!==t.i&&!u$3(t.R,r)?o.concat(r):void 0);if(f$5(n,r,a),!r$2(a))return;e.m=!1}else s&&n.add(i);if(t$3(i)&&!y$1(i)){if(!e.h.D&&e._<1)return;M$2(e,i),t&&t.A.l||x$1(e,i)}}function x$1(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&d$2(t,n)}function z(e,t){var n=e[Q];return(n?p$2(n):e)[t]}function I$3(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function k(e){e.P||(e.P=!0,e.l&&k(e.l))}function E$1(e){e.o||(e.o=l$3(e.t))}function N$1(e,t,n){var r=s$4(t)?b("MapSet").F(t,n):v$2(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=en$2;n&&(i=[r],o=on);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):b("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function R(e){return r$2(e)||n$1(22,e),function e(t){if(!t$3(t))return t;var n,r=t[Q],i=o$5(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=D$1(t,i),r.I=!1}else n=D$1(t,i);return i$4(n,(function(t,i){r&&a$1(r.t,t)===i||f$5(n,t,e(i))})),3===i?new Set(n):n}(e)}function D$1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return l$3(e)}function F$3(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Q];return en$2.get(t,e)},set:function(t){var n=this[Q];en$2.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Q];if(!i.P)switch(i.i){case 5:r(i)&&k(i);break;case 4:n(i)&&k(i)}}}function n(e){for(var t=e.t,n=e.k,r=nn(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Q){var s=t[o];if(void 0===s&&!u$3(t,o))return!0;var a=n[o],l=a&&a[Q];if(l?l.t!==s:!c(a,s))return!0}}var u=!!t[Q];return r.length!==nn(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};m$2("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=rn(n);delete o[Q];for(var s=nn(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:_(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(e,n,i){i?r$2(n)&&n[Q].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Q];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)i$4(o,(function(t){t!==Q&&(void 0!==i[t]||u$3(i,t)?s[t]||e(o[t]):(s[t]=!0,k(n)))})),i$4(i,(function(e){void 0!==o[e]||u$3(o,e)||(s[e]=!1,k(n))}));else if(5===a){if(r(n)&&(k(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}initializeUseSelector(withSelector.exports.useSyncExternalStoreWithSelector),setBatch(reactDom.unstable_batchedUpdates);var G$1,U$1,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X$1="undefined"!=typeof Map,q="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H$1=W?Symbol.for("immer-nothing"):((G$1={})["immer-nothing"]=!0,G$1),L$2=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(e){var t={};return nn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},tn={},en$2={get:function(e,t){if(t===Q)return e;var n=p$2(e);if(!u$3(n,t))return function(e,t,n){var r,i=I$3(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!t$3(r)?r:r===z(e.t,t)?(E$1(e),e.o[t]=N$1(e.A.h,r,e)):r},has:function(e,t){return t in p$2(e)},ownKeys:function(e){return Reflect.ownKeys(p$2(e))},set:function(e,t,n){var r=I$3(p$2(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=z(p$2(e),t),o=null==i?void 0:i[Q];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(c(n,i)&&(void 0!==n||u$3(e.t,t)))return!0;E$1(e),k(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==z(e.t,t)||t in e.t?(e.R[t]=!1,E$1(e),k(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p$2(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){n$1(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n$1(12)}},on={};i$4(en$2,(function(e,t){on[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),on.deleteProperty=function(e,t){return on.set.call(this,e,t,void 0)},on.set=function(e,t,n){return en$2.set.call(this,e[0],t,n,e[0])};var un=function(){function e(e){var t=this;this.g=B,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&n$1(6),void 0!==r&&"function"!=typeof r&&n$1(7),t$3(e)){var a=w$2(t),l=N$1(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?O$2(a):g$1(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return j$1(a,r),P$2(e,a)}),(function(e){throw O$2(a),e})):(j$1(a,r),P$2(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===H$1&&(s=void 0),t.D&&d$2(s,!0),r){var u=[],d=[];b("Patches").M(e,s,u,d),r(u,d)}return s}n$1(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){t$3(e)||n$1(8),r$2(e)&&(e=R(e));var t=w$2(this),n=N$1(this,e,void 0);return n[Q].C=!0,g$1(t),n},t.finishDraft=function(e,t){var n=(e&&e[Q]).A;return j$1(n,t),P$2(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!B&&n$1(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=b("Patches").$;return r$2(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an),an.setAutoFreeze.bind(an),an.setUseProxies.bind(an),an.applyPatches.bind(an),an.createDraft.bind(an),an.finishDraft.bind(an);var createNextState3=fn;function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function _toPrimitive(e,t){if("object"!==_typeof$2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_typeof$2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof$2(t)?t:String(t)}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$9(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function formatProdErrorMessage(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$3(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function createStore(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(formatProdErrorMessage(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(formatProdErrorMessage(1));return n(createStore)(e,t)}if("function"!=typeof e)throw new Error(formatProdErrorMessage(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(formatProdErrorMessage(3));return o}function d(e){if("function"!=typeof e)throw new Error(formatProdErrorMessage(4));if(l)throw new Error(formatProdErrorMessage(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(formatProdErrorMessage(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!isPlainObject$3(e))throw new Error(formatProdErrorMessage(7));if(void 0===e.type)throw new Error(formatProdErrorMessage(8));if(l)throw new Error(formatProdErrorMessage(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error(formatProdErrorMessage(10));i=e,h({type:ActionTypes.REPLACE})}function f(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(formatProdErrorMessage(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[$$observable]=function(){return this},e}return h({type:ActionTypes.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:p})[$$observable]=f,r}function assertReducerShape(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ActionTypes.INIT}))throw new Error(formatProdErrorMessage(12));if(void 0===n(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error(formatProdErrorMessage(13))}))}function combineReducers(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{assertReducerShape(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if(void 0===d)throw t&&t.type,new Error(formatProdErrorMessage(14));i[l]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function compose(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function applyMiddleware(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(formatProdErrorMessage(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=compose.apply(void 0,o)(n.dispatch),_objectSpread2(_objectSpread2({},n),{},{dispatch:r})}}}var NOT_FOUND="NOT_FOUND";function createSingletonCache(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:NOT_FOUND},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function createLruCache(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return NOT_FOUND}return{get:r,put:function(t,i){r(t)===NOT_FOUND&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}var defaultEqualityCheck=function(e,t){return e===t};function createCacheKeyComparator(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}function defaultMemoize(e,t){var n="object"==typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?defaultEqualityCheck:r,o=n.maxSize,s=void 0===o?1:o,a=n.resultEqualityCheck,l=createCacheKeyComparator(i),c=1===s?createSingletonCache(l):createLruCache(s,l);function u(){var t=c.get(arguments);if(t===NOT_FOUND){if(t=e.apply(null,arguments),a){var n=c.getEntries(),r=n.find((function(e){return a(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return u.clearCache=function(){return c.clear()},u}function getDependencies(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function createSelectorCreator(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,s=0,a={memoizeOptions:void 0},l=r.pop();if("object"==typeof l&&(a=l,l=r.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=a,u=c.memoizeOptions,d=void 0===u?n:u,h=Array.isArray(d)?d:[d],p=getDependencies(r),f=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(h)),m=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return o=f.apply(null,e)}));return Object.assign(m,{resultFunc:l,memoizedResultFunc:f,dependencies:p,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),m};return i}var createSelector=createSelectorCreator(defaultMemoize);function createThunkMiddleware(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var thunkMiddleware=thunk,__extends$6=window&&window.__extends||(extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),extendStatics,__generator$6=window&&window.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__spreadArray=window&&window.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(e,t,n){return t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},__spreadValues=function(e,t){for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp(e,n,t[n]);if(__getOwnPropSymbols)for(var r=0,i=__getOwnPropSymbols(t);r<i.length;r++){n=i[r];__propIsEnum.call(t,n)&&__defNormalProp(e,n,t[n])}return e},__spreadProps=function(e,t){return __defProps(e,__getOwnPropDescs(t))},__async=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},createDraftSafeSelector=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=createSelector.apply(void 0,e),r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,__spreadArray([r$2(e)?R(e):e],t))};return r},composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?compose:compose.apply(null,arguments)};function isPlainObject$2(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var MiddlewareArray=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return __extends$6(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,__spreadArray([void 0],e[0].concat(this)))):new(t.bind.apply(t,__spreadArray([void 0],e.concat(this))))},t}(Array);function freezeDraftable(e){return t$3(e)?createNextState3(e,(function(){})):e}function isBoolean$1(e){return"boolean"==typeof e}function curryGetDefaultMiddleware(){return function(e){return getDefaultMiddleware(e)}}function getDefaultMiddleware(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t;e.immutableCheck,e.serializableCheck;var r=new MiddlewareArray;return n&&(isBoolean$1(n)?r.push(thunkMiddleware):r.push(thunkMiddleware.withExtraArgument(n.extraArgument))),r}var IS_PRODUCTION=!0;function configureStore(e){var t,n=curryGetDefaultMiddleware(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,p=void 0===h?void 0:h;if("function"==typeof o)t=o;else{if(!isPlainObject$2(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=combineReducers(o)}var f=a;"function"==typeof f&&(f=f(n));var m=applyMiddleware.apply(void 0,f),g=compose;c&&(g=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},"object"==typeof c&&c)));var y=[m];return Array.isArray(p)?y=__spreadArray([m],p):"function"==typeof p&&(y=p(y)),createStore(t,d,g.apply(void 0,y))}function createAction(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function isFSA(e){return isPlainObject$2(e)&&"string"==typeof e.type&&Object.keys(e).every(isValidKey)}function isValidKey(e){return["type","payload","error","meta"].indexOf(e)>-1}function executeReducerBuilderCallback(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function isStateFunction(e){return"function"==typeof e}function createReducer(e,t,n,r){void 0===n&&(n=[]);var i,o="function"==typeof t?executeReducerBuilderCallback(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(isStateFunction(e))i=function(){return freezeDraftable(e())};else{var c=freezeDraftable(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=__spreadArray([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(r$2(e))return void 0===(r=n(e,t))?e:r;if(t$3(e))return createNextState3(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}function getType2(e,t){return e+"/"+t}function createSlice(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:freezeDraftable(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"==typeof e.extraReducers?executeReducerBuilderCallback(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=__spreadValues(__spreadValues({},i),a);return createReducer(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=getType2(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?createAction(c,r):createAction(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}function getInitialEntityState(){return{ids:[],entities:{}}}function createInitialStateFactory(){return{getInitialState:function(e){return void 0===e&&(e={}),Object.assign(getInitialEntityState(),e)}}}function createSelectorsFactory(){return{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=createDraftSafeSelector(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},s=createDraftSafeSelector(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:s,selectById:createDraftSafeSelector(n,i,o)};var a=createDraftSafeSelector(e,n);return{selectIds:createDraftSafeSelector(e,t),selectEntities:a,selectAll:createDraftSafeSelector(e,r),selectTotal:createDraftSafeSelector(e,s),selectById:createDraftSafeSelector(a,i,o)}}}}function createSingleArgumentStateOperator(e){var t=createStateOperator((function(t,n){return e(n)}));return function(e){return t(e,void 0)}}function createStateOperator(e){return function(t,n){var r=function(t){isFSA(n)?e(n.payload,t):e(n,t)};return r$2(t)?(r(t),t):createNextState3(t,r)}}function selectIdValue(e,t){return t(e)}function ensureEntitiesArray(e){return Array.isArray(e)||(e=Object.values(e)),e}function splitAddedUpdatedEntities(e,t,n){for(var r=[],i=[],o=0,s=e=ensureEntitiesArray(e);o<s.length;o++){var a=s[o],l=selectIdValue(a,t);l in n.entities?i.push({id:l,changes:a}):r.push(a)}return[r,i]}function createUnsortedStateAdapter(e){function t(t,n){var r=selectIdValue(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=ensureEntitiesArray(e);r<i.length;r++){t(i[r],n)}}function r(t,n){var r=selectIdValue(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:__spreadValues(__spreadValues({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var o=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),s=selectIdValue(o,e),a=s!==n.id;return a&&(t[n.id]=s,delete r.entities[n.id]),r.entities[s]=o,a}(r,t,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function s(t,r){var i=splitAddedUpdatedEntities(t,e,r),s=i[0];o(i[1],r),n(s,r)}return{removeAll:createSingleArgumentStateOperator((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:createStateOperator(t),addMany:createStateOperator(n),setOne:createStateOperator(r),setMany:createStateOperator((function(e,t){for(var n=0,i=e=ensureEntitiesArray(e);n<i.length;n++){r(i[n],t)}})),setAll:createStateOperator((function(e,t){e=ensureEntitiesArray(e),t.ids=[],t.entities={},n(e,t)})),updateOne:createStateOperator((function(e,t){return o([e],t)})),updateMany:createStateOperator(o),upsertOne:createStateOperator((function(e,t){return s([e],t)})),upsertMany:createStateOperator(s),removeOne:createStateOperator((function(e,t){return i([e],t)})),removeMany:createStateOperator(i)}}function createSortedStateAdapter(e,t){var n=createUnsortedStateAdapter(e);function r(t,n){var r=(t=ensureEntitiesArray(t)).filter((function(t){return!(selectIdValue(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(e,t){0!==(e=ensureEntitiesArray(e)).length&&a(e,t)}function o(t,n){for(var r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.entities[s.id];if(a){r=!0,Object.assign(a,s.changes);var c=e(a);s.id!==c&&(delete n.entities[s.id],n.entities[c]=a)}}r&&l(n)}function s(t,n){var i=splitAddedUpdatedEntities(t,e,n),s=i[0];o(i[1],n),r(s,n)}function a(t,n){t.forEach((function(t){n.entities[e(t)]=t})),l(n)}function l(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:createStateOperator((function(e,t){return r([e],t)})),updateOne:createStateOperator((function(e,t){return o([e],t)})),upsertOne:createStateOperator((function(e,t){return s([e],t)})),setOne:createStateOperator((function(e,t){return i([e],t)})),setMany:createStateOperator(i),setAll:createStateOperator((function(e,t){e=ensureEntitiesArray(e),t.entities={},t.ids=[],r(e,t)})),addMany:createStateOperator(r),updateMany:createStateOperator(o),upsertMany:createStateOperator(s)}}function createEntityAdapter(e){void 0===e&&(e={});var t=__spreadValues({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i=createInitialStateFactory(),o=createSelectorsFactory(),s=r?createSortedStateAdapter(n,r):createUnsortedStateAdapter(n);return __spreadValues(__spreadValues(__spreadValues({selectId:n,sortComparer:r},i),o),s)}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+=urlAlphabet[64*Math.random()|0];return t},commonProperties=["name","message","stack","code"],RejectWithValue=function(e,t){this.payload=e,this.meta=t},FulfillWithMeta=function(e,t){this.payload=e,this.meta=t},miniSerializeError=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=commonProperties;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function unwrapResult(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function isThenable(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}!function(){function e(e,t,n){var r=createAction(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:__spreadProps(__spreadValues({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=createAction(e+"/pending",(function(e,t,n){return{payload:void 0,meta:__spreadProps(__spreadValues({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=createAction(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||miniSerializeError)(e||"Rejected"),meta:__spreadProps(__spreadValues({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):nanoid(),h=new s;function p(e){u=e,h.abort()}var f=function(){return __async(this,null,(function(){var s,f,m,g,y,v;return __generator$6(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),isThenable(g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}))?[4,g]:[3,2];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(d,e,null==(f=null==n?void 0:n.getPendingMeta)?void 0:f.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:d,signal:h.signal,abort:p,rejectWithValue:function(e,t){return new RejectWithValue(e,t)},fulfillWithValue:function(e,t){return new FulfillWithMeta(e,t)}})).then((function(t){if(t instanceof RejectWithValue)throw t;return t instanceof FulfillWithMeta?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return v=b.sent(),m=v instanceof RejectWithValue?o(null,d,e,v.payload,v.meta):o(v,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||a(m),[2,m]}}))}))}();return Object.assign(f,{abort:p,requestId:d,arg:e,unwrap:function(){return f.then(unwrapResult)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();var alm="listenerMiddleware",promise,_a$3;function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===_typeof$1(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function compareAsc(e,t){requiredArgs(2,arguments);var n=toDate(e),r=toDate(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}createAction(alm+"/add"),createAction(alm+"/removeAll"),createAction(alm+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis),F$3();var messagesAdapter=createEntityAdapter({selectId:function(e){return e._id},sortComparer:function(e,t){return compareAsc(new Date(e.ts),new Date(t.ts))}}),initialState$3=messagesAdapter.getInitialState(),messagesSlice=createSlice({name:"messages",initialState:initialState$3,reducers:{addMessages:messagesAdapter.addMany,addMessage:messagesAdapter.addOne,upsertMessage:messagesAdapter.upsertOne,removeAll:messagesAdapter.removeAll,removeOne:messagesAdapter.removeOne}}),addMessages=(_a$3=messagesSlice.actions,_a$3.addMessages);_a$3.addMessage;var upsertMessage=_a$3.upsertMessage,removeAll=_a$3.removeAll,removeOne=_a$3.removeOne,messagesSelectors=messagesAdapter.getSelectors((function(e){return e.messages})),MessagesSlice=messagesSlice.reducer,_a$2,initialState$2={user:null,isAuthorized:!1},userSlice=createSlice({name:"user",initialState:initialState$2,reducers:{setUser:function(e,t){e.user=t.payload},setAuthorized:function(e,t){e.isAuthorized=t.payload}}}),setUser=(_a$2=userSlice.actions,_a$2.setUser),setAuthorized=_a$2.setAuthorized,UserSlice=userSlice.reducer,_a$1,initialState$1={room:null,rid:null},roomSlice=createSlice({name:"room",initialState:initialState$1,reducers:{setRoom:function(e,t){e.room=t.payload,e.rid=t.payload._id},clearRoom:function(e){e.room=null,e.rid=null}}}),setRoom=(_a$1=roomSlice.actions,_a$1.setRoom),clearRoom=_a$1.clearRoom,RoomSlice=roomSlice.reducer,_a,uploaderAdapter=createEntityAdapter({selectId:function(e){return e.id},sortComparer:function(e,t){return compareAsc(new Date(e.ts),new Date(t.ts))}}),initialState=uploaderAdapter.getInitialState(),uploaderSlice=createSlice({name:"uploaders",initialState:initialState,reducers:{addUploaders:uploaderAdapter.addMany,addUploader:uploaderAdapter.addOne,upsertUploader:uploaderAdapter.upsertOne,removeAll:uploaderAdapter.removeAll,removeUploader:uploaderAdapter.removeOne,updateUploader:uploaderAdapter.updateOne}});_a=uploaderSlice.actions,_a.addUploaders,_a.addUploader;var upsertUploader=_a.upsertUploader;_a.removeAll;var removeUploader=_a.removeUploader,updateUploader=_a.updateUploader,uploaderSelectors=uploaderAdapter.getSelectors((function(e){return e.uploaders})),UploaderSlice=uploaderSlice.reducer,store=configureStore({reducer:{messages:MessagesSlice,user:UserSlice,room:RoomSlice,uploaders:UploaderSlice}}),__assign$6=function(){return __assign$6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$6.apply(this,arguments)};function __awaiter$5(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function __generator$5(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var sdk={},settings$2={};Object.defineProperty(settings$2,"__esModule",{value:!0}),settings$2.username="window".ROCKETCHAT_USER||"bot",settings$2.password="window".ROCKETCHAT_PASSWORD||"pass",settings$2.ldap="ldap"==="window".ROCKETCHAT_AUTH,settings$2.host="window".ROCKETCHAT_URL||"localhost:3000",settings$2.useSsl="window".ROCKETCHAT_USE_SSL?"true"===("window".ROCKETCHAT_USE_SSL||"").toString().toLowerCase():("window".ROCKETCHAT_URL||"").toString().toLowerCase().startsWith("https"),settings$2.timeout=2e4,settings$2.rooms="window".ROCKETCHAT_ROOM?("window".ROCKETCHAT_ROOM||"").split(",").map((function(e){return e.trim()})):[],settings$2.allPublic="true"===("window".LISTEN_ON_ALL_PUBLIC||"false").toLowerCase(),settings$2.dm="true"===("window".RESPOND_TO_DM||"false").toLowerCase(),settings$2.livechat="true"===("window".RESPOND_TO_LIVECHAT||"false").toLowerCase(),settings$2.edited="true"===("window".RESPOND_TO_EDITED||"false").toLowerCase(),settings$2.integrationId="window".INTEGRATION_ID||"js.SDK",settings$2.roomCacheMaxSize=parseInt("window".ROOM_CACHE_SIZE||"10",10),settings$2.roomCacheMaxAge=1e3*parseInt("window".ROOM_CACHE_MAX_AGE||"300",10),settings$2.dmCacheMaxSize=parseInt("window".DM_ROOM_CACHE_SIZE||"10",10),settings$2.dmCacheMaxAge=1e3*parseInt("window".DM_ROOM_CACHE_MAX_AGE||"100",10),settings$2.token="window".LIVECHAT_TOKEN||"",settings$2.rid="window".LIVECHAT_ROOM||"",settings$2.department="window".LIVECHAT_DEPARTMENT||"";var Livechat$1={},Livechat={},api$1={},log={},__read$3=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},__spread$2=commonjsGlobal&&commonjsGlobal.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read$3(arguments[t]));return e};Object.defineProperty(log,"__esModule",{value:!0});var InternalLog=function(){function e(){}return e.prototype.debug=function(){},e.prototype.info=function(){},e.prototype.warning=function(){},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.warning.apply(this,__spread$2(e))},e.prototype.error=function(){},e}();function replaceLog(e){log.logger=e}function silence(){replaceLog({debug:function(){return null},info:function(){return null},warn:function(){return null},warning:function(){return null},error:function(){return null}})}log.logger=new InternalLog,log.replaceLog=replaceLog,log.silence=silence;var message={},__rest$5=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(message,"__esModule",{value:!0});var Message$1=function(e,t){var n=t.integrationId,r=__rest$5(t,["integrationId"]);"string"==typeof e?Object.assign(this,{msg:e},r):Object.assign(this,e,r),n&&(this.bot={i:n})};message.Message=Message$1;var lib$1={};function EventEmitter$1(){this._listeners={}}EventEmitter$1.prototype.on=function(e,t){return Array.isArray(this._listeners[e])||(this._listeners[e]=[]),-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t),this},EventEmitter$1.prototype.once=function(e,t){var n=this;function r(){for(var i=[],o=0;o<arguments.length;o+=1)i[o]=arguments[o];n.off(e,r),t.apply(n,i)}return r.listener=t,this.on(e,r)},EventEmitter$1.prototype.off=function(e,t){if(!Array.isArray(this._listeners[e]))return this;if(void 0===t)return this._listeners[e]=[],this;var n=this._listeners[e].indexOf(t);if(-1===n)for(var r=0;r<this._listeners[e].length;r+=1)if(this._listeners[e][r].listener===t){n=r;break}return this._listeners[e].splice(n,1),this},EventEmitter$1.prototype.emit=function(e){if(!Array.isArray(this._listeners[e]))return this;for(var t=[],n=1;n<arguments.length;n+=1)t[n-1]=arguments[n];return this._listeners[e].forEach((function(e){e.apply(this,t)}),this),this},lib$1.EventEmitter=EventEmitter$1,function(e){var t=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=commonjsGlobal&&commonjsGlobal.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=log,s=message,a=lib$1,l=function(){function e(e){var t=e.host,n=void 0===t?"http://localhost:3000":t;this._headers={},this.host=n}return Object.defineProperty(e.prototype,"headers",{get:function(){return n({"Content-Type":"application/json"},this._headers)},set:function(e){this._headers=e},enumerable:!0,configurable:!0}),e.prototype.getHeaders=function(e){return e&&e.customHeaders?e.customHeaders:this.headers},e.prototype.getBody=function(e){return e instanceof FormData?e:JSON.stringify(e)},e.prototype.get=function(e,t,n){return fetch(this.host+"/api/v1/"+encodeURI(e)+"?"+this.getParams(t),{method:"GET",headers:this.getHeaders(n)}).then(this.handle)},e.prototype.post=function(e,t,n){return fetch(this.host+"/api/v1/"+encodeURI(e),{method:"POST",body:this.getBody(t),headers:this.getHeaders(n)}).then(this.handle)},e.prototype.put=function(e,t,n){return fetch(this.host+"/api/v1/"+encodeURI(e),{method:"PUT",body:this.getBody(t),headers:this.getHeaders(n)}).then(this.handle)},e.prototype.delete=function(e,t,n){return fetch(this.host+"/api/v1/"+encodeURI(e),{method:"DELETE",body:this.getBody(t),headers:this.getHeaders(n)}).then(this.handle)},e.prototype.handle=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,{status:t,data:n}]}}))}))},e.prototype.getParams=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+("object"==typeof e[t]?encodeURIComponent(JSON.stringify(e[t])):encodeURIComponent(e[t]))})).join("&")},e}();e.regExpSuccess=/(?!([45][0-9][0-9]))\d{3}/;var c=function(a){function c(e){var t=e.client,n=e.host,s=e.logger;void 0===s&&o.logger;var c=a.call(this)||this;return c.userId="",c.currentLogin=null,c.request=function(e,t,n,o,s,a){return void 0===n&&(n={}),void 0===o&&(o=!0),r(c,void 0,void 0,(function(){var r,l,c;return i(this,(function(i){switch(i.label){case 0:this.logger&&this.logger.debug("[API] "+e+" "+t+": "+JSON.stringify(n)),i.label=1;case 1:if(i.trys.push([1,11,,12]),o&&!this.loggedIn())throw new Error("");switch(r=void 0,e){case"GET":return[3,2];case"PUT":return[3,4];case"DELETE":return[3,6];case"POST":return[3,8]}return[3,8];case 2:return[4,this.client.get(t,n,a)];case 3:return r=i.sent(),[3,10];case 4:return[4,this.client.put(t,n,a)];case 5:return r=i.sent(),[3,10];case 6:return[4,this.client.delete(t,n,a)];case 7:return r=i.sent(),[3,10];case 8:return[4,this.client.post(t,n,a)];case 9:return r=i.sent(),[3,10];case 10:if(!r)throw new Error("API "+e+" "+t+" result undefined");if(!this.success(r,s))throw r;return this.logger&&this.logger.debug("[API] "+e+" "+t+" result "+r.status),l=r&&!r.data,[2,"DELETE"===e&&l?r:r.data];case 11:throw c=i.sent(),this.logger&&this.logger.error("[API] POST error("+t+"): "+JSON.stringify(c)),c;case 12:return[2]}}))}))},c.post=function(e,t,n,r,i){return void 0===i&&(i={}),c.request("POST",e,t,n,r,i)},c.get=function(e,t,n,r,i){return void 0===i&&(i={}),c.request("GET",e,t,n,r,i)},c.put=function(e,t,n,r,i){return void 0===i&&(i={}),c.request("PUT",e,t,n,r,i)},c.del=function(e,t,n,r,i){return void 0===i&&(i={}),c.request("DELETE",e,t,n,r,i)},c.client=t||new l({host:n}),c.logger=o.logger,c}return t(c,a),Object.defineProperty(c.prototype,"username",{get:function(){return this.currentLogin&&this.currentLogin.username},enumerable:!0,configurable:!0}),c.prototype.loggedIn=function(){return Object.keys(this.currentLogin||{}).every((function(e){return e}))},c.prototype.success=function(t,n){return!!(void 0===t.status||t.status&&e.regExpSuccess.test(t.status)||t.status&&n&&n.test(t.status))},c.prototype.login=function(e,t){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,this.post("login",n({},e,t))];case 1:return r=i.sent().data,this.userId=r.userId,this.currentLogin={username:r.me.username,userId:r.userId,authToken:r.authToken,result:r},this.client.headers={"X-Auth-Token":r.authToken,"X-User-Id":r.userId},[2,r]}}))}))},c.prototype.logout=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.currentLogin?[4,this.post("logout",{},!0)]:[2,null];case 1:return e=t.sent(),this.userId="",this.currentLogin=null,[2,e]}}))}))},c.prototype.prepareMessage=function(e,t,r){return new s.Message(e,n({rid:t,roomId:t},r))},c}(a.EventEmitter);e.default=c}(api$1);var __extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$5.apply(this,arguments)},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},__generator$4=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Livechat,"__esModule",{value:!0});var api_1=__importDefault$5(api$1),ApiLivechat=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.credentials={},t}return __extends$5(t,e),t.prototype.login=function(e){return this.grantVisitor(e)},t.prototype.config=function(e){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(t){switch(t.label){case 0:return[4,this.get("livechat/config",e,!1)];case 1:return[2,t.sent().config]}}))}))},t.prototype.room=function(e){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(t){switch(t.label){case 0:return[4,this.get("livechat/room",__assign$5({token:this.credentials.token},e),!1)];case 1:return[2,t.sent().room]}}))}))},t.prototype.closeChat=function(e){var t=e.rid;return this.post("livechat/room.close",{rid:t,token:this.credentials.token},!1)},t.prototype.shareScreen=function(e){var t=e.rid,n=e.messageType;return this.post("livechat/room.shareScreen",{rid:t,token:this.credentials.token,messageType:n},!1)},t.prototype.transferChat=function(e){var t=e.rid,n=e.department;return this.post("livechat/room.transfer",{rid:t,token:this.credentials.token,department:n},!1)},t.prototype.chatSurvey=function(e){return this.post("livechat/room.survey",{rid:e.rid,token:this.credentials.token,data:e.data},!1)},t.prototype.visitor=function(){return this.get("livechat/visitor/"+this.credentials.token)},t.prototype.grantVisitor=function(e){return __awaiter$4(this,void 0,void 0,(function(){var t;return __generator$4(this,(function(n){switch(n.label){case 0:return[4,this.post("livechat/visitor",e,!1)];case 1:return t=n.sent().visitor,this.credentials={token:t.token},[2,t]}}))}))},t.prototype.deleteVisitor=function(){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(e){switch(e.label){case 0:return[4,this.del("livechat/visitor/"+this.credentials.token)];case 1:return[2,e.sent().visitor]}}))}))},t.prototype.updateVisitorStatus=function(e){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(t){switch(t.label){case 0:return[4,this.post("livechat/visitor.status",{token:this.credentials.token,status:e})];case 1:return[2,t.sent().status]}}))}))},t.prototype.updateCallStatus=function(e,t,n){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(r){switch(r.label){case 0:return[4,this.post("livechat/visitor.callStatus",{token:this.credentials.token,callStatus:e,rid:t,callId:n})];case 1:return[2,r.sent().callStatus]}}))}))},t.prototype.nextAgent=function(e){return void 0===e&&(e=""),__awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(t){switch(t.label){case 0:return[4,this.get("livechat/agent.next/"+this.credentials.token,{department:e})];case 1:return[2,t.sent().agent]}}))}))},t.prototype.agent=function(e){var t=e.rid;return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(e){switch(e.label){case 0:return[4,this.get("livechat/agent.info/"+t+"/"+this.credentials.token)];case 1:return[2,e.sent().agent]}}))}))},t.prototype.message=function(e,t){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(n){switch(n.label){case 0:return[4,this.get("livechat/message/"+e,__assign$5({token:this.credentials.token},t))];case 1:return[2,n.sent().message]}}))}))},t.prototype.sendMessage=function(e){return this.post("livechat/message",__assign$5({},e,{token:this.credentials.token}),!1)},t.prototype.editMessage=function(e,t){return this.put("livechat/message/"+e,t,!1)},t.prototype.deleteMessage=function(e,t){var n=t.rid;return this.del("livechat/message/"+e,{rid:n,token:this.credentials.token},!1)},t.prototype.loadMessages=function(e,t){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(n){switch(n.label){case 0:return[4,this.get("livechat/messages.history/"+e,__assign$5({},t,{token:this.credentials.token}),!1)];case 1:return[2,n.sent().messages]}}))}))},t.prototype.sendOfflineMessage=function(e){return __awaiter$4(this,void 0,void 0,(function(){return __generator$4(this,(function(t){switch(t.label){case 0:return[4,this.post("livechat/offline.message",__assign$5({},e),!1)];case 1:return[2,t.sent().message]}}))}))},t.prototype.sendVisitorNavigation=function(e){return this.post("livechat/page.visited",__assign$5({},e),!1)},t.prototype.requestTranscript=function(e,t){var n=t.rid;return this.post("livechat/transcript",{token:this.credentials.token,rid:n,email:e},!1)},t.prototype.videoCall=function(e){var t=e.rid;return this.get("livechat/video.call/"+this.credentials.token,{rid:t},!1)},t.prototype.sendCustomField=function(e){return this.post("livechat/custom.field",e,!1)},t.prototype.sendCustomFields=function(e){return this.post("livechat/custom.fields",e,!1)},t.prototype.uploadFile=function(e){var t=new FormData,n={"x-visitor-token":this.credentials.token};return t.append("file",e.file),this.post("livechat/upload/"+e.rid,t,!1,void 0,{customHeaders:n})},t}(api_1.default);Livechat.default=ApiLivechat;var drivers={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),(t=e.Protocols||(e.Protocols={})).MQTT="mqtt",t.DDP="ddp"}(drivers);var ddp={},browser=WebSocket,interfaces={};function isLoginPass(e){return e.user&&e.password&&void 0!==e.user.username&&void 0!==e.password.digest}function isLoginOAuth(e){return e.oath&&void 0!==e.credentialToken&&void 0!==e.credentialSecret}function isLoginAuthenticated(e){return void 0!==e.resume}function isLoginResult(e){return void 0!==e.token}Object.defineProperty(interfaces,"__esModule",{value:!0}),interfaces.isLoginPass=isLoginPass,interfaces.isLoginOAuth=isLoginOAuth,interfaces.isLoginAuthenticated=isLoginAuthenticated,interfaces.isLoginResult=isLoginResult;var util={};function debounce$1(e,t,n){var r;return void 0===t&&(t=100),void 0===n&&(n=!1),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this,a=function(){r=void 0,n||e.apply(s,i)},l=n&&void 0===r;r&&clearTimeout(r),r=setTimeout(a,t),l&&e.apply(s,i)}}function hostToWS(e,t){return void 0===t&&(t=!1),"ws"+(t?"s":"")+"://"+(e=e.replace(/^(https?:\/\/)?/,""))}Object.defineProperty(util,"__esModule",{value:!0}),util.debounce=debounce$1,util.hostToWS=hostToWS;var sha256={exports:{}};
/**
     * [js-sha256]{@link https://github.com/emn178/js-sha256}
     *
     * @version 0.9.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2014-2017
     * @license MIT
     */(function(module){(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var o,s=[],a=e.length,l=0;for(r=0;r<a;++r)(o=e.charCodeAt(r))<128?s[l++]=o:o<2048?(s[l++]=192|o>>6,s[l++]=128|63&o):o<55296||o>=57344?(s[l++]=224|o>>12,s[l++]=128|o>>6&63,s[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++r)),s[l++]=240|o>>18,s[l++]=128|o>>12&63,s[l++]=128|o>>6&63,s[l++]=128|63&o);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(r=0;r<64;++r){var d=e[r]||0;c[r]=92^d,u[r]=54^d}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=e.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,o,s,a,l,c=this.h0,u=this.h1,d=this.h2,h=this.h3,p=this.h4,f=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(l=u&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=y[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,g=(i=y[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&u)^c&d^l,g=h+(i=g+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&f^~p&m)+K[e]+y[e])<<0,h=i+(t+r)<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&c)^h&u^o,m=d+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&f)+K[e+1]+y[e+1])<<0,t=((d=i+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&h)^d&c^s,f=u+(i=f+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&p)+K[e+2]+y[e+2])<<0,t=((u=i+(t+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(l=u&d)^u&h^a,p=c+(i=p+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&g)+K[e+3]+y[e+3])<<0,c=i+(t+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+u<<0,this.h2=this.h2+d<<0,this.h3=this.h3+h<<0,this.h4=this.h4+p<<0,this.h5=this.h5+f<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(l+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||l.push(a>>24&255,a>>16&255,a>>8&255,255&a),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var __extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$4.apply(this,arguments)},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},__generator$3=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},__read$2=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},__spread$1=commonjsGlobal&&commonjsGlobal.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read$2(arguments[t]));return e},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ddp,"__esModule",{value:!0});var universal_websocket_client_1=__importDefault$4(browser),tiny_events_1=lib$1,log_1$3=log;tiny_events_1.EventEmitter.prototype.removeAllListeners=function(e){return e?this._listeners[e]=[]:this._listeners={},[]};var interfaces_1=interfaces,util_1=util,js_sha256_1=sha256.exports,Socket=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this)||this;return r.resume=n,r.sent=0,r.lastPing=Date.now(),r.subscriptions={},r.handlers=[],r.open=function(e){return void 0===e&&(e=r.config.reopen),new Promise((function(t,n){return __awaiter$3(r,void 0,void 0,(function(){var r,i=this;return __generator$3(this,(function(o){switch(o.label){case 0:return this.lastPing=Date.now(),[4,this.close()];case 1:o.sent(),this.reopenInterval&&clearInterval(this.reopenInterval),this.reopenInterval=setInterval((function(){return!i.alive()&&i.reopen()}),e);try{(r=new universal_websocket_client_1.default(this.host)).onerror=n}catch(e){return this.logger.error(e),[2,n(e)]}return this.connection=r,this.connection.onmessage=this.onMessage.bind(this),this.connection.onclose=this.onClose.bind(this),this.connection.onopen=this.onOpen.bind(this,t),[2]}}))}))}))},r.onOpen=function(e){return __awaiter$3(r,void 0,void 0,(function(){var t,n=this;return __generator$3(this,(function(r){switch(r.label){case 0:return[4,this.send({msg:"connect",version:"1",support:["1","pre2","pre1"]})];case 1:return t=r.sent(),this.session=t.session,this.ping().catch((function(e){return n.logger.error("[ddp] Unable to ping server: "+e.message)})),this.emit("open"),this.resume?[4,this.login(this.resume)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2,e(this.connection)]}}))}))},r.onClose=function(e){try{if(r.emit("close",e),1e3!==e.code)return r.reopen();r.reopenInterval&&clearInterval(r.reopenInterval),r.openTimeout&&clearTimeout(r.openTimeout),r.pingTimeout&&clearTimeout(r.pingTimeout),delete r.connection,r.logger.info("[ddp] Close ("+e.code+") "+e.reason)}catch(e){r.logger.error(e)}},r.onMessage=function(e){r.lastPing=Date.now(),r.ping();var t=e.data?JSON.parse(e.data):void 0;if(r.logger.debug(t),!t)return r.logger.error("[ddp] JSON parse error: "+e.message);r.logger.debug("[ddp] messages received: "+e.data),t.collection&&r.emit(t.collection,t),t.msg&&r.emit(t.msg,t)},r.close=function(){return __awaiter$3(r,void 0,void 0,(function(){var e=this;return __generator$3(this,(function(t){switch(t.label){case 0:return this.connected?(this.unsubscribeAll().catch((function(t){return e.logger.debug(t)})),[4,new Promise((function(t){if(e.connection)return e.once("close",t),void e.connection.close(1e3,"disconnect")})).catch(this.logger.error)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2,Promise.resolve()]}}))}))},r.reopen=function(){return __awaiter$3(r,void 0,void 0,(function(){var e=this;return __generator$3(this,(function(t){switch(t.label){case 0:return this.openTimeout?[2]:[4,this.close()];case 1:return t.sent(),this.openTimeout=setTimeout((function(){return __awaiter$3(e,void 0,void 0,(function(){var e=this;return __generator$3(this,(function(t){switch(t.label){case 0:return delete this.openTimeout,[4,this.open().catch((function(t){return e.logger.error("[ddp] Reopen error: "+t.message)}))];case 1:return t.sent(),[2]}}))}))}),this.config.reopen),[2]}}))}))},r.send=function(e){return __awaiter$3(r,void 0,void 0,(function(){var t=this;return __generator$3(this,(function(n){return[2,new Promise((function(n,r){if(!t.connection)throw new Error("[ddp] sending without open connection");var i=e.id||"ddp-"+t.sent;t.sent+=1;var o=__assign$4({},e,/connect|ping|pong/.test(e.msg)?{}:{id:i}),s=JSON.stringify(o);t.logger.debug("[ddp] sending message: "+s),t.connection.send(s),t.once("disconnected",r);var a=("ping"===o.msg?"pong":"connect"===o.msg&&"connected")||o.id;if(!a)return n();t.once(a,(function(o){return t.off("disconnect",r),o.error?r(o.error):n(__assign$4({},/connect|ping|pong/.test(e.msg)?{}:{id:i},o))}))}))]}))}))},r.ping=function(){return __awaiter$3(r,void 0,void 0,(function(){var e=this;return __generator$3(this,(function(t){return this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((function(){e.send({msg:"ping"}).then((function(){return e.ping()})).catch((function(){return e.reopen()}))}),this.config.ping),[2]}))}))},r.alive=function(){return!!r.lastPing&&Date.now()-r.lastPing<=2*r.config.ping},r.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter$3(r,void 0,void 0,(function(){var n,r=this;return __generator$3(this,(function(i){switch(i.label){case 0:return[4,this.send({msg:"method",method:e,params:t}).catch((function(e){throw r.logger.error("[ddp] Call error: "+e.message),e}))];case 1:return[2,(n=i.sent()).result?n.result:n]}}))}))},r.login=function(e){return __awaiter$3(r,void 0,void 0,(function(){var t,n;return __generator$3(this,(function(r){switch(r.label){case 0:return t=this.loginParams(e),n=this,[4,this.call("login",t)];case 1:return n.resume=r.sent(),[4,this.subscribeAll()];case 2:return r.sent(),this.emit("login",this.resume),[2,this.resume]}}))}))},r.loginParams=function(e){return interfaces_1.isLoginPass(e)||interfaces_1.isLoginOAuth(e)||interfaces_1.isLoginAuthenticated(e)?e:interfaces_1.isLoginResult(e)?{resume:e.token}:{user:{username:e.username},password:{digest:js_sha256_1.sha256(e.password),algorithm:"sha-256"}}},r.logout=function(){return r.resume=null,r.unsubscribeAll().then((function(){return r.call("logout")}))},r.onEvent=function(e,t){r.on(e,t)},r.subscribe=function(e,t,n){return r.logger.info("[ddp] Subscribe to "+e+", param: "+JSON.stringify(t)),r.send({msg:"sub",name:e,params:t}).then((function(i){var o=i.subs?i.subs[0]:void 0,s=r.unsubscribe.bind(r,o),a=r.onEvent.bind(r,e),l={id:o,name:e,params:t,unsubscribe:s,onEvent:a};return n&&l.onEvent(n),r.subscriptions[o]=l,l})).catch((function(e){throw r.logger.error("[ddp] Subscribe error: "+e.message),e}))},r.subscribeAll=function(){var e=Object.keys(r.subscriptions||{}).map((function(e){var t=r.subscriptions[e],n=t.name,i=t.params;return r.subscribe(n,i)}));return Promise.all(e)},r.unsubscribe=function(e){return r.subscriptions[e]?(delete r.subscriptions[e],r.send({msg:"unsub",id:e}).then((function(e){return e.result||e.subs})).catch((function(e){if(!e.msg&&"nosub"!==e.msg)throw r.logger.error("[ddp] Unsubscribe error: "+e.message),e}))):Promise.reject(e)},r.unsubscribeAll=function(){var e=Object.keys(r.subscriptions).map((function(e){return r.subscriptions[e].unsubscribe()}));return Promise.all(e).then((function(){return r.subscriptions={}}))},r.logger=t.logger||log_1$3.logger,r.config={host:t.host||"http://localhost:3000",useSsl:t.useSsl||!1,reopen:t.reopen||1e4,ping:t.timeout||3e4},r.host=util_1.hostToWS(r.config.host,r.config.useSsl)+"/websocket",r.on("ping",(function(){r.send({msg:"pong"}).then(r.logger.debug,r.logger.error)})),r.on("result",(function(e){return r.emit(e.id,{id:e.id,result:e.result,error:e.error})})),r.on("ready",(function(e){return r.emit(e.subs[0],e)})),r}return __extends$4(t,e),Object.defineProperty(t.prototype,"connected",{get:function(){return!(!this.connection||1!==this.connection.readyState||!this.alive())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loggedIn",{get:function(){return this.connected&&!!this.resume},enumerable:!0,configurable:!0}),t}(tiny_events_1.EventEmitter);ddp.Socket=Socket;var DDPDriver=function(e){function t(t){void 0===t&&(t={});var n=t.host,r=void 0===n?"localhost:3000":n;t.integrationId;var i=t.config,o=t.logger,s=void 0===o?log_1$3.logger:o,a=__rest$4(t,["host","integrationId","config","logger"]),l=e.call(this)||this;return l.subscriptions={},l.userId="",l.joinedIds=[],l.connect=function(e){if(void 0===e&&(e={}),l.connected)return Promise.resolve(l);var t=__assign$4({},l.config,e);return new Promise((function(e,n){l.logger.info("[driver] Connecting",t),l.subscriptions=l.ddp.subscriptions,l.ddp.open().catch((function(e){l.logger.error("[driver] Failed to connect: "+e.message),n(e)})),l.ddp.on("open",(function(){return l.emit("connected")}));var r=!1,i=setTimeout((function(){l.logger.info("[driver] Timeout ("+t.timeout+")");var e=new Error("Socket connection timeout");r=!0,l.ddp.removeAllListeners("connected"),n(e)}),t.timeout);r||l.once("connected",(function(){if(l.logger.info("[driver] Connected"),r)return l.ddp.close();clearTimeout(i),e(l)}))}))},l.disconnect=function(){return l.ddp.close()},l.subscribe=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return l.logger.info("[DDP driver] Subscribing to "+e+" | "+JSON.stringify(n)),l.ddp.subscribe(e,[t,{useCollection:!1,args:n}])},l.subscribeNotifyAll=function(){return Promise.all(["roles-change","updateEmojiCustom","deleteEmojiCustom","updateAvatar","public-settings-changed","permissions-changed"].map((function(e){return l.subscribe("stream-notify-all",e,!1)})))},l.subscribeLoggedNotify=function(){return Promise.all(["Users:NameChanged","Users:Deleted","updateAvatar","updateEmojiCustom","deleteEmojiCustom","roles-change"].map((function(e){return l.subscribe("stream-notify-logged",e,!1)})))},l.subscribeNotifyUser=function(){return Promise.all(["message","otr","webrtc","notification","rooms-changed","subscriptions-changed","uiInteraction"].map((function(e){return l.subscribe("stream-notify-user",l.userId+"/"+e,!1)})))},l.subscribeRoom=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="stream-notify-room";return Promise.all([l.subscribe.apply(l,__spread$1(["stream-room-messages",e],t)),l.subscribe.apply(l,__spread$1([r,e+"/typing"],t)),l.subscribe.apply(l,__spread$1([r,e+"/deleteMessage"],t))])},l.login=function(e,t){return __awaiter$3(l,void 0,void 0,(function(){var t;return __generator$3(this,(function(n){switch(n.label){case 0:return this.ddp&&this.ddp.connected?[3,2]:[4,this.connect()];case 1:n.sent(),n.label=2;case 2:return this.logger.info("[DDP driver] Login with "+JSON.stringify(e)),[4,this.ddp.login(e)];case 3:return t=n.sent(),this.userId=t.id,[2,t]}}))}))},l.logout=function(){return __awaiter$3(l,void 0,void 0,(function(){return __generator$3(this,(function(e){switch(e.label){case 0:return this.ddp&&this.ddp.connected?[4,this.ddp.logout()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},l.unsubscribe=function(e){return l.ddp.unsubscribe(e.id)},l.unsubscribeAll=function(){return l.ddp.unsubscribeAll()},l.onStreamData=function(e,t){function n(e){t(e)}return Promise.resolve(l.ddp.on(e,n)).then((function(){return{stop:function(){return l.ddp.off(e,n)}}}))},l.onMessage=function(e){l.ddp.on("stream-room-messages",(function(t){var n=__read$2(t.fields.args,1)[0];return e(l.ejsonMessage(n))}))},l.onTyping=function(e){return l.ddp.on("stream-notify-room",(function(t){var n=__read$2(t.fields.args,2),r=n[0],i=n[1];e(r,i)}))},l.notifyVisitorTyping=function(e,t,n,r){return l.ddp.call("stream-notify-room",e+"/typing",t,n,{token:r})},l.notifyCallDeclined=function(e){return l.ddp.call("stream-notify-room",e+"/webrtc","callStatus",{callStatus:"declined"})},l.ejsonMessage=function(e){return e.ts&&(e.ts=new Date(e.ts.$date)),e},l.methodCall=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=l.ddp).call.apply(t,__spread$1([e],n))},l.config=__assign$4({},i,a,{host:r.replace(/(^\w+:|^)\/\//,""),timeout:2e4}),l.ddp=new Socket(__assign$4({},l.config,{logger:s})),l.logger=s,l}return __extends$4(t,e),Object.defineProperty(t.prototype,"connected",{get:function(){return!!this.ddp.connected},enumerable:!0,configurable:!0}),t}(tiny_events_1.EventEmitter);ddp.DDPDriver=DDPDriver;var __extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$3.apply(this,arguments)},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},__generator$2=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},__read$1=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Livechat$1,"__esModule",{value:!0});var Livechat_1$1=__importDefault$3(Livechat),drivers_1$1=drivers,log_1$2=log,LivechatClient=function(e){function t(t){var n=t.logger;t.allPublic,t.rooms,t.integrationId;var r=t.protocol,i=void 0===r?drivers_1$1.Protocols.DDP:r,o=__rest$3(t,["logger","allPublic","rooms","integrationId","protocol"]),s=e.call(this,__assign$3({logger:n},o))||this;return s.livechatStream="stream-livechat-room",s.userId="",s.logger=log_1$2.logger,s.socket=Promise.resolve(),s.import(i,o),s}return __extends$3(t,e),t.prototype.import=function(e,t){var n=this;if(e!==drivers_1$1.Protocols.DDP)throw new Error("Invalid Protocol: "+e+", valids: "+Object.keys(drivers_1$1.Protocols).join());this.socket=Promise.resolve().then((function(){return __importStar$2(ddp)})).then((function(e){return new(0,e.DDPDriver)(__assign$3({logger:n.logger},t))}))},t.prototype.connect=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){var t=this;return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.socket];case 1:return[2,n.sent().connect(e).then((function(){return t.setUpConnection()}))]}}))}))},t.prototype.disconnect=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().disconnect()]}}))}))},t.prototype.unsubscribe=function(e){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().unsubscribe(e)]}}))}))},t.prototype.unsubscribeAll=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().unsubscribeAll()]}}))}))},t.prototype.subscribeNotifyAll=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeNotifyAll()]}}))}))},t.prototype.subscribeLoggedNotify=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeLoggedNotify()]}}))}))},t.prototype.subscribeNotifyUser=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeNotifyUser()]}}))}))},t.prototype.onMessage=function(e){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().onMessage(e)]}}))}))},t.prototype.onTyping=function(e){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().onTyping(e)]}}))}))},t.prototype.onAgentChange=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.subscribe(this.livechatStream,e)];case 1:return n.sent(),[4,this.onStreamData(this.livechatStream,(function(e){var n=__read$1(e.fields.args,1)[0],r=n.type,i=n.data;"agentData"===r&&t(i)}))];case 2:return n.sent(),[2]}}))}))},t.prototype.onAgentStatusChange=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.subscribe(this.livechatStream,e)];case 1:return n.sent(),[4,this.onStreamData(this.livechatStream,(function(e){var n=__read$1(e.fields.args,1)[0],r=n.type,i=n.status;"agentStatus"===r&&t(i)}))];case 2:return n.sent(),[2]}}))}))},t.prototype.onQueuePositionChange=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.subscribe(this.livechatStream,e)];case 1:return n.sent(),[4,this.onStreamData(this.livechatStream,(function(e){var n=__read$1(e.fields.args,1)[0],r=n.type,i=n.data;"queueData"===r&&t(i)}))];case 2:return n.sent(),[2]}}))}))},t.prototype.onVisitorChange=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.subscribe(this.livechatStream,e)];case 1:return n.sent(),[4,this.onStreamData(this.livechatStream,(function(e){var n=__read$1(e.fields.args,1)[0],r=n.type,i=n.visitor;"visitorData"===r&&t(i)}))];case 2:return n.sent(),[2]}}))}))},t.prototype.notifyVisitorTyping=function(e,t,n){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(r){switch(r.label){case 0:return[4,this.socket];case 1:return[2,r.sent().notifyVisitorTyping(e,t,n,this.credentials.token)]}}))}))},t.prototype.notifyCallDeclined=function(e){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().notifyCallDeclined(e)]}}))}))},t.prototype.subscribe=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){var n;return __generator$2(this,(function(r){switch(r.label){case 0:return n=this.credentials.token,[4,this.socket];case 1:return[2,r.sent().subscribe(e,t,{token:n,visitorToken:n})]}}))}))},t.prototype.subscribeRoom=function(e){return __awaiter$2(this,void 0,void 0,(function(){var t;return __generator$2(this,(function(n){switch(n.label){case 0:return t=this.credentials.token,[4,this.socket];case 1:return[2,n.sent().subscribeRoom(e,{token:t,visitorToken:t})]}}))}))},t.prototype.onStreamData=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(n){switch(n.label){case 0:return[4,this.socket];case 1:return[2,n.sent().onStreamData(e,t)]}}))}))},t.prototype.setUpConnection=function(){return __awaiter$2(this,void 0,void 0,(function(){var e;return __generator$2(this,(function(t){switch(t.label){case 0:return e=this.credentials.token,[4,this.socket];case 1:return[2,t.sent().methodCall("livechat:setUpConnection",{token:e})]}}))}))},t}(Livechat_1$1.default);Livechat$1.default=LivechatClient;var Bot={},Rocketchat$1={},RocketChat={};!function(e){var t=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},r=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(api$1);e.userFields={name:1,username:1,status:1,type:1};var s=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return t(o,i),Object.defineProperty(o.prototype,"users",{get:function(){var t=this;return{all:function(n){return void 0===n&&(n=e.userFields),t.get("users.list",{fields:n}).then((function(e){return e.users}))},allNames:function(){return t.get("users.list",{fields:{username:1}}).then((function(e){return e.users.map((function(e){return e.username}))}))},allIDs:function(){return t.get("users.list",{fields:{_id:1}}).then((function(e){return e.users.map((function(e){return e._id}))}))},online:function(n){return void 0===n&&(n=e.userFields),t.get("users.list",{fields:n,query:{status:{$ne:"offline"}}}).then((function(e){return e.users}))},onlineNames:function(){return t.get("users.list",{fields:{username:1},query:{status:{$ne:"offline"}}}).then((function(e){return e.users.map((function(e){return e.username}))}))},onlineIds:function(){return t.get("users.list",{fields:{_id:1},query:{status:{$ne:"offline"}}}).then((function(e){return e.users.map((function(e){return e._id}))}))},info:function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,t.get("users.info",{username:e},!0)];case 1:return[2,n.sent().user]}}))}))}}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rooms",{get:function(){var e=this;return{info:function(t){var n=t.rid;return e.get("rooms.info",{rid:n},!0)}}},enumerable:!0,configurable:!0}),o.prototype.joinRoom=function(e){var t=e.rid;return this.post("channels.join",{roomId:t},!0)},o.prototype.info=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.get("info",{},!0)];case 1:return[2,e.sent().info]}}))}))},o.prototype.sendMessage=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,this.post("chat.sendMessage",{message:this.prepareMessage(e,t)},!0)];case 1:return[2,n.sent().message]}}))}))},o.prototype.getRoomIdByNameOrId=function(e){return this.get("chat.getRoomIdByNameOrId",{name:e},!0)},o.prototype.getRoomNameById=function(e){return this.getRoomName(e)},o.prototype.getRoomName=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.get("chat.getRoomNameById",{rid:e},!0)];case 1:return[2,t.sent().name]}}))}))},o.prototype.getRoomId=function(e){return this.get("chat.find",{name:e},!0)},o.prototype.createDirectMessage=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.post("im.create",{username:e},!0)];case 1:return[2,t.sent().room]}}))}))},o.prototype.editMessage=function(e){return this.post("chat.update",{roomId:e.rid,msgId:e._id,text:e.msg})},o.prototype.setReaction=function(e,t){return this.post("chat.react",{emoji:e,messageId:t},!0)},o.prototype.loadHistory=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,this.get("chat.syncMessages",{roomId:e,lastUpdate:t.toISOString()},!0)];case 1:return[2,n.sent().result]}}))}))},o.prototype.leaveRoom=function(e){return this.post("rooms.leave",{rid:e}).then((function(){return e}))},o.prototype.channelInfo=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.get("channels.info",e,!0)];case 1:return[2,t.sent().channel]}}))}))},o.prototype.privateInfo=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.get("groups.info",e,!0)];case 1:return[2,t.sent().group]}}))}))},o}(o.default);e.default=s}(RocketChat);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$2.apply(this,arguments)},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},__generator$1=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},__read=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},__spread=commonjsGlobal&&commonjsGlobal.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Rocketchat$1,"__esModule",{value:!0});var drivers_1=drivers,RocketChat_1=__importDefault$2(RocketChat),log_1$1=log,RocketChatClient=function(e){function t(t){var n=t.logger;t.allPublic,t.rooms,t.integrationId;var r=t.protocol,i=void 0===r?drivers_1.Protocols.DDP:r,o=__rest$2(t,["logger","allPublic","rooms","integrationId","protocol"]),s=e.call(this,__assign$2({},o,{logger:n}))||this;if(s.userId="",s.logger=log_1$1.logger,s.logger=n,i!==drivers_1.Protocols.DDP)throw new Error("Invalid Protocol: "+i+", valids: "+Object.keys(drivers_1.Protocols).join());return s.socket=Promise.resolve().then((function(){return __importStar$1(ddp)})).then((function(e){return new(0,e.DDPDriver)(__assign$2({},o,{logger:n}))})),s}return __extends$2(t,e),t.prototype.resume=function(e){var t=e.token;return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().login({token:t},{})]}}))}))},t.prototype.login=function(t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(n){switch(n.label){case 0:return[4,e.prototype.login.call(this,t)];case 1:return n.sent(),[2,this.currentLogin&&this.resume({token:this.currentLogin.authToken})]}}))}))},t.prototype.connect=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().connect(e)]}}))}))},t.prototype.disconnect=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().disconnect()]}}))}))},t.prototype.onStreamData=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(n){switch(n.label){case 0:return[4,this.socket];case 1:return[2,n.sent().onStreamData(e,t)]}}))}))},t.prototype.subscribe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter$1(this,void 0,void 0,(function(){var n;return __generator$1(this,(function(r){switch(r.label){case 0:return[4,this.socket];case 1:return[2,(n=r.sent()).subscribe.apply(n,__spread([e],t))]}}))}))},t.prototype.unsubscribe=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().unsubscribe(e)]}}))}))},t.prototype.unsubscribeAll=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().unsubscribeAll()]}}))}))},t.prototype.subscribeRoom=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter$1(this,void 0,void 0,(function(){var n;return __generator$1(this,(function(r){switch(r.label){case 0:return[4,this.socket];case 1:return[2,(n=r.sent()).subscribeRoom.apply(n,__spread([e],t))]}}))}))},t.prototype.subscribeNotifyAll=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeNotifyAll()]}}))}))},t.prototype.subscribeLoggedNotify=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeLoggedNotify()]}}))}))},t.prototype.subscribeNotifyUser=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){switch(e.label){case 0:return[4,this.socket];case 1:return[2,e.sent().subscribeNotifyUser()]}}))}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.socket.then((function(e){return e.config.host}))},enumerable:!0,configurable:!0}),t.prototype.onMessage=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.socket];case 1:return[2,t.sent().onMessage(e)]}}))}))},t.prototype.methodCall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter$1(this,void 0,void 0,(function(){var n;return __generator$1(this,(function(r){switch(r.label){case 0:return[4,this.socket];case 1:return[2,(n=r.sent()).methodCall.apply(n,__spread([e],t))]}}))}))},t}(RocketChat_1.default);Rocketchat$1.default=RocketChatClient;var mem$1={exports:{}},mimicFn$2={exports:{}};const mimicFn$1=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};mimicFn$2.exports=mimicFn$1,mimicFn$2.exports.default=mimicFn$1;var pIsPromise={exports:{}};const isPromise$1=e=>e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch;pIsPromise.exports=isPromise$1,pIsPromise.exports.default=isPromise$1;var dist={exports:{}},pDefer=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};!function(e,t){var n=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},r=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(pDefer);function o(e,t="maxAge"){let r,o,s;const a=()=>n(this,void 0,void 0,(function*(){if(void 0!==r)return;const a=a=>n(this,void 0,void 0,(function*(){s=i.default();const n=a[1][t]-Date.now();return n<=0?(e.delete(a[0]),void s.resolve()):(r=a[0],o=setTimeout((()=>{e.delete(a[0]),s&&s.resolve()}),n),"function"==typeof o.unref&&o.unref(),s.promise)}));try{for(const t of e)yield a(t)}catch(e){}r=void 0})),l=e.set.bind(e);return e.set=(t,n)=>{e.has(t)&&e.delete(t);const i=l(t,n);return r&&r===t&&(r=void 0,void 0!==o&&(clearTimeout(o),o=void 0),void 0!==s&&(s.reject(void 0),s=void 0)),a(),i},a(),e}t.default=o,e.exports=o,e.exports.default=o}(dist,dist.exports);const mimicFn=mimicFn$2.exports,isPromise=pIsPromise.exports,mapAgeCleaner=dist.exports,cacheStore=new WeakMap,defaultCacheKey=(...e)=>{if(0===e.length)return"__defaultKey";if(1===e.length){const[t]=e;if(null==t||"function"!=typeof t&&"object"!=typeof t)return t}return JSON.stringify(e)},mem=(e,t)=>{"number"==typeof(t=Object.assign({cacheKey:defaultCacheKey,cache:new Map,cachePromiseRejection:!1},t)).maxAge&&mapAgeCleaner(t.cache);const{cache:n}=t;t.maxAge=t.maxAge||0;const r=function(...r){const i=t.cacheKey(...r);if(n.has(i))return n.get(i).data;const o=e.call(this,...r);return((e,r)=>{n.set(e,{data:r,maxAge:Date.now()+t.maxAge})})(i,o),isPromise(o)&&!1===t.cachePromiseRejection&&o.catch((()=>n.delete(i))),o};try{mimicFn(r,e)}catch(e){}return cacheStore.set(r,t.cache),r};mem$1.exports=mem,mem$1.exports.default=mem,mem$1.exports.clear=e=>{const t=cacheStore.get(e);t&&"function"==typeof t.clear&&t.clear()};var __extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign$1.apply(this,arguments)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bot,"__esModule",{value:!0});var log_1=log,Rocketchat_1$1=__importDefault$1(Rocketchat$1),mem_1=__importDefault$1(mem$1.exports),MY_MESSAGES="__my_messages__",TOPIC_MESSAGES="stream-room-messages",BotClient=function(e){function t(t){var n=t.allPublic,r=void 0!==n&&n,i=t.integrationId,o=t.cachedMethods,s=void 0===o?["channelInfo","privateInfo","getRoomIdByNameOrId","getRoomId","getRoomName","getRoomNameById","getDirectMessageRoomId"]:o,a=__rest$1(t,["allPublic","integrationId","cachedMethods"]),l=e.call(this,__assign$1({},a,{allPublic:r}))||this;return l.lastReadTime=new Date(-864e13),l.joinedIds=[],l.messages=null,l.integrationId=i,s.forEach((function(e){l[e]&&(l[e]=mem_1.default(l[e].bind(l),{maxAge:36e5}).bind(l))})),l}return __extends$1(t,e),t.prototype.connect=function(t,n){return __awaiter(this,void 0,void 0,(function(){var r,i,o,s;return __generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,e.prototype.connect.call(this,t)];case 1:return r=a.sent(),n?(i=n,o=[null],[4,this.socket]):[3,3];case 2:i.apply(void 0,o.concat([a.sent()])),a.label=3;case 3:return[2,r];case 4:return s=a.sent(),n&&n(s,this),[2,Promise.reject(s)];case 5:return[2]}}))}))},t.prototype.unsubscribeAll=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return delete this.messages,[2,e.prototype.unsubscribeAll.call(this)]}))}))},t.prototype.subscribeToMessages=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return this.messages?[3,2]:(e=this,[4,this.subscribe(TOPIC_MESSAGES,MY_MESSAGES)]);case 1:e.messages=t.sent(),t.label=2;case 2:return[2,this.messages]}}))}))},t.prototype.reactToMessages=function(e,t){return __awaiter(this,void 0,void 0,(function(){var t,n,r=this;return __generator(this,(function(i){switch(i.label){case 0:return t=function(t){try{var n=t.fields.args[0];n&&n._id?e(null,n,{}):e(new Error("Message handler fired on event without message or meta data"))}catch(t){r.logger.error("[driver] Message handler err: "+t.message),e(t)}},n=this,[4,this.subscribeToMessages()];case 1:return n.messages=i.sent(),this.messages.onEvent(t),[2]}}))}))},t.prototype.respondToMessages=function(e,t){return void 0===t&&(t={}),__awaiter(this,void 0,void 0,(function(){var n,r,i=this;return __generator(this,(function(o){switch(o.label){case 0:if(!(!(n=__assign$1({},this.config,t)).allPublic&&0===this.joinedIds.length&&n.rooms&&n.rooms.length>0))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.joinRooms(n.rooms)];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.error("[driver] Failed to join configured rooms ("+n.rooms.join(", ")+"): "+r.message),[3,4];case 4:return[2,this.reactToMessages((function(t,r,o){return __awaiter(i,void 0,void 0,(function(){var i,s,a;return __generator(this,(function(l){switch(l.label){case 0:if(t)return log_1.logger.error("[driver] Unable to receive: "+t.message),[2,e(t)];if(void 0===r)return log_1.logger.error("[driver] Message or meta undefined"),[2,e(t)];if(r.u&&r.u._id===this.userId)return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.rooms.info({rid:r.rid})];case 2:return i=l.sent(),"d"===i.t&&!n.dm?[2]:"l"===i.t&&!n.livechat?[2]:[3,4];case 3:return s=l.sent(),console.log(s),[3,4];case 4:return a=r.ts?new Date(r.ts.$date):new Date,!n.edited&&r.editedAt?[2]:(a<this.lastReadTime||(this.lastReadTime=a,e(null,r,o)),[2])}}))}))}))]}}))}))},t.prototype.getRoomId=function(e){return this.getRoomIdByNameOrId(e)},t.prototype.joinRoom=function(t){var n=t.rid;return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getRoomId(n)];case 1:if(t=r.sent(),-1!==this.joinedIds.indexOf(n))throw log_1.logger.error("[driver] Join room failed, already joined"),new Error("[driver] Join room failed, already joined");return[4,e.prototype.joinRoom.call(this,{rid:t})];case 2:return r.sent(),this.joinedIds.push(t),[2,t]}}))}))},t.prototype.leaveRoom=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getRoomId(e)];case 1:if(t=r.sent(),-1===(n=this.joinedIds.indexOf(e)))throw this.logger.error("[driver] Leave room failed, bot has not joined "+e),new Error("[driver] Leave room failed, bot has not joined "+e);return[4,this.leaveRoom(t)];case 2:return r.sent(),delete this.joinedIds[n],[2,t]}}))}))},t.prototype.joinRooms=function(e){var t=this;return Promise.all(e.map((function(e){return t.joinRoom({rid:e})})))},t.prototype.sendToRoomId=function(e,t){var n=this;return Array.isArray(e)?Promise.all(e.map((function(e){return n.sendMessage(e,t)}))):this.sendMessage(e,t)},t.prototype.sendToRoom=function(e,t){var n=this;return this.getRoomId(t).then((function(t){return n.sendToRoomId(e,t)}))},t.prototype.sendDirectToUser=function(e,t){var n=this;return this.getDirectMessageRoomId(t).then((function(t){return n.sendToRoomId(e,t)}))},t.prototype.getDirectMessageRoomId=function(e){return this.createDirectMessage(e).then((function(e){return e._id}))},t}(Rocketchat_1$1.default);Bot.default=BotClient;var __importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sdk,"__esModule",{value:!0});var settings$1=__importStar(settings$2);sdk.settings=settings$1;var Livechat_1=__importDefault(Livechat$1);sdk.Livechat=Livechat_1.default;var Bot_1=__importDefault(Bot);sdk.Bot=Bot_1.default;var Rocketchat_1=__importDefault(Rocketchat$1),Rocketchat=sdk.Rocketchat=Rocketchat_1.default;
/*! js-cookie v3.0.1 | MIT */
function assign(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var defaultConverter={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,t){function n(n,r,i){if("undefined"!=typeof document){"number"==typeof(i=assign({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+o}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(s,a),t===a)break}catch(e){}}return t?r[t]:r}},remove:function(e,t){n(e,"",assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign({},this.attributes,e))},withConverter:function(e){return init(assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"}),RC_USER_TOKEN_COOKIE="rc_token",RC_USER_ID_COOKIE="rc_uid",RC_USER_NAME_COOKIE="rc_username";function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString}=Object.prototype,{getPrototypeOf:getPrototypeOf}=Object,kindOf=(cache=Object.create(null),e=>{const t=toString.call(e);return cache[t]||(cache[t]=t.slice(8,-1).toLowerCase())});var cache;const kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=e=>null!==e&&"object"==typeof e,isBoolean=e=>!0===e||!1===e,isPlainObject$1=e=>{if("object"!==kindOf(e))return!1;const t=getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$1(e)&&isFunction(e.pipe),isFormData=e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),isArray(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function findKey$1(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge$1(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(n,r)=>{const i=e&&findKey$1(t,r)||r;isPlainObject$1(t[i])&&isPlainObject$1(n)?t[i]=merge$1(t[i],n):isPlainObject$1(n)?t[i]=merge$1({},n):isArray(n)?t[i]=n.slice():t[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&forEach(arguments[e],n);return t}const extend=(e,t,n,{allOwnKeys:r}={})=>(forEach(t,((t,r)=>{n&&isFunction(t)?e[r]=bind(t,n):e[r]=t}),{allOwnKeys:r}),e),stripBOM=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array),e=>TypedArray&&e instanceof TypedArray);var TypedArray;const forEachEntry=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll=(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};forEach(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,((t,n)=>{if(isFunction(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];isFunction(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet=(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return isArray(e)?r(e):r(String(e).split(t)),n},noop$2=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT:DIGIT,ALPHA:ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),n=(e,r)=>{if(isObject$1(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=isArray(e)?[]:{};return forEach(e,((e,t)=>{const o=n(e,r+1);!isUndefined(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)};var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isBoolean:isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$1,isUndefined:isUndefined,isDate:isDate$1,isFile:isFile,isBlob:isBlob,isRegExp:isRegExp,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isTypedArray:isTypedArray,isFileList:isFileList,forEach:forEach,merge:merge$1,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:isHTMLForm,hasOwnProperty:hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors:reduceDescriptors,freezeMethods:freezeMethods,toObjectSet:toObjectSet,toCamelCase:toCamelCase,noop:noop$2,toFiniteNumber:toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined:isContextDefined,ALPHABET:ALPHABET,generateString:generateString,isSpecCompliantForm:isSpecCompliantForm,toJSONObject:toJSONObject};function AxiosError(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{descriptors[e]={value:e}})),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(e,t,n,r,i,o)=>{const s=Object.create(prototype$1);return utils.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),AxiosError.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var httpAdapter=null;function isVisitable(e){return utils.isPlainObject(e)||utils.isArray(e)}function removeBrackets(e){return utils.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map((function(e,t){return e=removeBrackets(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function isFlatArray(e){return utils.isArray(e)&&!e.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,(function(e){return/^is[A-Z]/.test(e)}));function toFormData(e,t,n){if(!utils.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=utils.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!utils.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&utils.isSpecCompliantForm(t);if(!utils.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(utils.isDate(e))return e.toISOString();if(!a&&utils.isBlob(e))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(e)||utils.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(utils.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(utils.isArray(e)&&isFlatArray(e)||utils.isFileList(e)||utils.endsWith(n,"[]")&&(a=utils.toArray(e)))return n=removeBrackets(n),a.forEach((function(e,r){!utils.isUndefined(e)&&null!==e&&t.append(!0===s?renderKey([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!isVisitable(e)||(t.append(renderKey(i,n,o),l(e)),!1)}const u=[],d=Object.assign(predicates,{defaultVisitor:c,convertValue:l,isVisitable:isVisitable});if(!utils.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!utils.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),utils.forEach(n,(function(n,o){!0===(!(utils.isUndefined(n)||null===n)&&i.call(t,n,utils.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const r=n&&n.encode||encode,i=n&&n.serialize;let o;if(o=i?i(t,n):utils.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}prototype.append=function(e,t){this._pairs.push([e,t])},prototype.toString=function(e){const t=e?function(t){return e.call(this,t,encode$1)}:encode$1;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class InterceptorManager{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1="undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData;const isStandardBrowserEnv=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob},isStandardBrowserEnv:isStandardBrowserEnv,isStandardBrowserWebWorkerEnv:isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return platform.isNode&&utils.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function arrayToObject(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function formDataToJSON(e){function t(e,n,r,i){let o=e[i++];const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&utils.isArray(r)?r.length:o,a)return utils.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&utils.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&utils.isArray(r[o])&&(r[o]=arrayToObject(r[o])),!s}if(utils.isFormData(e)&&utils.isFunction(e.entries)){const n={};return utils.forEachEntry(e,((e,r)=>{t(parsePropPath(e),r,n,0)})),n}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(e,t,n){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=utils.isObject(e);i&&utils.isHTMLForm(e)&&(e=new FormData(e));if(utils.isFormData(e))return r&&r?JSON.stringify(formDataToJSON(e)):e;if(utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((o=utils.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return toFormData(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults$1.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&utils.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function(e){defaults$1.headers[e]={}})),utils.forEach(["post","put","patch"],(function(e){defaults$1.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)}));var defaults$2=defaults$1;const ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ignoreDuplicateOf[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t};const $internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:utils.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function isValidHeaderName(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function matchHeaderValue(e,t,n,r){return utils.isFunction(r)?r.call(this,t,n):utils.isString(t)?utils.isString(r)?-1!==t.indexOf(r):utils.isRegExp(r)?r.test(t):void 0:void 0}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}function buildAccessors(e,t){const n=utils.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=normalizeHeader(t);if(!i)throw new Error("header name must be a non-empty string");const o=utils.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=normalizeValue(e))}const o=(e,t)=>utils.forEach(e,((e,n)=>i(e,n,t)));return utils.isPlainObject(e)||e instanceof this.constructor?o(e,t):utils.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?o(parseHeaders(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=normalizeHeader(e)){const n=utils.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return parseTokens(e);if(utils.isFunction(t))return t.call(this,e,n);if(utils.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){const n=utils.findKey(this,e);return!(!n||t&&!matchHeaderValue(this,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=normalizeHeader(e)){const i=utils.findKey(n,e);!i||t&&!matchHeaderValue(n,n[i],i,t)||(delete n[i],r=!0)}}return utils.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!matchHeaderValue(this,this[i],i,e)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return utils.forEach(this,((r,i)=>{const o=utils.findKey(n,i);if(o)return t[o]=normalizeValue(r),void delete t[i];const s=e?formatHeader(i):String(i).trim();s!==i&&delete t[i],t[s]=normalizeValue(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return utils.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&utils.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[$internals]=this[$internals]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=normalizeHeader(e);t[r]||(buildAccessors(n,e),t[r]=!0)}return utils.isArray(e)?e.forEach(r):r(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils.freezeMethods(AxiosHeaders.prototype),utils.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const n=this||defaults$2,r=t||n,i=AxiosHeaders$1.from(r.headers);let o=r.data;return utils.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function isCancel(e){return!(!e||!e.__CANCEL__)}function CanceledError(e,t,n){AxiosError.call(this,null==e?"canceled":e,AxiosError.ERR_CANCELED,t,n),this.name="CanceledError"}function settle(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});var cookies=platform.isStandardBrowserEnv?{write:function(e,t,n,r,i,o){const s=[];s.push(e+"="+encodeURIComponent(t)),utils.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),utils.isString(r)&&s.push("path="+r),utils.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}var isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=utils.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}function progressEventReducer(e,t){let n=0;const r=speedometer(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const isXHRAdapterSupported="undefined"!=typeof XMLHttpRequest;var xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise((function(t,n){let r=e.data;const i=AxiosHeaders$1.from(e.headers).normalize(),o=e.responseType;let s;function a(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}utils.isFormData(r)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const c=buildFullPath(e.baseURL,e.url);function u(){if(!l)return;const r=AxiosHeaders$1.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());settle((function(e){t(e),a()}),(function(e){n(e),a()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),buildURL(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new AxiosError(t,r.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,l)),l=null},platform.isStandardBrowserEnv){const t=(e.withCredentials||isURLSameOrigin(c))&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&utils.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),utils.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&"json"!==o&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(n(!t||t.type?new CanceledError(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const d=parseProtocol(c);d&&-1===platform.protocols.indexOf(d)?n(new AxiosError("Unsupported protocol "+d+":",AxiosError.ERR_BAD_REQUEST,e)):l.send(r||null)}))};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var adapters={getAdapter:e=>{e=utils.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=utils.isString(n)?knownAdapters[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new AxiosError(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(utils.hasOwnProp(knownAdapters,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!utils.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return adapters.getAdapter(e.adapter||defaults$2.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,e.transformResponse,t),t.headers=AxiosHeaders$1.from(t.headers),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,e.transformResponse,t.response),t.response.headers=AxiosHeaders$1.from(t.response.headers))),Promise.reject(t)}))}const headersToObject=e=>e instanceof AxiosHeaders$1?e.toJSON():e;function mergeConfig(e,t){t=t||{};const n={};function r(e,t,n){return utils.isPlainObject(e)&&utils.isPlainObject(t)?utils.merge.call({caseless:n},e,t):utils.isPlainObject(t)?utils.merge({},t):utils.isArray(t)?t.slice():t}function i(e,t,n){return utils.isUndefined(t)?utils.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!utils.isUndefined(t))return r(void 0,t)}function s(e,t){return utils.isUndefined(t)?utils.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(headersToObject(e),headersToObject(t),!0)};return utils.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);utils.isUndefined(s)&&o!==a||(n[r]=s)})),n}const VERSION="1.3.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{validators$1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const deprecatedWarnings={};function assertOptions(e,t,n){if("object"!=typeof e)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new AxiosError("option "+o+" must be "+n,AxiosError.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}validators$1.transitional=function(e,t,n){function r(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new AxiosError(r(i," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!deprecatedWarnings[i]&&(deprecatedWarnings[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var validator={assertOptions:assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=mergeConfig(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let o;void 0!==n&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),void 0!==r&&validator.assertOptions(r,{encode:validators.function,serialize:validators.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),o=i&&utils.merge(i.common,i[t.method]),o&&utils.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=AxiosHeaders$1.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[dispatchRequest.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=dispatchRequest.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return buildURL(buildFullPath((e=mergeConfig(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}utils.forEach(["delete","get","head","options"],(function(e){Axios.prototype[e]=function(t,n){return this.request(mergeConfig(n||{},{method:e,url:t,data:(n||{}).data}))}})),utils.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(mergeConfig(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)}));var Axios$1=Axios;class CancelToken{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new CanceledError(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new CancelToken((function(t){e=t}));return{token:t,cancel:e}}}var CancelToken$1=CancelToken;function spread(e){return function(t){return e.apply(null,t)}}function isAxiosError(e){return utils.isObject(e)&&!0===e.isAxiosError}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach((([e,t])=>{HttpStatusCode[t]=e}));var HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),n=bind(Axios$1.prototype.request,t);return utils.extend(n,Axios$1.prototype,t,{allOwnKeys:!0}),utils.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return createInstance(mergeConfig(e,t))},n}const axios=createInstance(defaults$2);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils.isHTMLForm(e)?new FormData(e):e),axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;var axios$1=axios,axiosInstance=axios$1.create({timeout:1e4,responseType:"json",headers:{"Content-Type":"application/json"}});axiosInstance.interceptors.request.use((function(e){return __awaiter$5(void 0,void 0,void 0,(function(){return __generator$5(this,(function(t){return e.headers=__assign$6(__assign$6({},e.headers),{"X-Auth-Token":api.get(RC_USER_TOKEN_COOKIE),"X-User-Id":api.get(RC_USER_ID_COOKIE)}),[2,e]}))}))})),axiosInstance.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)}));var get$1=function(e,t){var n={params:t};return axiosInstance.get(e,n).then((function(e){return e.data}))},post=function(e,t,n){return axiosInstance.post(e,t,n).then((function(e){return e.data}))},Uploader=function(){function e(){this.store=new Map}return e.prototype.getFile=function(e){var t=this.store.get(e);return null==t?void 0:t.file},e.prototype.add=function(e,t){this.store.set(e,t)},e.prototype.remove=function(e){this.store.delete(e)},e.prototype.cancel=function(e){var t=this.store.get(e);t&&(t.controller.abort(),this.store.delete(e))},e}(),EventType;!function(e){e.TYPING="typing",e.DELETE_MESSAGE="deleteMessage"}(EventType||(EventType={}));var RcService=function(){function e(e){this.host=e.host,this.rid=e.rId,this.dmUid=e.dmUid,this.dmUsername=e.dmUsername,this.uploaderStore=new Uploader,this.rcClient=new Rocketchat({protocol:"ddp",host:this.host,useSsl:!/http:\/\//.test(this.host)})}return e.prototype.getHost=function(){return this.host},e.prototype.getCookies=function(){return{rc_token:api.get(RC_USER_TOKEN_COOKIE),rc_uid:api.get(RC_USER_ID_COOKIE),rc_username:api.get(RC_USER_NAME_COOKIE)}},e.prototype.setCookies=function(e,t,n){api.set(RC_USER_TOKEN_COOKIE,t||""),api.set(RC_USER_ID_COOKIE,e||""),api.set(RC_USER_NAME_COOKIE,n||"")},e.prototype.realtime=function(e,t,n){return __awaiter$5(this,void 0,void 0,(function(){return __generator$5(this,(function(r){switch(r.label){case 0:return r.trys.push([0,7,,9]),[4,this.rcClient.connect({})];case 1:return r.sent(),[4,this.rcClient.resume({token:api.get(RC_USER_TOKEN_COOKIE)||""})];case 2:return r.sent(),[4,this.rcClient.subscribe("stream-room-messages",e)];case 3:return r.sent(),[4,this.rcClient.onMessage((function(e){e=__assign$6(__assign$6({},e),{ts:e.ts?e.ts.toISOString():null,unread:(null==e?void 0:e.unread)||!1}),t(e)}))];case 4:return r.sent(),[4,this.rcClient.subscribeRoom(e)];case 5:return r.sent(),[4,this.rcClient.onStreamData("stream-notify-room",(function(t){var r=t.fields,i=r.eventName,o=r.args,s=i.split("/"),a=s[0],l=s[1];a===e&&(l===EventType.TYPING&&o[0]===api.get(RC_USER_NAME_COOKIE)||n(l,o))}))];case 6:case 8:return r.sent(),[3,9];case 7:return r.sent(),[4,this.close()];case 9:return[2]}}))}))},e.prototype.sendIsTyping=function(e,t){return this.rcClient.methodCall("stream-notify-room",e+"/typing",api.get(RC_USER_NAME_COOKIE),t)},e.prototype.readMessages=function(e){return this.rcClient.methodCall("readMessages",e)},e.prototype.close=function(){return __awaiter$5(this,void 0,void 0,(function(){return __generator$5(this,(function(e){switch(e.label){case 0:return this.rcClient?[4,this.rcClient.unsubscribeAll()]:[2];case 1:return e.sent(),[4,this.rcClient.disconnect()];case 2:return e.sent(),[2]}}))}))},e.prototype.getMessages=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=20),get$1("".concat(this.host,"/api/v1/im.messages?roomId=").concat(e,"&count=").concat(n,"&offset=").concat(t))},e.prototype.markAsRead=function(e){return post("".concat(this.host,"/api/v1/subscriptions.read"),{rid:e})},e.prototype.sendMessage=function(e,t){return post("".concat(this.host,"/api/v1/chat.sendMessage"),{message:{rid:e,msg:t}})},e.prototype.deleteMessage=function(e,t){return post("".concat(this.host,"/api/v1/chat.delete"),{roomId:e,msgId:t,asUser:!0})},e.prototype.me=function(){return get$1("".concat(this.host,"/api/v1/me"))},e.prototype.getRoomInfo=function(e){return get$1("".concat(this.host,"/api/v1/rooms.info?roomId=").concat(e)).then((function(e){return e.room}))},e.prototype.autoDiscoverImRoom=function(e){return __awaiter$5(this,void 0,void 0,(function(){var t,n,r,i;return __generator$5(this,(function(o){switch(o.label){case 0:t=api.get(RC_USER_ID_COOKIE),r=t+(n=e),i=n+t,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.any([this.getRoomInfo(r),this.getRoomInfo(i)])];case 2:return[2,o.sent()];case 3:throw o.sent();case 4:return[2]}}))}))},e.prototype.getUploadingFile=function(e){return this.uploaderStore.getFile(e)},e.prototype.abortUpload=function(e){this.uploaderStore.cancel(e)},e.prototype.uploadFile=function(e,t,n,r){var i=new AbortController;return this.uploaderStore.add(e,{file:n,controller:i}),post("".concat(this.host,"/api/v1/rooms.upload/").concat(t),{file:n},{signal:i.signal,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){r(e,t)}}).then((function(t){return{id:e,res:t}})).catch((function(t){throw{id:e,e:t}}))},e.prototype.createImRoom=function(){if(!this.dmUsername)throw new Error("Username is not defined");return post("".concat(this.host,"/api/v1/im.create"),{username:this.dmUsername}).then((function(e){return e.room}))},e}();function getDefaults$1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let defaults=getDefaults$1();function changeDefaults(e){defaults=e}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>escapeReplacements[e];function escape$2(e,t){if(t){if(escapeTest.test(e))return e.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(e))return e.replace(escapeReplaceNoEncode,getEscapeReplacement);return e}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape$2(e){return e.replace(unescapeTest,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(caret,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(e,t,n){if(e){let e;try{e=decodeURIComponent(unescape$2(n)).replace(nonWordAndColonTest,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!originIndependentUrl.test(n)&&(n=resolveUrl(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(e,t){baseUrls[" "+e]||(justDomain.test(e)?baseUrls[" "+e]=e+"/":baseUrls[" "+e]=rtrim(e,"/",!0));const n=-1===(e=baseUrls[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(protocol,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(domain,"$1")+t:e+t}const noopTest={exec:function(){}};function merge(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function splitCells(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function rtrim(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function findClosingBracket(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function checkSanitizeDeprecation(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function repeatString(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function outputLink(e,t,n,r){const i=t.href,o=t.title?escape$2(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:escape$2(s)}}function indentCodeCompensation(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}class Tokenizer{constructor(e){this.options=e||defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rtrim(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=indentCodeCompensation(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=rtrim(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,s,a,l,c,u,d,h,p,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const y=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=y.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(o=2,h=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(u))&&!s.test(u)&&!t.test(u)&&!r.test(e);){if(u.search(/[^ ]/)>=o||!u.trim())h+="\n"+u.slice(o);else{if(a)break;if(c.search(/[^ ]/)>=4)break;if(i.test(c))break;if(s.test(c))break;if(r.test(c))break;h+="\n"+u}a||u.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(o)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(i="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:h}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const v=g.items.length;for(s=0;s<v;s++)if(this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]),!g.loose){const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));g.loose=t}if(g.loose)for(s=0;s<v;s++)g.items[s].loose=!0;return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):escape$2(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:splitCells(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,o,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=splitCells(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,r=0;r<s;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(s=e.rows.length,r=0;r<s;r++)for(o=e.rows[r],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:escape$2(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):escape$2(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=rtrim(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=findClosingBracket(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),outputLink(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return outputLink(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const t=e.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=escape$2(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=escape$2(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=escape$2(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=escape$2(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=escape$2(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):escape$2(n[0]):n[0]:escape$2(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}[.)])/,block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex(),block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal=merge({},block),block.gfm=merge({},block.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.pedantic=merge({},block.normal,{html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function smartypants(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}inline._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",inline.punctuation=edit(inline.punctuation).replace(/punctuation/g,inline._punctuation).getRegex(),inline.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,inline.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,inline._comment=edit(block._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),inline.emStrong.lDelim=edit(inline.emStrong.lDelim).replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"g").replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"g").replace(/punct/g,inline._punctuation).getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex(),inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex(),inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()}),inline.gfm=merge({},inline.normal,{escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks=merge({},inline.gfm,{br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Lexer{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||defaults,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:block.normal,inline:inline.normal};this.options.pedantic?(t.block=block.pedantic,t.inline=inline.pedantic):this.options.gfm&&(t.block=block.gfm,this.options.breaks?t.inline=inline.breaks:t.inline=inline.gfm),this.tokenizer.rules=t}static get rules(){return{block:block,inline:inline}}static lex(e,t){return new Lexer(t).lex(e)}static lexInline(e,t){return new Lexer(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,mangle))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,mangle))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,smartypants))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Renderer{constructor(e){this.options=e||defaults}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+escape$2(r)+'">'+(n?e:escape$2(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:escape$2(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+r.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class TextRenderer{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Parser{constructor(e){this.options=e||defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(e,t){return new Parser(t).parse(e)}static parseInline(e,t){return new Parser(t).parseInline(e)}parse(e,t=!0){let n,r,i,o,s,a,l,c,u,d,h,p,f,m,g,y,v,b,_,w="";const $=e.length;for(n=0;n<$;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(_=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))w+=_||"";else switch(d.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(d.tokens),d.depth,unescape$2(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),u="",o=d.rows.length,r=0;r<o;r++){for(a=d.rows[r],l="",s=a.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(a[i].tokens),{header:!1,align:d.align[i]});u+=this.renderer.tablerow(l)}w+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),w+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,o=d.items.length,u="",r=0;r<o;r++)g=d.items[r],y=g.checked,v=g.task,m="",g.task&&(b=this.renderer.checkbox(y),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,v,y);w+=this.renderer.list(u,h,p);continue;case"html":w+=this.renderer.html(d.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<$&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);w+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let n,r,i,o="";const s=e.length;for(n=0;n<s;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}function marked(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),checkSanitizeDeprecation(t=merge({},marked.defaults,t||{})),n){const r=t.highlight;let i;try{i=Lexer.lex(e,t)}catch(e){return n(e)}const o=function(e){let o;if(!e)try{t.walkTokens&&marked.walkTokens(i,t.walkTokens),o=Parser.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();let s=0;return marked.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}function r(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+escape$2(e.message+"",!0)+"</pre>";throw e}try{const n=Lexer.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(marked.walkTokens(n,t.walkTokens)).then((()=>Parser.parse(n,t))).catch(r);marked.walkTokens(n,t.walkTokens)}return Parser.parse(n,t)}catch(e){r(e)}}marked.options=marked.setOptions=function(e){return merge(marked.defaults,e),changeDefaults(marked.defaults),marked},marked.getDefaults=getDefaults$1,marked.defaults=defaults,marked.use=function(...e){const t=marked.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n=merge({},e);if(n.async=marked.defaults.async||n.async,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=marked.defaults.renderer||new Renderer;for(const n in e.renderer){const r=t[n];t[n]=(...i)=>{let o=e.renderer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.renderer=t}if(e.tokenizer){const t=marked.defaults.tokenizer||new Tokenizer;for(const n in e.tokenizer){const r=t[n];t[n]=(...i)=>{let o=e.tokenizer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.tokenizer=t}if(e.walkTokens){const t=marked.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}marked.setOptions(n)}))},marked.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(marked,r)),r.type){case"table":for(const e of r.header)n=n.concat(marked.walkTokens(e.tokens,t));for(const e of r.rows)for(const r of e)n=n.concat(marked.walkTokens(r.tokens,t));break;case"list":n=n.concat(marked.walkTokens(r.items,t));break;default:marked.defaults.extensions&&marked.defaults.extensions.childTokens&&marked.defaults.extensions.childTokens[r.type]?marked.defaults.extensions.childTokens[r.type].forEach((function(e){n=n.concat(marked.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(marked.walkTokens(r.tokens,t)))}return n},marked.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");checkSanitizeDeprecation(t=merge({},marked.defaults,t||{}));try{const n=Lexer.lexInline(e,t);return t.walkTokens&&marked.walkTokens(n,t.walkTokens),Parser.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+escape$2(e.message+"",!0)+"</pre>";throw e}},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.Tokenizer=Tokenizer,marked.Slugger=Slugger,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,Parser.parse,Lexer.lex;var purify={exports:{}};
/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */!function(e,t){e.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,i,o){return r=n()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o},r.apply(null,arguments)}function i(e){return o(e)||s(e)||a(e)||c()}function o(e){if(Array.isArray(e))return l(e)}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,d=Object.setPrototypeOf,h=Object.isFrozen,p=Object.getPrototypeOf,f=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,y=Object.create,v="undefined"!=typeof Reflect&&Reflect,b=v.apply,_=v.construct;b||(b=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),_||(_=function(e,t){return r(e,i(t))});var w=C(Array.prototype.forEach),$=C(Array.prototype.pop),S=C(Array.prototype.push),x=C(String.prototype.toLowerCase),E=C(String.prototype.toString),O=C(String.prototype.match),k=C(String.prototype.replace),A=C(String.prototype.indexOf),P=C(String.prototype.trim),T=C(RegExp.prototype.test),R=I(TypeError);function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(e,t,r)}}function I(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(e,n)}}function D(e,t,n){n=n||x,d&&d(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var o=n(i);o!==i&&(h(t)||(t[r]=o),i=o)}e[i]=!0}return e}function L(e){var t,n=y(null);for(t in e)!0===b(u,e,[t])&&(n[t]=e[t]);return n}function M(e,t){for(;null!==e;){var n=f(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=p(e)}function r(e){return console.warn("fallback value for",e),null}return r}var N=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),q=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=m(["#text"]),B=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Z=g(/<%[\w\W]*|[\w\W]*%>/gm),Q=g(/\${[\w\W]*}/gm),X=g(/^data-[\-\w.\u00B7-\uFFFF]/),Y=g(/^aria-[\-\w]+$/),J=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),re=function(){return"undefined"==typeof window?null:window},ie=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re(),n=function(e){return oe(e)};if(n.version="2.4.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,h=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,p=t.HTMLFormElement,f=t.DOMParser,g=t.trustedTypes,y=c.prototype,v=M(y,"cloneNode"),b=M(y,"nextSibling"),_=M(y,"childNodes"),C=M(y,"parentNode");if("function"==typeof a){var I=o.createElement("template");I.content&&I.content.ownerDocument&&(o=I.content.ownerDocument)}var se=ie(g,r),ae=se?se.createHTML(""):"",le=o,ce=le.implementation,ue=le.createNodeIterator,de=le.createDocumentFragment,he=le.getElementsByTagName,pe=r.importNode,fe={};try{fe=L(o).documentMode?o.documentMode:{}}catch(e){}var me={};n.isSupported="function"==typeof C&&ce&&void 0!==ce.createHTMLDocument&&9!==fe;var ge,ye,ve=K,be=Z,_e=Q,we=X,$e=Y,Se=ee,xe=te,Ee=J,Oe=null,ke=D({},[].concat(i(N),i(j),i(F),i(U),i(H))),Ae=null,Pe=D({},[].concat(i(B),i(W),i(G),i(V))),Te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Ce=null,Ie=!0,De=!0,Le=!1,Me=!1,Ne=!1,je=!1,Fe=!1,ze=!1,Ue=!1,qe=!1,He=!0,Be=!1,We="user-content-",Ge=!0,Ve=!1,Ke={},Ze=null,Qe=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xe=null,Ye=D({},["audio","video","img","source","image","track"]),Je=null,et=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xhtml",it=rt,ot=!1,st=null,at=D({},[tt,nt,rt],E),lt=["application/xhtml+xml","text/html"],ct="text/html",ut=null,dt=o.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},pt=function(t){ut&&ut===t||(t&&"object"===e(t)||(t={}),t=L(t),ge=ge=-1===lt.indexOf(t.PARSER_MEDIA_TYPE)?ct:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ge?E:x,Oe="ALLOWED_TAGS"in t?D({},t.ALLOWED_TAGS,ye):ke,Ae="ALLOWED_ATTR"in t?D({},t.ALLOWED_ATTR,ye):Pe,st="ALLOWED_NAMESPACES"in t?D({},t.ALLOWED_NAMESPACES,E):at,Je="ADD_URI_SAFE_ATTR"in t?D(L(et),t.ADD_URI_SAFE_ATTR,ye):et,Xe="ADD_DATA_URI_TAGS"in t?D(L(Ye),t.ADD_DATA_URI_TAGS,ye):Ye,Ze="FORBID_CONTENTS"in t?D({},t.FORBID_CONTENTS,ye):Qe,Re="FORBID_TAGS"in t?D({},t.FORBID_TAGS,ye):{},Ce="FORBID_ATTR"in t?D({},t.FORBID_ATTR,ye):{},Ke="USE_PROFILES"in t&&t.USE_PROFILES,Ie=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Le=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,ze=t.RETURN_DOM||!1,Ue=t.RETURN_DOM_FRAGMENT||!1,qe=t.RETURN_TRUSTED_TYPE||!1,Fe=t.FORCE_BODY||!1,He=!1!==t.SANITIZE_DOM,Be=t.SANITIZE_NAMED_PROPS||!1,Ge=!1!==t.KEEP_CONTENT,Ve=t.IN_PLACE||!1,Ee=t.ALLOWED_URI_REGEXP||Ee,it=t.NAMESPACE||rt,t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(De=!1),Ue&&(ze=!0),Ke&&(Oe=D({},i(H)),Ae=[],!0===Ke.html&&(D(Oe,N),D(Ae,B)),!0===Ke.svg&&(D(Oe,j),D(Ae,W),D(Ae,V)),!0===Ke.svgFilters&&(D(Oe,F),D(Ae,W),D(Ae,V)),!0===Ke.mathMl&&(D(Oe,U),D(Ae,G),D(Ae,V))),t.ADD_TAGS&&(Oe===ke&&(Oe=L(Oe)),D(Oe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ae===Pe&&(Ae=L(Ae)),D(Ae,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&D(Je,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ze===Qe&&(Ze=L(Ze)),D(Ze,t.FORBID_CONTENTS,ye)),Ge&&(Oe["#text"]=!0),Ne&&D(Oe,["html","head","body"]),Oe.table&&(D(Oe,["tbody"]),delete Re.tbody),m&&m(t),ut=t)},ft=D({},["mi","mo","mn","ms","mtext"]),mt=D({},["foreignobject","desc","title","annotation-xml"]),gt=D({},["title","style","font","a","script"]),yt=D({},j);D(yt,F),D(yt,z);var vt=D({},U);D(vt,q);var bt=function(e){var t=C(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=x(e.tagName),r=x(t.tagName);return!!st[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===rt?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===r||ft[r]):Boolean(yt[n]):e.namespaceURI===tt?t.namespaceURI===rt?"math"===n:t.namespaceURI===nt?"math"===n&&mt[r]:Boolean(vt[n]):e.namespaceURI===rt?!(t.namespaceURI===nt&&!mt[r])&&!(t.namespaceURI===tt&&!ft[r])&&!vt[n]&&(gt[n]||!yt[n]):!("application/xhtml+xml"!==ge||!st[e.namespaceURI]))},_t=function(e){S(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},wt=function(e,t){try{S(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){S(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ae[e])if(ze||Ue)try{_t(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},$t=function(e){var t,n;if(Fe)e="<remove></remove>"+e;else{var r=O(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&it===rt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=se?se.createHTML(e):e;if(it===rt)try{t=(new f).parseFromString(i,ge)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=ot?ae:i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),it===rt?he.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:s},St=function(e){return ue.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},xt=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Et=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Ot=function(e,t,r){me[e]&&w(me[e],(function(e){e.call(n,t,r,ut)}))},kt=function(e){var t;if(Ot("beforeSanitizeElements",e,null),xt(e))return _t(e),!0;if(T(/[\u0080-\uFFFF]/,e.nodeName))return _t(e),!0;var r=ye(e.nodeName);if(Ot("uponSanitizeElement",e,{tagName:r,allowedTags:Oe}),e.hasChildNodes()&&!Et(e.firstElementChild)&&(!Et(e.content)||!Et(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return _t(e),!0;if("select"===r&&T(/<template/i,e.innerHTML))return _t(e),!0;if(!Oe[r]||Re[r]){if(!Re[r]&&Pt(r)){if(Te.tagNameCheck instanceof RegExp&&T(Te.tagNameCheck,r))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(r))return!1}if(Ge&&!Ze[r]){var i=C(e)||e.parentNode,o=_(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(v(o[s],!0),b(e))}return _t(e),!0}return e instanceof c&&!bt(e)?(_t(e),!0):"noscript"!==r&&"noembed"!==r||!T(/<\/no(script|embed)/i,e.innerHTML)?(Me&&3===e.nodeType&&(t=e.textContent,t=k(t,ve," "),t=k(t,be," "),t=k(t,_e," "),e.textContent!==t&&(S(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ot("afterSanitizeElements",e,null),!1):(_t(e),!0)},At=function(e,t,n){if(He&&("id"===t||"name"===t)&&(n in o||n in dt))return!1;if(De&&!Ce[t]&&T(we,t));else if(Ie&&T($e,t));else if(!Ae[t]||Ce[t]){if(!(Pt(e)&&(Te.tagNameCheck instanceof RegExp&&T(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&T(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&T(Te.tagNameCheck,n)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))))return!1}else if(Je[t]);else if(T(Ee,k(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(n,"data:")||!Xe[e])if(Le&&!T(Se,k(n,xe,"")));else if(n)return!1;return!0},Pt=function(e){return e.indexOf("-")>0},Tt=function(t){var r,i,o,s;Ot("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae};for(s=a.length;s--;){var c=r=a[s],u=c.name,d=c.namespaceURI;if(i="value"===u?r.value:P(r.value),o=ye(u),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Ot("uponSanitizeAttribute",t,l),i=l.attrValue,!l.forceKeepAttr&&(wt(u,t),l.keepAttr))if(T(/\/>/i,i))wt(u,t);else{Me&&(i=k(i,ve," "),i=k(i,be," "),i=k(i,_e," "));var h=ye(t.nodeName);if(At(h,o,i)){if(!Be||"id"!==o&&"name"!==o||(wt(u,t),i=We+i),se&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(d);else switch(g.getAttributeType(h,o)){case"TrustedHTML":i=se.createHTML(i);break;case"TrustedScriptURL":i=se.createScriptURL(i)}try{d?t.setAttributeNS(d,u,i):t.setAttribute(u,i),$(n.removed)}catch(e){}}}}Ot("afterSanitizeAttributes",t,null)}},Rt=function e(t){var n,r=St(t);for(Ot("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ot("uponSanitizeShadowNode",n,null),kt(n)||(n.content instanceof s&&e(n.content),Tt(n));Ot("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(i){var o,a,c,u,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ot=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!Et(i)){if("function"!=typeof i.toString)throw R("toString is not a function");if("string"!=typeof(i=i.toString()))throw R("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof i)return t.toStaticHTML(i);if(Et(i))return t.toStaticHTML(i.outerHTML)}return i}if(je||pt(h),n.removed=[],"string"==typeof i&&(Ve=!1),Ve){if(i.nodeName){var p=ye(i.nodeName);if(!Oe[p]||Re[p])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof l)1===(a=(o=$t("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!ze&&!Me&&!Ne&&-1===i.indexOf("<"))return se&&qe?se.createHTML(i):i;if(!(o=$t(i)))return ze?null:qe?ae:""}o&&Fe&&_t(o.firstChild);for(var f=St(Ve?i:o);c=f.nextNode();)3===c.nodeType&&c===u||kt(c)||(c.content instanceof s&&Rt(c.content),Tt(c),u=c);if(u=null,Ve)return i;if(ze){if(Ue)for(d=de.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return Ae.shadowroot&&(d=pe.call(r,d,!0)),d}var m=Ne?o.outerHTML:o.innerHTML;return Ne&&Oe["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&T(ne,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Me&&(m=k(m,ve," "),m=k(m,be," "),m=k(m,_e," ")),se&&qe?se.createHTML(m):m},n.setConfig=function(e){pt(e),je=!0},n.clearConfig=function(){ut=null,je=!1},n.isValidAttribute=function(e,t,n){ut||pt({});var r=ye(e),i=ye(t);return At(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],S(me[e],t))},n.removeHook=function(e){if(me[e])return $(me[e])},n.removeHooks=function(e){me[e]&&(me[e]=[])},n.removeAllHooks=function(){me={}},n}var se=oe();return se}()}(purify);var DOMPurify=purify.exports;function styleInject(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var css_248z$f=".message a {\n\n    --tw-text-opacity: 1;\n\n    color: rgb(2 132 199 / var(--tw-text-opacity));\n\n    text-decoration-line: underline\n}\n\n.message a:hover {\n\n    text-decoration-line: none\n}\n",getRandomValues;styleInject(css_248z$f,{insertAt:"top"});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return"string"==typeof e&&REGEX.test(e)}for(var byteToHex=[],i$3=0,_nodeId,_clockseq;i$3<256;++i$3)byteToHex.push((i$3+256).toString(16).substr(1));function stringify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}var _lastMSecs=0,_lastNSecs=0;function v1(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||_nodeId,s=void 0!==e.clockseq?e.clockseq:_clockseq;if(null==o||null==s){var a=e.random||(e.rng||rng)();null==o&&(o=_nodeId=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=_clockseq=16383&(a[6]<<8|a[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,u=l-_lastMSecs+(c-_lastNSecs)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||l>_lastMSecs)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=l,_lastNSecs=c,_clockseq=s;var d=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=255&d;var h=l/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var p=0;p<6;++p)i[r+p]=o[p];return t||stringify(i)}function parse(e){if(!validate(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function stringToBytes(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=stringToBytes(e)),"string"==typeof r&&(r=parse(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return stringify(s)}try{r.name=e}catch(e){}return r.DNS=DNS,r.URL=URL,r}function md5(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(e),8*e.length))}function md5ToHexEncodedArray(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}function getOutputLength(e){return 14+(e+64>>>9<<4)+1}function wordsToMd5(e,t){e[t>>5]|=128<<t%32,e[getOutputLength(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,l=r,c=i,u=o;n=md5ff(n,r,i,o,e[s],7,-680876936),o=md5ff(o,n,r,i,e[s+1],12,-389564586),i=md5ff(i,o,n,r,e[s+2],17,606105819),r=md5ff(r,i,o,n,e[s+3],22,-1044525330),n=md5ff(n,r,i,o,e[s+4],7,-176418897),o=md5ff(o,n,r,i,e[s+5],12,1200080426),i=md5ff(i,o,n,r,e[s+6],17,-1473231341),r=md5ff(r,i,o,n,e[s+7],22,-45705983),n=md5ff(n,r,i,o,e[s+8],7,1770035416),o=md5ff(o,n,r,i,e[s+9],12,-1958414417),i=md5ff(i,o,n,r,e[s+10],17,-42063),r=md5ff(r,i,o,n,e[s+11],22,-1990404162),n=md5ff(n,r,i,o,e[s+12],7,1804603682),o=md5ff(o,n,r,i,e[s+13],12,-40341101),i=md5ff(i,o,n,r,e[s+14],17,-1502002290),n=md5gg(n,r=md5ff(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=md5gg(o,n,r,i,e[s+6],9,-1069501632),i=md5gg(i,o,n,r,e[s+11],14,643717713),r=md5gg(r,i,o,n,e[s],20,-373897302),n=md5gg(n,r,i,o,e[s+5],5,-701558691),o=md5gg(o,n,r,i,e[s+10],9,38016083),i=md5gg(i,o,n,r,e[s+15],14,-660478335),r=md5gg(r,i,o,n,e[s+4],20,-405537848),n=md5gg(n,r,i,o,e[s+9],5,568446438),o=md5gg(o,n,r,i,e[s+14],9,-1019803690),i=md5gg(i,o,n,r,e[s+3],14,-187363961),r=md5gg(r,i,o,n,e[s+8],20,1163531501),n=md5gg(n,r,i,o,e[s+13],5,-1444681467),o=md5gg(o,n,r,i,e[s+2],9,-51403784),i=md5gg(i,o,n,r,e[s+7],14,1735328473),n=md5hh(n,r=md5gg(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=md5hh(o,n,r,i,e[s+8],11,-2022574463),i=md5hh(i,o,n,r,e[s+11],16,1839030562),r=md5hh(r,i,o,n,e[s+14],23,-35309556),n=md5hh(n,r,i,o,e[s+1],4,-1530992060),o=md5hh(o,n,r,i,e[s+4],11,1272893353),i=md5hh(i,o,n,r,e[s+7],16,-155497632),r=md5hh(r,i,o,n,e[s+10],23,-1094730640),n=md5hh(n,r,i,o,e[s+13],4,681279174),o=md5hh(o,n,r,i,e[s],11,-358537222),i=md5hh(i,o,n,r,e[s+3],16,-722521979),r=md5hh(r,i,o,n,e[s+6],23,76029189),n=md5hh(n,r,i,o,e[s+9],4,-640364487),o=md5hh(o,n,r,i,e[s+12],11,-421815835),i=md5hh(i,o,n,r,e[s+15],16,530742520),n=md5ii(n,r=md5hh(r,i,o,n,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=md5ii(o,n,r,i,e[s+7],10,1126891415),i=md5ii(i,o,n,r,e[s+14],15,-1416354905),r=md5ii(r,i,o,n,e[s+5],21,-57434055),n=md5ii(n,r,i,o,e[s+12],6,1700485571),o=md5ii(o,n,r,i,e[s+3],10,-1894986606),i=md5ii(i,o,n,r,e[s+10],15,-1051523),r=md5ii(r,i,o,n,e[s+1],21,-2054922799),n=md5ii(n,r,i,o,e[s+8],6,1873313359),o=md5ii(o,n,r,i,e[s+15],10,-30611744),i=md5ii(i,o,n,r,e[s+6],15,-1560198380),r=md5ii(r,i,o,n,e[s+13],21,1309151649),n=md5ii(n,r,i,o,e[s+4],6,-145523070),o=md5ii(o,n,r,i,e[s+11],10,-1120210379),i=md5ii(i,o,n,r,e[s+2],15,718787259),r=md5ii(r,i,o,n,e[s+9],21,-343485551),n=safeAdd(n,a),r=safeAdd(r,l),i=safeAdd(i,c),o=safeAdd(o,u)}return[n,r,i,o]}function bytesToWords(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(getOutputLength(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function safeAdd(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function bitRotateLeft(e,t){return e<<t|e>>>32-t}function md5cmn(e,t,n,r,i,o){return safeAdd(bitRotateLeft(safeAdd(safeAdd(t,e),safeAdd(r,o)),i),n)}function md5ff(e,t,n,r,i,o,s){return md5cmn(t&n|~t&r,e,t,i,o,s)}function md5gg(e,t,n,r,i,o,s){return md5cmn(t&r|n&~r,e,t,i,o,s)}function md5hh(e,t,n,r,i,o,s){return md5cmn(t^n^r,e,t,i,o,s)}function md5ii(e,t,n,r,i,o,s){return md5cmn(n^(t|~r),e,t,i,o,s)}var v3=v35("v3",48,md5),v3$1=v3;function v4(e,t,n){var r=(e=e||{}).random||(e.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return stringify(r)}function f$4(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];a[l]=c}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[d][p];for(var f=16;f<80;++f)h[f]=ROTL(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var m=n[0],g=n[1],y=n[2],v=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),$=ROTL(m,5)+f$4(w,g,y,v)+b+t[w]+h[_]>>>0;b=v,v=y,y=ROTL(g,30)>>>0,g=m,m=$}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(e){if(!validate(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var esmBrowser=Object.freeze({__proto__:null,v1:v1,v3:v3$1,v4:v4,v5:v5$1,NIL:nil,version:version,validate:validate,stringify:stringify,parse:parse}),require$$0=getAugmentedNamespace(esmBrowser);function Converter$1(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}Converter$1.prototype.convert=function(e){var t,n,r,i={},o=this.srcAlphabet.length,s=this.dstAlphabet.length,a=e.length,l="string"==typeof e?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<a;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(n=0,r=0,t=0;t<a;t++)(n=n*o+i[t])>=s?(i[r++]=parseInt(n/s,10),n%=s):r>0&&(i[r++]=0);a=r,l=this.dstAlphabet.slice(n,n+1).concat(l)}while(0!==r);return l},Converter$1.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(-1===this.srcAlphabet.indexOf(e[t]))return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase$1(e,t){var n=new Converter(e,t);return function(e){return n.convert(e)}}anyBase$1.BIN="01",anyBase$1.OCT="01234567",anyBase$1.DEC="0123456789",anyBase$1.HEX="0123456789abcdef";var anyBase_1=anyBase$1;const{v4:uuidv4}=require$$0,anyBase=anyBase_1,flickrBase58="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",cookieBase90="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~",baseOptions={consistentLength:!0};let toFlickr;const shortenUUID=(e,t,n)=>{const r=t(e.toLowerCase().replace(/-/g,""));return n&&n.consistentLength?r.padStart(n.shortIdLength,n.paddingChar):r},enlargeUUID=(e,t)=>{const n=t(e).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[n[1],n[2],n[3],n[4],n[5]].join("-")},getShortIdLength=e=>Math.ceil(Math.log(2**128)/Math.log(e));var shortUuid=(()=>{const e=(e,t)=>{const n=e||flickrBase58,r={...baseOptions,...t};if([...new Set(Array.from(n))].length!==n.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");const i=getShortIdLength(n.length),o={shortIdLength:i,consistentLength:r.consistentLength,paddingChar:n[0]},s=anyBase(anyBase.HEX,n),a=anyBase(n,anyBase.HEX),l=()=>shortenUUID(uuidv4(),s,o),c={new:l,generate:l,uuid:uuidv4,fromUUID:e=>shortenUUID(e,s,o),toUUID:e=>enlargeUUID(e,a),alphabet:n,maxLength:i};return Object.freeze(c),c};return e.constants={flickrBase58:flickrBase58,cookieBase90:cookieBase90},e.uuid=uuidv4,e.generate=()=>(toFlickr||(toFlickr=e(flickrBase58).generate),toFlickr()),e})(),classNames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")},getFileUrl=function(e){var t=api.get("rc_uid"),n=api.get("rc_token");return encodeURI("".concat(e,"?rc_uid=").concat(t,"&rc_token=").concat(n))},generateUploader=function(e,t,n){var r=shortUuid("0123456789");return{id:n||r.generate(),name:t.name,ts:Date.now(),progress:0,canReUpload:!1,error:!1,rid:e}},formatToMMSS=function(e){var t=e,n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r;return(r<10?"0"+r:r.toString())+":"+(i<10?"0"+i:i.toString())},useAppDispatch=useDispatch,useAppSelector=useSelector,Context=require$$0$1.createContext(null),themes={TEAL:"teal"},ThemeProvider=function(e){var t=e.children,n=e.theme;return React.createElement(Context.Provider,{value:{theme:n,themes:themes}},t)},useTheme=function(){return require$$0$1.useContext(Context)},renderer=new marked.Renderer;renderer.link=function(e,t,n){return marked.Renderer.prototype.link.call(this,e,t,n).replace("<a","<a target='_blank' rel='noopener noreferrer' ")},marked.use({renderer:renderer});var MessageBody=function(e){var t=e.message,n=useTheme(),r=n.theme,i=n.themes,o=require$$0$1.useMemo((function(){return DOMPurify.sanitize(marked.parse(t.msg),{ADD_ATTR:["target"],FORBID_ATTR:["style"],FORBID_TAGS:["style"]})}),[t.msg]),s=useAppSelector((function(e){return e.user})).user,a=require$$0$1.useMemo((function(){return(null==s?void 0:s._id)===t.u._id}),[null==s?void 0:s._id,t.u._id]);return React.createElement("div",{className:classNames("p-4 pb-2 [&:not(:first-child)]:pt-0 break-words",a?r===i.TEAL?"text-theme-teal-2":"text-sky-900":"text-gray-900"),dangerouslySetInnerHTML:{__html:o}})},css_248z$e="";styleInject(css_248z$e,{insertAt:"top"});const React$c=require$$0__default.default;function ArrowPathIcon$1({title:e,titleId:t,...n},r){return React$c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$c.createElement("title",{id:t},e):null,React$c.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z",clipRule:"evenodd"}))}const ForwardRef$a=React$c.forwardRef(ArrowPathIcon$1);var ArrowPathIcon_1=ForwardRef$a;const React$b=require$$0__default.default;function CheckCircleIcon$3({title:e,titleId:t,...n},r){return React$b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$b.createElement("title",{id:t},e):null,React$b.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"}))}const ForwardRef$9=React$b.forwardRef(CheckCircleIcon$3);var CheckCircleIcon_1$1=ForwardRef$9;const React$a=require$$0__default.default;function DocumentIcon$1({title:e,titleId:t,...n},r){return React$a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$a.createElement("title",{id:t},e):null,React$a.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"}),React$a.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"}))}const ForwardRef$8=React$a.forwardRef(DocumentIcon$1);var DocumentIcon_1=ForwardRef$8;const React$9=require$$0__default.default;function EllipsisHorizontalIcon$1({title:e,titleId:t,...n},r){return React$9.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$9.createElement("title",{id:t},e):null,React$9.createElement("path",{fillRule:"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z",clipRule:"evenodd"}))}const ForwardRef$7=React$9.forwardRef(EllipsisHorizontalIcon$1);var EllipsisHorizontalIcon_1=ForwardRef$7;const React$8=require$$0__default.default;function MicrophoneIcon$1({title:e,titleId:t,...n},r){return React$8.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$8.createElement("title",{id:t},e):null,React$8.createElement("path",{d:"M8.25 4.5a3.75 3.75 0 117.5 0v8.25a3.75 3.75 0 11-7.5 0V4.5z"}),React$8.createElement("path",{d:"M6 10.5a.75.75 0 01.75.75v1.5a5.25 5.25 0 1010.5 0v-1.5a.75.75 0 011.5 0v1.5a6.751 6.751 0 01-6 6.709v2.291h3a.75.75 0 010 1.5h-7.5a.75.75 0 010-1.5h3v-2.291a6.751 6.751 0 01-6-6.709v-1.5A.75.75 0 016 10.5z"}))}const ForwardRef$6=React$8.forwardRef(MicrophoneIcon$1);var MicrophoneIcon_1=ForwardRef$6;const React$7=require$$0__default.default;function PaperAirplaneIcon$1({title:e,titleId:t,...n},r){return React$7.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$7.createElement("title",{id:t},e):null,React$7.createElement("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"}))}const ForwardRef$5=React$7.forwardRef(PaperAirplaneIcon$1);var PaperAirplaneIcon_1=ForwardRef$5;const React$6=require$$0__default.default;function PaperClipIcon$1({title:e,titleId:t,...n},r){return React$6.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$6.createElement("title",{id:t},e):null,React$6.createElement("path",{fillRule:"evenodd",d:"M18.97 3.659a2.25 2.25 0 00-3.182 0l-10.94 10.94a3.75 3.75 0 105.304 5.303l7.693-7.693a.75.75 0 011.06 1.06l-7.693 7.693a5.25 5.25 0 11-7.424-7.424l10.939-10.94a3.75 3.75 0 115.303 5.304L9.097 18.835l-.008.008-.007.007-.002.002-.003.002A2.25 2.25 0 015.91 15.66l7.81-7.81a.75.75 0 011.061 1.06l-7.81 7.81a.75.75 0 001.054 1.068L18.97 6.84a2.25 2.25 0 000-3.182z",clipRule:"evenodd"}))}const ForwardRef$4=React$6.forwardRef(PaperClipIcon$1);var PaperClipIcon_1=ForwardRef$4;const React$5=require$$0__default.default;function XMarkIcon$1({title:e,titleId:t,...n},r){return React$5.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$5.createElement("title",{id:t},e):null,React$5.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const ForwardRef$3=React$5.forwardRef(XMarkIcon$1);var XMarkIcon_1=ForwardRef$3,ArrowPathIcon=ArrowPathIcon_1,CheckCircleIcon$2=CheckCircleIcon_1$1,DocumentIcon=DocumentIcon_1,EllipsisHorizontalIcon=EllipsisHorizontalIcon_1,MicrophoneIcon=MicrophoneIcon_1,PaperAirplaneIcon=PaperAirplaneIcon_1,PaperClipIcon=PaperClipIcon_1,XMarkIcon=XMarkIcon_1;const React$4=require$$0__default.default;function ArrowDownTrayIcon$1({title:e,titleId:t,...n},r){return React$4.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$4.createElement("title",{id:t},e):null,React$4.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ForwardRef$2=React$4.forwardRef(ArrowDownTrayIcon$1);var ArrowDownTrayIcon_1=ForwardRef$2;const React$3=require$$0__default.default;function CheckCircleIcon$1({title:e,titleId:t,...n},r){return React$3.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$3.createElement("title",{id:t},e):null,React$3.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const ForwardRef$1=React$3.forwardRef(CheckCircleIcon$1);var CheckCircleIcon_1=ForwardRef$1;const React$2=require$$0__default.default;function XCircleIcon$1({title:e,titleId:t,...n},r){return React$2.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?React$2.createElement("title",{id:t},e):null,React$2.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const ForwardRef=React$2.forwardRef(XCircleIcon$1);var XCircleIcon_1=ForwardRef,ArrowDownTrayIcon=ArrowDownTrayIcon_1,CheckCircleIcon=CheckCircleIcon_1,XCircleIcon=XCircleIcon_1;function toInteger(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function addMilliseconds(e,t){requiredArgs(2,arguments);var n=toDate(e).getTime(),r=toInteger(t);return new Date(n+r)}var defaultOptions$2={};function getDefaultOptions(){return defaultOptions$2}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function startOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(e,t){requiredArgs(2,arguments);var n=startOfDay(e),r=startOfDay(t),i=n.getTime()-getTimezoneOffsetInMilliseconds(n),o=r.getTime()-getTimezoneOffsetInMilliseconds(r);return Math.round((i-o)/MILLISECONDS_IN_DAY$1)}function isSameDay(e,t){requiredArgs(2,arguments);var n=startOfDay(e),r=startOfDay(t);return n.getTime()===r.getTime()}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function isDate(e){return requiredArgs(1,arguments),e instanceof Date||"object"===_typeof(e)&&"[object Date]"===Object.prototype.toString.call(e)}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&"number"!=typeof e)return!1;var t=toDate(e);return!isNaN(Number(t))}function subMilliseconds(e,t){requiredArgs(2,arguments);var n=toInteger(t);return addMilliseconds(e,-n)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(e){requiredArgs(1,arguments);var t=toDate(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(e){requiredArgs(1,arguments);var t=1,n=toDate(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function getUTCISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=startOfUTCISOWeek(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=startOfUTCISOWeek(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function startOfUTCISOWeekYear(e){requiredArgs(1,arguments);var t=getUTCISOWeekYear(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=startOfUTCISOWeek(n);return r}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),n=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(n/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(e,t){var n,r,i,o,s,a,l,c;requiredArgs(1,arguments);var u=getDefaultOptions(),d=toInteger(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=toDate(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function getUTCWeekYear(e,t){var n,r,i,o,s,a,l,c;requiredArgs(1,arguments);var u=toDate(e),d=u.getUTCFullYear(),h=getDefaultOptions(),p=toInteger(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var m=startOfUTCWeek(f,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var y=startOfUTCWeek(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function startOfUTCWeekYear(e,t){var n,r,i,o,s,a,l,c;requiredArgs(1,arguments);var u=getDefaultOptions(),d=toInteger(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=getUTCWeekYear(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var f=startOfUTCWeek(p,t);return f}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(e,t){requiredArgs(1,arguments);var n=toDate(e),r=startOfUTCWeek(n,t).getTime()-startOfUTCWeekYear(n,t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var formatters$2={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return addLeadingZeros("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):addLeadingZeros(n+1,2)},d:function(e,t){return addLeadingZeros(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return addLeadingZeros(e.getUTCHours()%12||12,t.length)},H:function(e,t){return addLeadingZeros(e.getUTCHours(),t.length)},m:function(e,t){return addLeadingZeros(e.getUTCMinutes(),t.length)},s:function(e,t){return addLeadingZeros(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return addLeadingZeros(Math.floor(r*Math.pow(10,n-3)),t.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return formatters$3.y(e,t)},Y:function(e,t,n,r){var i=getUTCWeekYear(e,r),o=i>0?i:1-i;return"YY"===t?addLeadingZeros(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):addLeadingZeros(o,t.length)},R:function(e,t){return addLeadingZeros(getUTCISOWeekYear(e),t.length)},u:function(e,t){return addLeadingZeros(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return addLeadingZeros(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return addLeadingZeros(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return formatters$3.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return addLeadingZeros(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=getUTCWeek(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):addLeadingZeros(i,t.length)},I:function(e,t,n){var r=getUTCISOWeek(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):addLeadingZeros(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):formatters$3.d(e,t)},D:function(e,t,n){var r=getUTCDayOfYear(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):addLeadingZeros(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return addLeadingZeros(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return addLeadingZeros(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return addLeadingZeros(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?dayPeriodEnum.noon:0===i?dayPeriodEnum.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?dayPeriodEnum.evening:i>=12?dayPeriodEnum.afternoon:i>=4?dayPeriodEnum.morning:dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return formatters$3.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):formatters$3.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):addLeadingZeros(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):addLeadingZeros(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):formatters$3.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):formatters$3.s(e,t)},S:function(e,t){return formatters$3.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(i);case"XXXX":case"XX":return formatTimezone(i);default:return formatTimezone(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(i);case"xxxx":case"xx":return formatTimezone(i);default:return formatTimezone(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(i,":");default:return"GMT"+formatTimezone(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(i,":");default:return"GMT"+formatTimezone(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return addLeadingZeros(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return addLeadingZeros((r._originalDate||e).getTime(),t.length)}};function formatTimezoneShort(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+addLeadingZeros(o,2)}function formatTimezoneWithOptionalMinutes(e,t){return e%60==0?(e>0?"-":"+")+addLeadingZeros(Math.abs(e)/60,2):formatTimezone(e,t)}function formatTimezone(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+addLeadingZeros(Math.floor(i/60),2)+n+addLeadingZeros(i%60,2)}var formatters$1=formatters,dateLongFormatter=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},timeLongFormatter=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},dateTimeLongFormatter=function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return dateLongFormatter(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",dateLongFormatter(i,t)).replace("{{time}}",timeLongFormatter(o,t))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return-1!==protectedDayOfYearTokens.indexOf(e)}function isProtectedWeekYearToken(e){return-1!==protectedWeekYearTokens.indexOf(e)}function throwProtectedError(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$2=function(e,t,n){var r,i=formatDistanceLocale$1[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatDistance$3=formatDistance$2;function buildFormatLongFn(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var dateFormats$2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$4={date:buildFormatLongFn({formats:dateFormats$2,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$2,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$2,defaultWidth:"full"})},formatLong$5=formatLong$4,formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$3=function(e,t,n,r){return formatRelativeLocale$1[e]},formatRelative$4=formatRelative$3;function buildLocalizeFn(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},localize$2={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})},localize$3=localize$2;function buildMatchFn(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?findIndex(l,(function(e){return e.test(a)})):findKey(l,(function(e){return e.test(a)}));s=e.valueCallback?e.valueCallback(c):c,s=n.valueCallback?n.valueCallback(s):s;var u=t.slice(a.length);return{value:s,rest:u}}}function findKey(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function findIndex(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function buildMatchPatternFn(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(i.length);return{value:s,rest:a}}}var matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$2={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:function(e){return parseInt(e,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},match$3=match$2,locale$2={code:"en-US",formatDistance:formatDistance$3,formatLong:formatLong$5,formatRelative:formatRelative$4,localize:localize$3,match:match$3,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale$2,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(e,t,n){var r,i,o,s,a,l,c,u,d,h,p,f,m,g,y,v,b,_;requiredArgs(2,arguments);var w=String(t),$=getDefaultOptions(),S=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:$.locale)&&void 0!==r?r:defaultLocale,x=toInteger(null!==(o=null!==(s=null!==(a=null!==(l=null==n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null==n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:$.firstWeekContainsDate)&&void 0!==s?s:null===(d=$.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=toInteger(null!==(p=null!==(f=null!==(m=null!==(g=null==n?void 0:n.weekStartsOn)&&void 0!==g?g:null==n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:$.weekStartsOn)&&void 0!==f?f:null===(b=$.locale)||void 0===b||null===(_=b.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==p?p:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var O=toDate(e);if(!isValid(O))throw new RangeError("Invalid time value");var k=getTimezoneOffsetInMilliseconds(O),A=subMilliseconds(O,k),P={firstWeekContainsDate:x,weekStartsOn:E,locale:S,_originalDate:O},T=w.match(longFormattingTokensRegExp).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,longFormatters$1[t])(e,S.formatLong):e})).join("").match(formattingTokensRegExp).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return cleanEscapedString(r);var o=formatters$1[i];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!isProtectedWeekYearToken(r)||throwProtectedError(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!isProtectedDayOfYearToken(r)||throwProtectedError(r,t,String(e)),o(A,r,S.localize,P);if(i.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("");return T}function cleanEscapedString(e){var t=e.match(escapedStringRegExp);return t?t[1].replace(doubleQuoteRegExp,"'"):e}function formatRelative$2(e,t,n){var r,i,o,s,a,l,c,u,d,h;requiredArgs(2,arguments);var p=toDate(e),f=toDate(t),m=getDefaultOptions(),g=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:m.locale)&&void 0!==r?r:defaultLocale,y=toInteger(null!==(o=null!==(s=null!==(a=null!==(l=null==n?void 0:n.weekStartsOn)&&void 0!==l?l:null==n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==s?s:null===(d=m.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==o?o:0);if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");if(!g.formatRelative)throw new RangeError("locale must contain formatRelative property");var v,b=differenceInCalendarDays(p,f);if(isNaN(b))throw new RangeError("Invalid time value");v=b<-6?"other":b<-1?"lastWeek":b<0?"yesterday":b<1?"today":b<2?"tomorrow":b<7?"nextWeek":"other";var _=subMilliseconds(p,getTimezoneOffsetInMilliseconds(p)),w=subMilliseconds(f,getTimezoneOffsetInMilliseconds(f)),$=g.formatRelative(v,_,w,{locale:g,weekStartsOn:y});return format(p,$,{locale:g,weekStartsOn:y})}var formatDistanceLocale={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},formatDistance=function(e,t,n){var r,i=null!=n&&n.addSuffix?formatDistanceLocale[e].withPreposition:formatDistanceLocale[e].standalone;return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},formatDistance$1=formatDistance,dateFormats$1={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},timeFormats$1={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats$1={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong$2={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatLong$3=formatLong$2,formatRelativeLocale={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},formatRelative=function(e,t,n,r){return formatRelativeLocale[e]},formatRelative$1=formatRelative,eraValues={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},formattingMonthValues={narrow:monthValues.narrow,abbreviated:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:monthValues.wide},dayValues={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},dayPeriodValues={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},formattingDayPeriodValues={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},ordinalNumber=function(e){return Number(e)+"."},localize={ordinalNumber:ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues,formattingValues:formattingMonthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize,matchOrdinalNumberPattern=/^(\d+)(\.)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},parseEraPatterns={any:[/^v/i,/^n/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(j[aä]n|feb|mär[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|märz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[aä]/i,/^f/i,/^mär/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},parseDayPatterns={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},parseDayPeriodPatterns={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(e){return parseInt(e)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale$1={code:"de",formatDistance:formatDistance$1,formatLong:formatLong$3,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:1,firstWeekContainsDate:4}},de$2=locale$1,dateFormats={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,locale={code:"en-GB",formatDistance:formatDistance$3,formatLong:formatLong$1,formatRelative:formatRelative$4,localize:localize$3,match:match$3,options:{weekStartsOn:1,firstWeekContainsDate:4}},en$1=locale;function warn(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var alreadyWarned={};function warnOnce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&alreadyWarned[t[0]]||("string"==typeof t[0]&&(alreadyWarned[t[0]]=new Date),warn.apply(void 0,t))}function loadNamespaces(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function oldI18nextHasLoadedNamespace(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!s(r,e)||i&&!s(o,e))))}function hasLoadedNamespace(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return warnOnce("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):oldI18nextHasLoadedNamespace(e,t,n)}var matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=function(e){return htmlEntities[e]},unescape$1=function(e){return e.replace(matchHtmlEntity,unescapeHtmlEntity)};function ownKeys$8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$8(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1},i18nInstance;function setDefaults(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};defaultOptions$1=_objectSpread$8(_objectSpread$8({},defaultOptions$1),e)}function getDefaults(){return defaultOptions$1}function setI18n(e){i18nInstance=e}function getI18n(){return i18nInstance}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var initReactI18next={type:"3rdParty",init:function(e){setDefaults(e.options.react),setI18n(e)}},I18nContext=require$$0$1.createContext(),ReportNamespaces=function(){function e(){_classCallCheck(this,e),this.usedNamespaces={}}return _createClass(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function ownKeys$7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$7(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var usePrevious=function(e,t){var n=require$$0$1.useRef();return require$$0$1.useEffect((function(){n.current=t?n.current:e}),[e,t]),n.current};function useTranslation(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=require$$0$1.useContext(I18nContext)||{},i=r.i18n,o=r.defaultNS,s=n||i||getI18n();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ReportNamespaces),!s){warnOnce("You will need to pass in an i18next instance by using initReactI18next");var a=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=_objectSpread$7(_objectSpread$7(_objectSpread$7({},getDefaults()),s.options.react),t),u=c.useSuspense,d=c.keyPrefix,h=e||o||s.options&&s.options.defaultNS;h="string"==typeof h?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);var p=(s.isInitialized||s.initializedStoreOnce)&&h.every((function(e){return hasLoadedNamespace(e,s,c)}));function f(){return s.getFixedT(null,"fallback"===c.nsMode?h:h[0],d)}var m=require$$0$1.useState(f),g=_slicedToArray(m,2),y=g[0],v=g[1],b=h.join(),_=usePrevious(b),w=require$$0$1.useRef(!0);require$$0$1.useEffect((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){w.current&&v(f)}return w.current=!0,p||u||loadNamespaces(s,h,(function(){w.current&&v(f)})),p&&_&&_!==b&&w.current&&v(f),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){w.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,b]);var $=require$$0$1.useRef(!0);require$$0$1.useEffect((function(){w.current&&!$.current&&v(f),$.current=!1}),[s,d]);var S=[y,s,p];if(S.t=y,S.i18n=s,S.ready=p,p)return S;if(!p&&!u)return S;throw new Promise((function(e){loadNamespaces(s,h,(function(){e()}))}))}function useDateFormatter(){var e=useTranslation(),t=e.t,n=e.i18n;return{format:function(e,t){return format(e,t)},formatRelative:function(e,r,i,o){void 0===o&&(o="");var s="de"===n.language?de$2:en$1;return formatRelative$2(e,r,{weekStartsOn:1,locale:__assign$6(__assign$6({},s),{formatRelative:function(e){switch(e){case"yesterday":return"'"+t("YESTERDAY")+"' "+o;case"today":return"'"+t("TODAY")+"' "+o;case"tomorrow":return"'"+t("TOMORROW")+"' "+o;default:return i+" "+o}}})})}}}var MessageFooter=function(e){var t=e.message,n=useDateFormatter().format,r=useAppSelector((function(e){return e.user})).user,i=useTheme(),o=i.theme,s=i.themes,a=require$$0$1.useMemo((function(){return n(new Date(t.ts),"HH:mm")}),[t.ts]),l=require$$0$1.useMemo((function(){return(null==r?void 0:r._id)===t.u._id}),[null==r?void 0:r._id,t.u._id]),c=require$$0$1.useMemo((function(){return l?o===s.TEAL?"text-theme-teal-1":"text-sky-600":"text-gray-600"}),[o]);return React.createElement("div",{className:classNames("text-xs leading-4 font-normal pb-4 px-4 flex items-center",c)},a,l?React.createElement(React.Fragment,null,!0===(null==t?void 0:t.unread)?React.createElement(CheckCircleIcon,{className:"ml-1 h-4 w-4"}):React.createElement(CheckCircleIcon$2,{className:"ml-1 h-4 w-4"})):null)},css_248z$d="";styleInject(css_248z$d,{insertAt:"top"});var css_248z$c="";styleInject(css_248z$c,{insertAt:"top"});var MessageDivider=function(e){var t=e.message,n=useDateFormatter().formatRelative,r=require$$0$1.useMemo((function(){return n(new Date(t.ts),new Date,"cccc, dd.MM.yyyy","")}),[t.ts]);return require$$0__default.default.createElement("div",{className:"flex mb-2 text-xs font-medium leading-5 basis-full w-100 justify-center align-middle text-gray-500"},require$$0__default.default.createElement("span",null,r))},css_248z$b="";styleInject(css_248z$b,{insertAt:"top"});var css_248z$a="";styleInject(css_248z$a,{insertAt:"top"});var css_248z$9="";
/*!
      * PhotoSwipe Lightbox 5.3.4 - https://photoswipe.com
      * (c) 2022 Dmytro Semenov
      */
function createElement$1(e,t,n){const r=document.createElement(t||"div");return e&&(r.className=e),n&&n.appendChild(r),r}function toTransformString$1(e,t,n){let r="translate3d("+e+"px,"+(t||0)+"px,0)";return void 0!==n&&(r+=" scale3d("+n+","+n+",1)"),r}function setWidthHeight$1(e,t,n){e.style.width="number"==typeof t?t+"px":t,e.style.height="number"==typeof n?n+"px":n}styleInject(css_248z$9,{insertAt:"top"});const LOAD_STATE$1={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function specialKeyUsed$1(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}function getElementsFromOption$1(e,t,n=document){let r=[];if(e instanceof Element)r=[e];else if(e instanceof NodeList||Array.isArray(e))r=Array.from(e);else{const i="string"==typeof e?e:t;i&&(r=Array.from(n.querySelectorAll(i)))}return r}function isPswpClass(e){return"function"==typeof e&&e.prototype&&e.prototype.goTo}function isSafari$1(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class PhotoSwipeEvent$1{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Eventable$1{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,n=100){this._filters[e]||(this._filters[e]=[]),this._filters[e].push({fn:t,priority:n}),this._filters[e].sort(((e,t)=>e.priority-t.priority)),this.pswp&&this.pswp.addFilter(e,t,n)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter((e=>e.fn!==t))),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){return this._filters[e]&&this._filters[e].forEach((e=>{t[0]=e.fn.apply(this,t)})),t[0]}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new PhotoSwipeEvent$1(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}class Placeholder$1{constructor(e,t){this.element=createElement$1("pswp__img pswp__img--placeholder",e?"img":"",t),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&("IMG"===this.element.tagName?(setWidthHeight$1(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=toTransformString$1(0,0,e/250)):setWidthHeight$1(this.element,e,t))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class Content$1{constructor(e,t,n){this.instance=t,this.data=e,this.index=n,this.element=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=LOAD_STATE$1.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)}),1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const e=this.placeholder.element;e&&!e.parentElement&&this.slide.container.prepend(e)}else{const e=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Placeholder$1(e,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=createElement$1("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=createElement$1("pswp__content"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){const t=this.element;this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented||(this.updateSrcsetSizes(),this.data.srcset&&(t.srcset=this.data.srcset),t.src=this.data.src,t.alt=this.data.alt||"",this.state=LOAD_STATE$1.LOADING,t.complete?this.onLoaded():(t.onload=()=>{this.onLoaded()},t.onerror=()=>{this.onError()}))}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=LOAD_STATE$1.LOADED,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==LOAD_STATE$1.LOADED&&this.state!==LOAD_STATE$1.ERROR||this.removePlaceholder())}onError(){this.state=LOAD_STATE$1.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===LOAD_STATE$1.LOADING,this)}isError(){return this.state===LOAD_STATE$1.ERROR}isImageContent(){return"image"===this.type}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(setWidthHeight$1(this.element,e,t),this.isImageContent()&&!this.isError()))){const n=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,n?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==LOAD_STATE$1.ERROR,this)}updateSrcsetSizes(){if(this.data.srcset){const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=null),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let e=createElement$1("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=createElement$1("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached)return;if(this.isAttached=!0,this.state===LOAD_STATE$1.ERROR)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||isSafari$1())?(this.isDecoding=!0,this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=!1,this.appendImage()}))):this.appendImage():this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding&&!isSafari$1()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==LOAD_STATE$1.LOADED&&this.state!==LOAD_STATE$1.ERROR||this.removePlaceholder()))}}function getViewportSize$1(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function parsePaddingOption$1(e,t,n,r,i){let o;if(t.paddingFn)o=t.paddingFn(n,r,i)[e];else if(t.padding)o=t.padding[e];else{const n="padding"+e[0].toUpperCase()+e.slice(1);t[n]&&(o=t[n])}return o||0}function getPanAreaSize$1(e,t,n,r){return{x:t.x-parsePaddingOption$1("left",e,t,n,r)-parsePaddingOption$1("right",e,t,n,r),y:t.y-parsePaddingOption$1("top",e,t,n,r)-parsePaddingOption$1("bottom",e,t,n,r)}}const MAX_IMAGE_WIDTH$1=4e3;class ZoomLevel$1{constructor(e,t,n,r){this.pswp=r,this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const r=this.panAreaSize.x/this.elementSize.x,i=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,r<i?r:i),this.fill=Math.min(1,r>i?r:i),this.vFill=Math.min(1,i),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",n=this.options[t];if(n)return"function"==typeof n?n(this):"fill"===n?this.fill:"fit"===n?this.fit:Number(n)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,3*this.fit),e*this.elementSize.x>MAX_IMAGE_WIDTH$1&&(e=MAX_IMAGE_WIDTH$1/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){const e=this._parseZoomLevelOption("max");return e||Math.max(1,4*this.fit)}}function lazyLoadData$1(e,t,n){const r=t.createContentFromData(e,n);if(!r||!r.lazyLoad)return;const{options:i}=t,o=getPanAreaSize$1(i,t.viewportSize||getViewportSize$1(i,t),e,n),s=new ZoomLevel$1(i,e,-1);return s.update(r.width,r.height,o),r.lazyLoad(),r.setDisplayedSize(Math.ceil(r.width*s.initial),Math.ceil(r.height*s.initial)),r}function lazyLoadSlide$1(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return lazyLoadData$1(n,t,e)}class PhotoSwipeBase$1 extends Eventable$1{getNumItems(){let e;const{dataSource:t}=this.options;t?"length"in t?e=t.length:"gallery"in t&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0;const n=this.dispatch("numItems",{dataSource:t,numItems:e});return this.applyFilters("numItems",n.numItems,t)}createContentFromData(e,t){return new Content$1(e,this,t)}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const i=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",i.itemData,e)}_getGalleryDOMElements(e){return this.options.children||this.options.childSelector?getElementsFromOption$1(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(n){t.src=n.dataset.pswpSrc||n.href,n.dataset.pswpSrcset&&(t.srcset=n.dataset.pswpSrcset),t.width=parseInt(n.dataset.pswpWidth,10),t.height=parseInt(n.dataset.pswpHeight,10),t.w=t.width,t.h=t.height,n.dataset.pswpType&&(t.type=n.dataset.pswpType);const r=e.querySelector("img");r&&(t.msrc=r.currentSrc||r.src,t.alt=r.getAttribute("alt")),(n.dataset.pswpCropped||n.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,n)}lazyLoadData(e,t){return lazyLoadData$1(e,this,t)}}class PhotoSwipeLightbox extends PhotoSwipeBase$1{constructor(e){super(),this.options=e||{},this._uid=0}init(){this.onThumbnailsClick=this.onThumbnailsClick.bind(this),getElementsFromOption$1(this.options.gallery,this.options.gallerySelector).forEach((e=>{e.addEventListener("click",this.onThumbnailsClick,!1)}))}onThumbnailsClick(e){if(specialKeyUsed$1(e)||window.pswp||!1===window.navigator.onLine)return;let t={x:e.clientX,y:e.clientY};t.x||t.y||(t=null);let n=this.getClickedIndex(e);n=this.applyFilters("clickedIndex",n,e,this);const r={gallery:e.currentTarget};n>=0&&(e.preventDefault(),this.loadAndOpen(n,r,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=getElementsFromOption$1(this.options.children,this.options.childSelector,e.currentTarget).findIndex((e=>e===t||e.contains(t)));return-1!==n?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,n){return!window.pswp&&(this.options.index=e,this.options.initialPointerPos=n,this.shouldOpen=!0,this.preload(e,t),!0)}preload(e,t){const{options:n}=this;t&&(n.dataSource=t);const r=[],i=typeof n.pswpModule;if(isPswpClass(n.pswpModule))r.push(Promise.resolve(n.pswpModule));else{if("string"===i)throw new Error("pswpModule as string is no longer supported");if("function"!==i)throw new Error("pswpModule is not valid");r.push(n.pswpModule())}"function"==typeof n.openPromise&&r.push(n.openPromise()),!1!==n.preloadFirstSlide&&e>=0&&(this._preloadedContent=lazyLoadSlide$1(e,this));const o=++this._uid;Promise.all(r).then((e=>{if(this.shouldOpen){const t=e[0];this._openPhotoswipe(t,o)}}))}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const n="object"==typeof e?new e.default(this.options):new e(this.options);this.pswp=n,window.pswp=n,Object.keys(this._listeners).forEach((e=>{this._listeners[e].forEach((t=>{n.on(e,t)}))})),Object.keys(this._filters).forEach((e=>{this._filters[e].forEach((t=>{n.addFilter(e,t.fn,t.priority)}))})),this._preloadedContent&&(n.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=null),n.on("destroy",(()=>{this.pswp=null,window.pswp=null})),n.init()}destroy(){this.pswp&&this.pswp.destroy(),this.shouldOpen=!1,this._listeners=null,getElementsFromOption$1(this.options.gallery,this.options.gallerySelector).forEach((e=>{e.removeEventListener("click",this.onThumbnailsClick,!1)}))}}
/*!
      * PhotoSwipe 5.3.4 - https://photoswipe.com
      * (c) 2022 Dmytro Semenov
      */function createElement(e,t,n){const r=document.createElement(t||"div");return e&&(r.className=e),n&&n.appendChild(r),r}function equalizePoints(e,t){return e.x=t.x,e.y=t.y,void 0!==t.id&&(e.id=t.id),e}function roundPoint(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function getDistanceBetween(e,t){const n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)}function pointsEqual(e,t){return e.x===t.x&&e.y===t.y}function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function toTransformString(e,t,n){let r="translate3d("+e+"px,"+(t||0)+"px,0)";return void 0!==n&&(r+=" scale3d("+n+","+n+",1)"),r}function setTransform(e,t,n,r){e.style.transform=toTransformString(t,n,r)}const defaultCSSEasing="cubic-bezier(.4,0,.22,1)";function setTransitionStyle(e,t,n,r){e.style.transition=t?t+" "+n+"ms "+(r||defaultCSSEasing):"none"}function setWidthHeight(e,t,n){e.style.width="number"==typeof t?t+"px":t,e.style.height="number"==typeof n?n+"px":n}function removeTransitionStyle(e){setTransitionStyle(e)}function decodeImage(e){return"decode"in e?e.decode().catch((()=>{})):e.complete?Promise.resolve(e):new Promise(((t,n)=>{e.onload=()=>t(e),e.onerror=n}))}const LOAD_STATE={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function specialKeyUsed(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}function getElementsFromOption(e,t,n=document){let r=[];if(e instanceof Element)r=[e];else if(e instanceof NodeList||Array.isArray(e))r=Array.from(e);else{const i="string"==typeof e?e:t;i&&(r=Array.from(n.querySelectorAll(i)))}return r}function isSafari(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}let supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{supportsPassive=!0}}))}catch(e){}class DOMEvents{constructor(){this._pool=[]}add(e,t,n,r){this._toggleListener(e,t,n,r)}remove(e,t,n,r){this._toggleListener(e,t,n,r,!0)}removeAll(){this._pool.forEach((e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)})),this._pool=[]}_toggleListener(e,t,n,r,i,o){if(!e)return;const s=i?"removeEventListener":"addEventListener";t.split(" ").forEach((t=>{if(t){o||(i?this._pool=this._pool.filter((r=>r.type!==t||r.listener!==n||r.target!==e)):this._pool.push({target:e,type:t,listener:n,passive:r}));const a=!!supportsPassive&&{passive:r||!1};e[s](t,n,a)}}))}}function getViewportSize(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function parsePaddingOption(e,t,n,r,i){let o;if(t.paddingFn)o=t.paddingFn(n,r,i)[e];else if(t.padding)o=t.padding[e];else{const n="padding"+e[0].toUpperCase()+e.slice(1);t[n]&&(o=t[n])}return o||0}function getPanAreaSize(e,t,n,r){return{x:t.x-parsePaddingOption("left",e,t,n,r)-parsePaddingOption("right",e,t,n,r),y:t.y-parsePaddingOption("top",e,t,n,r)-parsePaddingOption("bottom",e,t,n,r)}}class PanBounds{constructor(e){this.slide=e,this.currZoomLevel=1,this.center={},this.max={},this.min={},this.reset()}update(e){this.currZoomLevel=e,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(e){const{pswp:t}=this.slide,n=this.slide["x"===e?"width":"height"]*this.currZoomLevel,r=parsePaddingOption("x"===e?"left":"top",t.options,t.viewportSize,this.slide.data,this.slide.index),i=this.slide.panAreaSize[e];this.center[e]=Math.round((i-n)/2)+r,this.max[e]=n>i?Math.round(i-n)+r:this.center[e],this.min[e]=n>i?r:this.center[e]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(e,t){return clamp(t,this.max[e],this.min[e])}}const MAX_IMAGE_WIDTH=4e3;class ZoomLevel{constructor(e,t,n,r){this.pswp=r,this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const r=this.panAreaSize.x/this.elementSize.x,i=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,r<i?r:i),this.fill=Math.min(1,r>i?r:i),this.vFill=Math.min(1,i),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",n=this.options[t];if(n)return"function"==typeof n?n(this):"fill"===n?this.fill:"fit"===n?this.fit:Number(n)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,3*this.fit),e*this.elementSize.x>MAX_IMAGE_WIDTH&&(e=MAX_IMAGE_WIDTH/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){const e=this._parseZoomLevelOption("max");return e||Math.max(1,4*this.fit)}}class Slide{constructor(e,t,n){this.data=e,this.index=t,this.pswp=n,this.isActive=t===n.currIndex,this.currentResolution=0,this.panAreaSize={},this.isFirstSlide=this.isActive&&!n.opener.isOpen,this.zoomLevels=new ZoomLevel(n.options,e,t,n),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:t}),this.pan={x:0,y:0},this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=createElement("pswp__zoom-wrap"),this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.bounds=new PanBounds(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(e){e&&!this.isActive?this.activate():!e&&this.isActive&&this.deactivate()}append(e){this.holderElement=e,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}load(){this.content.load(),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:e}=this;!this.heavyAppended&&e.opener.isOpen&&!e.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(e){const t=this.currentResolution||this.zoomLevels.initial;if(!t)return;const n=Math.round(this.width*t)||this.pswp.viewportSize.x,r=Math.round(this.height*t)||this.pswp.viewportSize.y;(this.sizeChanged(n,r)||e)&&this.content.setDisplayedSize(n,r)}sizeChanged(e,t){return(e!==this.prevDisplayedWidth||t!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=e,this.prevDisplayedHeight=t,!0)}getPlaceholderElement(){if(this.content.placeholder)return this.content.placeholder.element}zoomTo(e,t,n,r){const{pswp:i}=this;if(!this.isZoomable()||i.mainScroll.isShifted())return;i.dispatch("beforeZoomTo",{destZoomLevel:e,centerPoint:t,transitionDuration:n}),i.animations.stopAllPan();const o=this.currZoomLevel;r||(e=clamp(e,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(e),this.pan.x=this.calculateZoomToPanOffset("x",t,o),this.pan.y=this.calculateZoomToPanOffset("y",t,o),roundPoint(this.pan);const s=()=>{this._setResolution(e),this.applyCurrentZoomPan()};n?i.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:s,duration:n,easing:i.options.easing}):s()}toggleZoom(e){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,e,this.pswp.options.zoomAnimationDuration)}setZoomLevel(e){this.currZoomLevel=e,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(e,t,n){if(0===this.bounds.max[e]-this.bounds.min[e])return this.bounds.center[e];t||(t=this.pswp.getViewportCenterPoint());const r=this.currZoomLevel/n;return this.bounds.correctPan(e,(this.pan[e]-t[e])*r+t[e])}panTo(e,t){this.pan.x=this.bounds.correctPan("x",e),this.pan.y=this.bounds.correctPan("y",t),this.applyCurrentZoomPan()}isPannable(){return this.width&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return this.width&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),equalizePoints(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(e,t,n){n/=this.currentResolution||this.zoomLevels.initial,setTransform(this.container,e,t,n)}calculateSize(){const{pswp:e}=this;equalizePoints(this.panAreaSize,getPanAreaSize(e.options,e.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),e.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const e=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return toTransformString(this.pan.x,this.pan.y,e)}_setResolution(e){e!==this.currentResolution&&(this.currentResolution=e,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}const PAN_END_FRICTION=.35,VERTICAL_DRAG_FRICTION=.6,MIN_RATIO_TO_CLOSE=.4,MIN_NEXT_SLIDE_SPEED=.5;function project(e,t){return e*t/(1-t)}class DragHandler{constructor(e){this.gestures=e,this.pswp=e.pswp,this.startPan={}}start(){equalizePoints(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:e,prevP1:t,dragAxis:n,pswp:r}=this.gestures,{currSlide:i}=r;if("y"===n&&r.options.closeOnVerticalDrag&&i.currZoomLevel<=i.zoomLevels.fit&&!this.gestures.isMultitouch){const n=i.pan.y+(e.y-t.y);if(!r.dispatch("verticalDrag",{panY:n}).defaultPrevented){this._setPanWithFriction("y",n,VERTICAL_DRAG_FRICTION);const e=1-Math.abs(this._getVerticalDragRatio(i.pan.y));r.applyBgOpacity(e),i.applyCurrentZoomPan()}}else{this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),roundPoint(i.pan),i.applyCurrentZoomPan())}}end(){const{pswp:e,velocity:t}=this.gestures,{mainScroll:n}=e;let r=0;if(e.animations.stopAll(),n.isShifted()){const i=(n.x-n.getCurrSlideX())/e.viewportSize.x;t.x<-MIN_NEXT_SLIDE_SPEED&&i<0||t.x<.1&&i<-.5?(r=1,t.x=Math.min(t.x,0)):(t.x>MIN_NEXT_SLIDE_SPEED&&i>0||t.x>-.1&&i>.5)&&(r=-1,t.x=Math.max(t.x,0)),n.moveIndexBy(r,!0,t.x)}e.currSlide.currZoomLevel>e.currSlide.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(e){const{pswp:t}=this,{currSlide:n}=t,{velocity:r}=this.gestures,{pan:i,bounds:o}=n,s=i[e],a=t.bgOpacity<1&&"y"===e,l=s+project(r[e],.995);if(a){const e=this._getVerticalDragRatio(s),n=this._getVerticalDragRatio(l);if(e<0&&n<-MIN_RATIO_TO_CLOSE||e>0&&n>MIN_RATIO_TO_CLOSE)return void t.close()}const c=o.correctPan(e,l);if(s===c)return;const u=c===l?1:.82,d=t.bgOpacity,h=c-s;t.animations.startSpring({name:"panGesture"+e,isPan:!0,start:s,end:c,velocity:r[e],dampingRatio:u,onUpdate:r=>{if(a&&t.bgOpacity<1){const e=1-(c-r)/h;t.applyBgOpacity(clamp(d+(1-d)*e,0,1))}i[e]=Math.floor(r),n.applyCurrentZoomPan()}})}_panOrMoveMainScroll(e){const{p1:t,pswp:n,dragAxis:r,prevP1:i,isMultitouch:o}=this.gestures,{currSlide:s,mainScroll:a}=n,l=t[e]-i[e],c=a.x+l;if(!l)return;if("x"===e&&!s.isPannable()&&!o)return a.moveTo(c,!0),!0;const{bounds:u}=s,d=s.pan[e]+l;if(n.options.allowPanToNext&&"x"===r&&"x"===e&&!o){const t=a.getCurrSlideX(),n=a.x-t,r=l>0,i=!r;if(d>u.min[e]&&r){if(u.min[e]<=this.startPan[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,d)}else if(d<u.max[e]&&i){if(this.startPan[e]<=u.max[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,d)}else if(0!==n){if(n>0)return a.moveTo(Math.max(c,t),!0),!0;if(n<0)return a.moveTo(Math.min(c,t),!0),!0}else this._setPanWithFriction(e,d)}else"y"===e&&(a.isShifted()||u.min.y===u.max.y)||this._setPanWithFriction(e,d)}_getVerticalDragRatio(e){return(e-this.pswp.currSlide.bounds.center.y)/(this.pswp.viewportSize.y/3)}_setPanWithFriction(e,t,n){const{pan:r,bounds:i}=this.pswp.currSlide;if(i.correctPan(e,t)!==t||n){const i=Math.round(t-r[e]);r[e]+=i*(n||PAN_END_FRICTION)}else r[e]=t}}const UPPER_ZOOM_FRICTION=.05,LOWER_ZOOM_FRICTION=.15;function getZoomPointsCenter(e,t,n){return e.x=(t.x+n.x)/2,e.y=(t.y+n.y)/2,e}class ZoomHandler{constructor(e){this.gestures=e,this.pswp=this.gestures.pswp,this._startPan={},this._startZoomPoint={},this._zoomPoint={}}start(){this._startZoomLevel=this.pswp.currSlide.currZoomLevel,equalizePoints(this._startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:e,startP1:t,p2:n,startP2:r,pswp:i}=this.gestures,{currSlide:o}=i,s=o.zoomLevels.min,a=o.zoomLevels.max;if(!o.isZoomable()||i.mainScroll.isShifted())return;getZoomPointsCenter(this._startZoomPoint,t,r),getZoomPointsCenter(this._zoomPoint,e,n);let l=1/getDistanceBetween(t,r)*getDistanceBetween(e,n)*this._startZoomLevel;if(l>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),l<s)if(i.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const e=1-(s-l)/(s/1.2);i.dispatch("pinchClose",{bgOpacity:e}).defaultPrevented||i.applyBgOpacity(e)}else l=s-(s-l)*LOWER_ZOOM_FRICTION;else l>a&&(l=a+(l-a)*UPPER_ZOOM_FRICTION);o.pan.x=this._calculatePanForZoomLevel("x",l),o.pan.y=this._calculatePanForZoomLevel("y",l),o.setZoomLevel(l),o.applyCurrentZoomPan()}end(){const{pswp:e}=this,{currSlide:t}=e;t.currZoomLevel<t.zoomLevels.initial&&!this._wasOverFitZoomLevel&&e.options.pinchToClose?e.close():this.correctZoomPan()}_calculatePanForZoomLevel(e,t){const n=t/this._startZoomLevel;return this._zoomPoint[e]-(this._startZoomPoint[e]-this._startPan[e])*n}correctZoomPan(e){const{pswp:t}=this,{currSlide:n}=t;if(!n.isZoomable())return;void 0===this._zoomPoint.x&&(e=!0);const r=n.currZoomLevel;let i,o=!0;r<n.zoomLevels.initial?i=n.zoomLevels.initial:r>n.zoomLevels.max?i=n.zoomLevels.max:(o=!1,i=r);const s=t.bgOpacity,a=t.bgOpacity<1,l=equalizePoints({},n.pan);let c=equalizePoints({},l);e&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=r,equalizePoints(this._startPan,l)),o&&(c={x:this._calculatePanForZoomLevel("x",i),y:this._calculatePanForZoomLevel("y",i)}),n.setZoomLevel(i),c={x:n.bounds.correctPan("x",c.x),y:n.bounds.correctPan("y",c.y)},n.setZoomLevel(r);let u=!0;if(pointsEqual(c,l)&&(u=!1),!u&&!o&&!a)return n._setResolution(i),void n.applyCurrentZoomPan();t.animations.stopAllPan(),t.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:e=>{if(e/=1e3,u||o){if(u&&(n.pan.x=l.x+(c.x-l.x)*e,n.pan.y=l.y+(c.y-l.y)*e),o){const t=r+(i-r)*e;n.setZoomLevel(t)}n.applyCurrentZoomPan()}a&&t.bgOpacity<1&&t.applyBgOpacity(clamp(s+(1-s)*e,0,1))},onComplete:()=>{n._setResolution(i),n.applyCurrentZoomPan()}})}}function didTapOnMainContent(e){return!!e.target.closest(".pswp__container")}class TapHandler{constructor(e){this.gestures=e}click(e,t){const n=t.target.classList,r=n.contains("pswp__img"),i=n.contains("pswp__item")||n.contains("pswp__zoom-wrap");r?this._doClickOrTapAction("imageClick",e,t):i&&this._doClickOrTapAction("bgClick",e,t)}tap(e,t){didTapOnMainContent(t)&&this._doClickOrTapAction("tap",e,t)}doubleTap(e,t){didTapOnMainContent(t)&&this._doClickOrTapAction("doubleTap",e,t)}_doClickOrTapAction(e,t,n){const{pswp:r}=this.gestures,{currSlide:i}=r,o=e+"Action",s=r.options[o];if(!r.dispatch(o,{point:t,originalEvent:n}).defaultPrevented)if("function"!=typeof s)switch(s){case"close":case"next":r[s]();break;case"zoom":i.toggleZoom(t);break;case"zoom-or-close":i.isZoomable()&&i.zoomLevels.secondary!==i.zoomLevels.initial?i.toggleZoom(t):r.options.clickToCloseNonZoomable&&r.close();break;case"toggle-controls":this.gestures.pswp.element.classList.toggle("pswp--ui-visible")}else s.call(r,t,n)}}const AXIS_SWIPE_HYSTERISIS=10,DOUBLE_TAP_DELAY=300,MIN_TAP_DISTANCE=25;class Gestures{constructor(e){this.pswp=e,this.dragAxis=void 0,this.p1={},this.p2={},this.prevP1={},this.prevP2={},this.startP1={},this.startP2={},this.velocity={},this._lastStartP1={},this._intervalP1={},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new DragHandler(this),this.zoomLevels=new ZoomHandler(this),this.tapHandler=new TapHandler(this),e.on("bindEvents",(()=>{e.events.add(e.scrollWrap,"click",(e=>this._onClick(e))),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),e.scrollWrap.ontouchmove=()=>{},e.scrollWrap.ontouchend=()=>{}):this._bindEvents("mouse","down","up")}))}_bindEvents(e,t,n,r){const{pswp:i}=this,{events:o}=i,s=r?e+r:"";o.add(i.scrollWrap,e+t,this.onPointerDown.bind(this)),o.add(window,e+"move",this.onPointerMove.bind(this)),o.add(window,e+n,this.onPointerUp.bind(this)),s&&o.add(i.scrollWrap,s,this.onPointerUp.bind(this))}onPointerDown(e){let t;if("mousedown"!==e.type&&"mouse"!==e.pointerType||(t=!0),t&&e.button>0)return;const{pswp:n}=this;n.opener.isOpen?n.dispatch("pointerDown",{originalEvent:e}).defaultPrevented||(t&&(n.mouseDetected(),this._preventPointerEventBehaviour(e)),n.animations.stopAll(),this._updatePoints(e,"down"),this.pointerDown=!0,1===this._numActivePoints&&(this.dragAxis=null,equalizePoints(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1):e.preventDefault()}onPointerMove(e){e.preventDefault(),this._numActivePoints&&(this._updatePoints(e,"move"),this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented||(1!==this._numActivePoints||this.isDragging?this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()):(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,equalizePoints(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()))))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){this._numActivePoints&&(this._updatePoints(e,"up"),this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented||(0===this._numActivePoints&&(this.pointerDown=!1,this._rafStopLoop(),this.isDragging?this._finishDrag():this.isZooming||this.isMultitouch||this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this._numActivePoints&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?pointsEqual(this.p1,this.prevP1)||this.drag.change():pointsEqual(this.p1,this.prevP1)&&pointsEqual(this.p2,this.prevP2)||this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(e){const t=Date.now(),n=t-this._intervalTime;n<50&&!e||(this.velocity.x=this._getVelocity("x",n),this.velocity.y=this._getVelocity("y",n),this._intervalTime=t,equalizePoints(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(e){const{mainScroll:t}=this.pswp;if(t.isShifted())return void t.moveIndexBy(0,!0);if(e.type.indexOf("cancel")>0)return;if("mouseup"===e.type||"mouse"===e.pointerType)return void this.tapHandler.click(this.startP1,e);const n=this.pswp.options.doubleTapAction?DOUBLE_TAP_DELAY:0;this._tapTimer?(this._clearTapTimer(),getDistanceBetween(this._lastStartP1,this.startP1)<MIN_TAP_DISTANCE&&this.tapHandler.doubleTap(this.startP1,e)):(equalizePoints(this._lastStartP1,this.startP1),this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()}),n))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(e,t){const n=this.p1[e]-this._intervalP1[e];return Math.abs(n)>1&&t>5?n/t:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e){return e.preventDefault(),!0}_updatePoints(e,t){if(this._pointerEventEnabled){const n=e,r=this._ongoingPointers.findIndex((e=>e.id===n.pointerId));"up"===t&&r>-1?this._ongoingPointers.splice(r,1):"down"===t&&-1===r?this._ongoingPointers.push(this._convertEventPosToPoint(n,{})):r>-1&&this._convertEventPosToPoint(n,this._ongoingPointers[r]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&equalizePoints(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&equalizePoints(this.p2,this._ongoingPointers[1])}else{const n=e;this._numActivePoints=0,n.type.indexOf("touch")>-1?n.touches&&n.touches.length>0&&(this._convertEventPosToPoint(n.touches[0],this.p1),this._numActivePoints++,n.touches.length>1&&(this._convertEventPosToPoint(n.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),"up"===t?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){equalizePoints(this.prevP1,this.p1),equalizePoints(this.prevP2,this.p2)}_updateStartPoints(){equalizePoints(this.startP1,this.p1),equalizePoints(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const e=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==e){const t=e>0?"x":"y";Math.abs(this.p1[t]-this.startP1[t])>=AXIS_SWIPE_HYSTERISIS&&(this.dragAxis=t)}}}_convertEventPosToPoint(e,t){return t.x=e.pageX-this.pswp.offset.x,t.y=e.pageY-this.pswp.offset.y,"pointerId"in e?t.id=e.pointerId:void 0!==e.identifier&&(t.id=e.identifier),t}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}const MAIN_SCROLL_END_FRICTION=.35;class MainScroll{constructor(e){this.pswp=e,this.x=0,this.slideWidth=void 0,this.itemHolders=void 0,this.resetPosition()}resize(e){const{pswp:t}=this,n=Math.round(t.viewportSize.x+t.viewportSize.x*t.options.spacing),r=n!==this.slideWidth;r&&(this.slideWidth=n,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach(((t,n)=>{r&&setTransform(t.el,(n+this._containerShiftIndex)*this.slideWidth),e&&t.slide&&t.slide.resize()}))}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const t=createElement("pswp__item",!1,this.pswp.container);t.setAttribute("role","group"),t.setAttribute("aria-roledescription","slide"),t.setAttribute("aria-hidden","true"),t.style.display=1===e?"block":"none",this.itemHolders.push({el:t})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(e,t,n){const{pswp:r}=this;let i=r.potentialIndex+e;const o=r.getNumItems();if(r.canLoop()){i=r.getLoopedIndex(i);const t=(e+o)%o;e=t<=o/2?t:t-o}else i<0?i=0:i>=o&&(i=o-1),e=i-r.potentialIndex;r.potentialIndex=i,this._currPositionIndex-=e,r.animations.stopMainScroll();const s=this.getCurrSlideX();if(t){r.animations.startSpring({isMainScroll:!0,start:this.x,end:s,velocity:n||0,naturalFrequency:30,dampingRatio:1,onUpdate:e=>{this.moveTo(e)},onComplete:()=>{this.updateCurrItem(),r.appendHeavy()}});let e=r.potentialIndex-r.currIndex;if(r.canLoop()){const t=(e+o)%o;e=t<=o/2?t:t-o}Math.abs(e)>1&&this.updateCurrItem()}else this.moveTo(s),this.updateCurrItem();if(e)return!0}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){const{pswp:e}=this,t=this._prevPositionIndex-this._currPositionIndex;if(!t)return;this._prevPositionIndex=this._currPositionIndex,e.currIndex=e.potentialIndex;let n,r=Math.abs(t);r>=3&&(this._containerShiftIndex+=t+(t>0?-3:3),r=3);for(let i=0;i<r;i++)t>0?(n=this.itemHolders.shift(),this.itemHolders[2]=n,this._containerShiftIndex++,setTransform(n.el,(this._containerShiftIndex+2)*this.slideWidth),e.setContent(n,e.currIndex-r+i+2)):(n=this.itemHolders.pop(),this.itemHolders.unshift(n),this._containerShiftIndex--,setTransform(n.el,this._containerShiftIndex*this.slideWidth),e.setContent(n,e.currIndex+r-i-2));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),e.animations.stopAllPan(),this.itemHolders.forEach(((e,t)=>{e.slide&&e.slide.setIsActive(1===t)})),e.currSlide=this.itemHolders[1].slide,e.contentLoader.updateLazy(t),e.currSlide&&e.currSlide.applyCurrentZoomPan(),e.dispatch("change")}moveTo(e,t){let n,r;!this.pswp.canLoop()&&t&&(n=(this.slideWidth*this._currPositionIndex-e)/this.slideWidth,n+=this.pswp.currIndex,r=Math.round(e-this.x),(n<0&&r>0||n>=this.pswp.getNumItems()-1&&r<0)&&(e=this.x+r*MAIN_SCROLL_END_FRICTION)),this.x=e,setTransform(this.pswp.container,e),this.pswp.dispatch("moveMainScroll",{x:e,dragging:t})}}class Keyboard{constructor(e){this.pswp=e,e.on("bindEvents",(()=>{e.options.initialPointerPos||this._focusRoot(),e.events.add(document,"focusin",this._onFocusIn.bind(this)),e.events.add(document,"keydown",this._onKeyDown.bind(this))}));const t=document.activeElement;e.on("destroy",(()=>{e.options.returnFocus&&t&&this._wasFocused&&t.focus()}))}_focusRoot(){this._wasFocused||(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp:t}=this;if(t.dispatch("keydown",{originalEvent:e}).defaultPrevented)return;if(specialKeyUsed(e))return;let n,r,i;switch(e.keyCode){case 27:t.options.escKey&&(n="close");break;case 90:n="toggleZoom";break;case 37:r="x";break;case 38:r="y";break;case 39:r="x",i=!0;break;case 40:i=!0,r="y";break;case 9:this._focusRoot()}if(r){e.preventDefault();const{currSlide:o}=t;t.options.arrowKeys&&"x"===r&&t.getNumItems()>1?n=i?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[r]+=i?-80:80,o.panTo(o.pan.x,o.pan.y))}n&&(e.preventDefault(),t[n]())}_onFocusIn(e){const{template:t}=this.pswp;document===e.target||t===e.target||t.contains(e.target)||t.focus()}}const DEFAULT_EASING="cubic-bezier(.4,0,.22,1)";class CSSAnimation{constructor(e){this.props=e;const{target:t,onComplete:n,transform:r,onFinish:i}=e;let{duration:o,easing:s}=e;this.onFinish=i;const a=r?"transform":"opacity",l=e[a];this._target=t,this._onComplete=n,o=o||333,s=s||DEFAULT_EASING,this._onTransitionEnd=this._onTransitionEnd.bind(this),this._helperTimeout=setTimeout((()=>{setTransitionStyle(t,a,o,s),this._helperTimeout=setTimeout((()=>{t.addEventListener("transitionend",this._onTransitionEnd,!1),t.addEventListener("transitioncancel",this._onTransitionEnd,!1),this._helperTimeout=setTimeout((()=>{this._finalizeAnimation()}),o+500),t.style[a]=l}),30)}),0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._helperTimeout&&clearTimeout(this._helperTimeout),removeTransitionStyle(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}const DEFAULT_NATURAL_FREQUENCY=12,DEFAULT_DAMPING_RATIO=.75;class SpringEaser{constructor(e,t,n){this.velocity=1e3*e,this._dampingRatio=t||DEFAULT_DAMPING_RATIO,this._naturalFrequency=n||DEFAULT_NATURAL_FREQUENCY,this._dampingRatio<1&&(this._dampedFrequency=this._naturalFrequency*Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(e,t){let n,r=0;t/=1e3;const i=Math.E**(-this._dampingRatio*this._naturalFrequency*t);if(1===this._dampingRatio)n=this.velocity+this._naturalFrequency*e,r=(e+n*t)*i,this.velocity=r*-this._naturalFrequency+n*i;else if(this._dampingRatio<1){n=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*e+this.velocity);const o=Math.cos(this._dampedFrequency*t),s=Math.sin(this._dampedFrequency*t);r=i*(e*o+n*s),this.velocity=r*-this._naturalFrequency*this._dampingRatio+i*(-this._dampedFrequency*e*s+this._dampedFrequency*n*o)}return r}}class SpringAnimation{constructor(e){this.props=e;const{start:t,end:n,velocity:r,onUpdate:i,onComplete:o,onFinish:s,dampingRatio:a,naturalFrequency:l}=e;this.onFinish=s;const c=new SpringEaser(r,a,l);let u=Date.now(),d=t-n;const h=()=>{this._raf&&(d=c.easeFrame(d,Date.now()-u),Math.abs(d)<1&&Math.abs(c.velocity)<50?(i(n),o&&o(),this.onFinish()):(u=Date.now(),i(d+n),this._raf=requestAnimationFrame(h)))};this._raf=requestAnimationFrame(h)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=null}}class Animations{constructor(){this.activeAnimations=[]}startSpring(e){this._start(e,!0)}startTransition(e){this._start(e)}_start(e,t){let n;return n=t?new SpringAnimation(e):new CSSAnimation(e),this.activeAnimations.push(n),n.onFinish=()=>this.stop(n),n}stop(e){e.destroy();const t=this.activeAnimations.indexOf(e);t>-1&&this.activeAnimations.splice(t,1)}stopAll(){this.activeAnimations.forEach((e=>{e.destroy()})),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isPan||(e.destroy(),!1)))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isMainScroll||(e.destroy(),!1)))}isPanRunning(){return this.activeAnimations.some((e=>e.props.isPan))}}class ScrollWheel{constructor(e){this.pswp=e,e.events.add(e.element,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide:t}=this.pswp;let{deltaX:n,deltaY:r}=e;if(t&&!this.pswp.dispatch("wheel",{originalEvent:e}).defaultPrevented)if(e.ctrlKey||this.pswp.options.wheelToZoom){if(t.isZoomable()){let n=-r;1===e.deltaMode?n*=.05:n*=e.deltaMode?1:.002,n=2**n;const i=t.currZoomLevel*n;t.zoomTo(i,{x:e.clientX,y:e.clientY})}}else t.isPannable()&&(1===e.deltaMode&&(n*=18,r*=18),t.panTo(t.pan.x-n,t.pan.y-r))}}function addElementHTML(e){if("string"==typeof e)return e;if(!e||!e.isCustomSVG)return"";const t=e;let n='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return n=n.split("%d").join(t.size||32),t.outlineID&&(n+='<use class="pswp__icn-shadow" xlink:href="#'+t.outlineID+'"/>'),n+=t.inner,n+="</svg>",n}class UIElement{constructor(e,t){const n=t.name||t.className;let r=t.html;if(!1===e.options[n])return;"string"==typeof e.options[n+"SVG"]&&(r=e.options[n+"SVG"]),e.dispatch("uiElementCreate",{data:t});let i,o="";t.isButton?(o+="pswp__button ",o+=t.className||`pswp__button--${t.name}`):o+=t.className||`pswp__${t.name}`;let s=t.isButton?t.tagName||"button":t.tagName||"div";if(s=s.toLowerCase(),i=createElement(o,s),t.isButton){i=createElement(o,s),"button"===s&&(i.type="button");let{title:r}=t;const{ariaLabel:a}=t;"string"==typeof e.options[n+"Title"]&&(r=e.options[n+"Title"]),r&&(i.title=r),(a||r)&&i.setAttribute("aria-label",a||r)}i.innerHTML=addElementHTML(r),t.onInit&&t.onInit(i,e),t.onClick&&(i.onclick=n=>{"string"==typeof t.onClick?e[t.onClick]():t.onClick(n,i,e)});const a=t.appendTo||"bar";let l;"bar"===a?(e.topBar||(e.topBar=createElement("pswp__top-bar pswp__hide-on-close","div",e.scrollWrap)),l=e.topBar):(i.classList.add("pswp__hide-on-close"),l="wrapper"===a?e.scrollWrap:e.element),l.appendChild(e.applyFilters("uiElement",i,t))}}function initArrowButton(e,t,n){e.classList.add("pswp__button--arrow"),e.setAttribute("aria-controls","pswp__items"),t.on("change",(()=>{t.options.loop||(e.disabled=n?!(t.currIndex<t.getNumItems()-1):!(t.currIndex>0))}))}const arrowPrev={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:initArrowButton},arrowNext={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(e,t)=>{initArrowButton(e,t,!0)}},closeButton={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},zoomButton={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},loadingIndicator={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(e,t)=>{let n,r;const i=t=>{var r,i;n!==t&&(n=t,r="active",i=t,e.classList[i?"add":"remove"]("pswp__preloader--"+r))},o=()=>{if(!t.currSlide.content.isLoading())return i(!1),void(r&&(clearTimeout(r),r=null));r||(r=setTimeout((()=>{i(t.currSlide.content.isLoading()),r=null}),t.options.preloaderDelay))};t.on("change",o),t.on("loadComplete",(e=>{t.currSlide===e.slide&&o()})),t.ui.updatePreloaderVisibility=o}},counterIndicator={name:"counter",order:5,onInit:(e,t)=>{t.on("change",(()=>{e.innerText=t.currIndex+1+t.options.indexIndicatorSep+t.getNumItems()}))}};function setZoomedIn(e,t){e.classList[t?"add":"remove"]("pswp--zoomed-in")}class UI{constructor(e){this.pswp=e,this.updatePreloaderVisibility=void 0,this._lastUpdatedZoomLevel=void 0}init(){const{pswp:e}=this;this.isRegistered=!1,this.uiElementsData=[closeButton,arrowPrev,arrowNext,zoomButton,loadingIndicator,counterIndicator],e.dispatch("uiRegister"),this.uiElementsData.sort(((e,t)=>(e.order||0)-(t.order||0))),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((e=>{this.registerElement(e)})),e.on("change",(()=>{e.element.classList[1===e.getNumItems()?"add":"remove"]("pswp--one-slide")})),e.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(e){this.isRegistered?this.items.push(new UIElement(this.pswp,e)):this.uiElementsData.push(e)}_onZoomPanUpdate(){const{template:e,currSlide:t,options:n}=this.pswp;let{currZoomLevel:r}=t;if(this.pswp.opener.isClosing)return;if(this.pswp.opener.isOpen||(r=t.zoomLevels.initial),r===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=r;const i=t.zoomLevels.initial-t.zoomLevels.secondary;if(Math.abs(i)<.01||!t.isZoomable())return setZoomedIn(e,!1),void e.classList.remove("pswp--zoom-allowed");e.classList.add("pswp--zoom-allowed");setZoomedIn(e,(r===t.zoomLevels.initial?t.zoomLevels.secondary:t.zoomLevels.initial)<=r),"zoom"!==n.imageClickAction&&"zoom-or-close"!==n.imageClickAction||e.classList.add("pswp--click-to-zoom")}}function getBoundsByElement(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width}}function getCroppedBoundsByElement(e,t,n){const r=e.getBoundingClientRect(),i=r.width/t,o=r.height/n,s=i>o?i:o,a=(r.width-t*s)/2,l=(r.height-n*s)/2,c={x:r.left+a,y:r.top+l,w:t*s};return c.innerRect={w:r.width,h:r.height,x:a,y:l},c}function getThumbBounds(e,t,n){const r=n.dispatch("thumbBounds",{index:e,itemData:t,instance:n});if(r.thumbBounds)return r.thumbBounds;const{element:i}=t;let o,s;if(i&&!1!==n.options.thumbSelector){const e=n.options.thumbSelector||"img";s=i.matches(e)?i:i.querySelector(e)}return s=n.applyFilters("thumbEl",s,t,e),s&&(o=t.thumbCropped?getCroppedBoundsByElement(s,t.width||t.w,t.height||t.h):getBoundsByElement(s)),n.applyFilters("thumbBounds",o,t,e)}class PhotoSwipeEvent{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Eventable{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,n=100){this._filters[e]||(this._filters[e]=[]),this._filters[e].push({fn:t,priority:n}),this._filters[e].sort(((e,t)=>e.priority-t.priority)),this.pswp&&this.pswp.addFilter(e,t,n)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter((e=>e.fn!==t))),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){return this._filters[e]&&this._filters[e].forEach((e=>{t[0]=e.fn.apply(this,t)})),t[0]}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new PhotoSwipeEvent(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}class Placeholder{constructor(e,t){this.element=createElement("pswp__img pswp__img--placeholder",e?"img":"",t),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&("IMG"===this.element.tagName?(setWidthHeight(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=toTransformString(0,0,e/250)):setWidthHeight(this.element,e,t))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class Content{constructor(e,t,n){this.instance=t,this.data=e,this.index=n,this.element=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=LOAD_STATE.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)}),1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const e=this.placeholder.element;e&&!e.parentElement&&this.slide.container.prepend(e)}else{const e=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Placeholder(e,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=createElement("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=createElement("pswp__content"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){const t=this.element;this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented||(this.updateSrcsetSizes(),this.data.srcset&&(t.srcset=this.data.srcset),t.src=this.data.src,t.alt=this.data.alt||"",this.state=LOAD_STATE.LOADING,t.complete?this.onLoaded():(t.onload=()=>{this.onLoaded()},t.onerror=()=>{this.onError()}))}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=LOAD_STATE.LOADED,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==LOAD_STATE.LOADED&&this.state!==LOAD_STATE.ERROR||this.removePlaceholder())}onError(){this.state=LOAD_STATE.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===LOAD_STATE.LOADING,this)}isError(){return this.state===LOAD_STATE.ERROR}isImageContent(){return"image"===this.type}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(setWidthHeight(this.element,e,t),this.isImageContent()&&!this.isError()))){const n=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,n?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==LOAD_STATE.ERROR,this)}updateSrcsetSizes(){if(this.data.srcset){const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=null),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let e=createElement("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=createElement("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached)return;if(this.isAttached=!0,this.state===LOAD_STATE.ERROR)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||isSafari())?(this.isDecoding=!0,this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=!1,this.appendImage()}))):this.appendImage():this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding&&!isSafari()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==LOAD_STATE.LOADED&&this.state!==LOAD_STATE.ERROR||this.removePlaceholder()))}}const MIN_SLIDES_TO_CACHE=5;function lazyLoadData(e,t,n){const r=t.createContentFromData(e,n);if(!r||!r.lazyLoad)return;const{options:i}=t,o=getPanAreaSize(i,t.viewportSize||getViewportSize(i,t),e,n),s=new ZoomLevel(i,e,-1);return s.update(r.width,r.height,o),r.lazyLoad(),r.setDisplayedSize(Math.ceil(r.width*s.initial),Math.ceil(r.height*s.initial)),r}function lazyLoadSlide(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return lazyLoadData(n,t,e)}class ContentLoader{constructor(e){this.pswp=e,this.limit=Math.max(e.options.preload[0]+e.options.preload[1]+1,MIN_SLIDES_TO_CACHE),this._cachedItems=[]}updateLazy(e){const{pswp:t}=this;if(t.dispatch("lazyLoad").defaultPrevented)return;const{preload:n}=t.options,r=void 0===e||e>=0;let i;for(i=0;i<=n[1];i++)this.loadSlideByIndex(t.currIndex+(r?i:-i));for(i=1;i<=n[0];i++)this.loadSlideByIndex(t.currIndex+(r?-i:i))}loadSlideByIndex(e){e=this.pswp.getLoopedIndex(e);let t=this.getContentByIndex(e);t||(t=lazyLoadSlide(e,this.pswp),t&&this.addToCache(t))}getContentBySlide(e){let t=this.getContentByIndex(e.index);return t||(t=this.pswp.createContentFromData(e.data,e.index),t&&this.addToCache(t)),t&&t.setSlide(e),t}addToCache(e){if(this.removeByIndex(e.index),this._cachedItems.push(e),this._cachedItems.length>this.limit){const e=this._cachedItems.findIndex((e=>!e.isAttached&&!e.hasSlide));if(-1!==e){this._cachedItems.splice(e,1)[0].destroy()}}}removeByIndex(e){const t=this._cachedItems.findIndex((t=>t.index===e));-1!==t&&this._cachedItems.splice(t,1)}getContentByIndex(e){return this._cachedItems.find((t=>t.index===e))}destroy(){this._cachedItems.forEach((e=>e.destroy())),this._cachedItems=null}}class PhotoSwipeBase extends Eventable{getNumItems(){let e;const{dataSource:t}=this.options;t?"length"in t?e=t.length:"gallery"in t&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0;const n=this.dispatch("numItems",{dataSource:t,numItems:e});return this.applyFilters("numItems",n.numItems,t)}createContentFromData(e,t){return new Content(e,this,t)}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const i=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",i.itemData,e)}_getGalleryDOMElements(e){return this.options.children||this.options.childSelector?getElementsFromOption(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(n){t.src=n.dataset.pswpSrc||n.href,n.dataset.pswpSrcset&&(t.srcset=n.dataset.pswpSrcset),t.width=parseInt(n.dataset.pswpWidth,10),t.height=parseInt(n.dataset.pswpHeight,10),t.w=t.width,t.h=t.height,n.dataset.pswpType&&(t.type=n.dataset.pswpType);const r=e.querySelector("img");r&&(t.msrc=r.currentSrc||r.src,t.alt=r.getAttribute("alt")),(n.dataset.pswpCropped||n.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,n)}lazyLoadData(e,t){return lazyLoadData(e,this,t)}}const MIN_OPACITY=.003;class Opener{constructor(e){this.pswp=e,this.isClosed=!0,this._prepareOpen=this._prepareOpen.bind(this),this._thumbBounds=void 0,e.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return!1;const e=this.pswp.currSlide;return this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,e&&e.currZoomLevel*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout((()=>{this._start()}),this._croppedZoom?30:0),!0}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const e=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,e&&e.zoomLevels.initial*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp:e}=this,t=this.pswp.currSlide,{options:n}=e;if("fade"===n.showHideAnimationType?(n.showHideOpacity=!0,this._thumbBounds=!1):"none"===n.showHideAnimationType?(n.showHideOpacity=!1,this._duration=0,this._thumbBounds=!1):this.isOpening&&e._initialThumbBounds?this._thumbBounds=e._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=t.getPlaceholderElement(),e.animations.stopAll(),this._useAnimation=this._duration>50,this._animateZoom=Boolean(this._thumbBounds)&&t.content&&t.content.usePlaceholder()&&(!this.isClosing||!e.mainScroll.isShifted()),this._animateZoom?this._animateRootOpacity=n.showHideOpacity:(this._animateRootOpacity=!0,this.isOpening&&(t.zoomAndPanToInitial(),t.applyCurrentZoomPan())),this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>MIN_OPACITY,this._opacityElement=this._animateRootOpacity?e.element:e.bg,!this._useAnimation)return this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,void(this.isOpening&&(e.element.style.opacity=String(MIN_OPACITY),e.applyBgOpacity(1)));this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect?(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=this.pswp.currSlide.holderElement,e.container.style.overflow="hidden",e.container.style.width=e.viewportSize.x+"px"):this._croppedZoom=!1,this.isOpening?(this._animateRootOpacity?(e.element.style.opacity=String(MIN_OPACITY),e.applyBgOpacity(1)):(this._animateBgOpacity&&(e.bg.style.opacity=String(MIN_OPACITY)),e.element.style.opacity="1"),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(MIN_OPACITY)))):this.isClosing&&(e.mainScroll.itemHolders[0].el.style.display="none",e.mainScroll.itemHolders[2].el.style.display="none",this._croppedZoom&&0!==e.mainScroll.x&&(e.mainScroll.resetPosition(),e.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName?new Promise((e=>{let t=!1,n=!0;decodeImage(this._placeholder).finally((()=>{t=!0,n||e()})),setTimeout((()=>{n=!1,t&&e()}),50),setTimeout(e,250)})).finally((()=>this._initiate())):this._initiate()}_initiate(){this.pswp.element.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.element.classList[this.isOpening?"add":"remove"]("pswp--ui-visible"),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:e}=this;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,e.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),e.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?e.destroy():this.isOpen&&(this._animateZoom&&(e.container.style.overflow="visible",e.container.style.width="100%"),e.currSlide.applyCurrentZoomPan())}_animateToOpenState(){const{pswp:e}=this;this._animateZoom&&(this._croppedZoom&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),e.currSlide.zoomAndPanToInitial(),this._animateTo(e.currSlide.container,"transform",e.currSlide.getCurrentTransform())),this._animateBgOpacity&&this._animateTo(e.bg,"opacity",String(e.options.bgOpacity)),this._animateRootOpacity&&this._animateTo(e.element,"opacity","1")}_animateToClosedState(){const{pswp:e}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&e.bgOpacity>.01&&this._animateTo(e.bg,"opacity","0"),this._animateRootOpacity&&this._animateTo(e.element,"opacity","0")}_setClosedStateZoomPan(e){if(!this._thumbBounds)return;const{pswp:t}=this,{innerRect:n}=this._thumbBounds,{currSlide:r,viewportSize:i}=t;if(this._croppedZoom){const t=-i.x+(this._thumbBounds.x-n.x)+n.w,r=-i.y+(this._thumbBounds.y-n.y)+n.h,o=i.x-n.w,s=i.y-n.h;e?(this._animateTo(this._cropContainer1,"transform",toTransformString(t,r)),this._animateTo(this._cropContainer2,"transform",toTransformString(o,s))):(setTransform(this._cropContainer1,t,r),setTransform(this._cropContainer2,o,s))}equalizePoints(r.pan,n||this._thumbBounds),r.currZoomLevel=this._thumbBounds.w/r.width,e?this._animateTo(r.container,"transform",r.getCurrentTransform()):r.applyCurrentZoomPan()}_animateTo(e,t,n){if(!this._duration)return void(e.style[t]=n);const{animations:r}=this.pswp,i={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{r.activeAnimations.length||this._onAnimationComplete()},target:e};i[t]=n,r.startTransition(i)}}const defaultOptions={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class PhotoSwipe extends PhotoSwipeBase{constructor(e){super(),this._prepareOptions(e),this.offset={},this._prevViewportSize={},this.viewportSize={},this.bgOpacity=1,this.topBar=void 0,this.events=new DOMEvents,this.animations=new Animations,this.mainScroll=new MainScroll(this),this.gestures=new Gestures(this),this.opener=new Opener(this),this.keyboard=new Keyboard(this),this.contentLoader=new ContentLoader(this)}init(){if(this.isOpen||this.isDestroying)return;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.element.className+=" "+e,this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new ScrollWheel(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",(()=>{this.mainScroll.itemHolders[0].el.style.display="block",this.mainScroll.itemHolders[2].el.style.display="block",this.setContent(this.mainScroll.itemHolders[0],this.currIndex-1),this.setContent(this.mainScroll.itemHolders[2],this.currIndex+1),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")})),this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(e){const t=this.getNumItems();return this.options.loop&&(e>t-1&&(e-=t),e<0&&(e+=t)),e=clamp(e,0,t-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((e=>{e.slide&&e.slide.appendHeavy()}))}goTo(e){this.mainScroll.moveIndexBy(this.getLoopedIndex(e)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...e){this.currSlide.zoomTo(...e)}toggleZoom(){this.currSlide.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.listeners=null,this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null,this.element.remove(),this.mainScroll.itemHolders.forEach((e=>{e.slide&&e.slide.destroy()})),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(e){this.contentLoader.removeByIndex(e),this.mainScroll.itemHolders.forEach(((t,n)=>{let r=this.currSlide.index-1+n;this.canLoop()&&(r=this.getLoopedIndex(r)),r===e&&(this.setContent(t,e,!0),1===n&&(this.currSlide=t.slide,t.slide.setIsActive(!0)))})),this.dispatch("change")}setContent(e,t,n){if(this.canLoop()&&(t=this.getLoopedIndex(t)),e.slide){if(e.slide.index===t&&!n)return;e.slide.destroy(),e.slide=null}if(!this.canLoop()&&(t<0||t>=this.getNumItems()))return;const r=this.getItemData(t);e.slide=new Slide(r,t,this),t===this.currIndex&&(this.currSlide=e.slide),e.slide.append(e.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(e){if(this.isDestroying)return;const t=getViewportSize(this.options,this);!e&&pointsEqual(t,this._prevViewportSize)||(equalizePoints(this._prevViewportSize,t),this.dispatch("beforeResize"),equalizePoints(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(e){this.bgOpacity=Math.max(e,0),this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}mouseDetected(){this.hasMouse||(this.hasMouse=!0,this.element.classList.add("pswp--has_mouse"))}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(e,t){this.offset.x=e,this.offset.y=t,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=createElement("pswp"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=createElement("pswp__bg",!1,this.element),this.scrollWrap=createElement("pswp__scroll-wrap","section",this.element),this.container=createElement("pswp__container",!1,this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new UI(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return getThumbBounds(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(e){window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(e.showHideAnimationType="none",e.zoomAnimationDuration=0),this.options={...defaultOptions,...e}}}var css_248z$8='/*! PhotoSwipe main CSS by Dmytro Semenov | photoswipe.com */\r\n\r\n.pswp {\r\n  --pswp-bg: #000;\r\n  --pswp-placeholder-bg: #222;\r\n  \r\n\r\n  --pswp-root-z-index: 100000;\r\n  \r\n  --pswp-preloader-color: rgba(79, 79, 79, 0.4);\r\n  --pswp-preloader-color-secondary: rgba(255, 255, 255, 0.9);\r\n  \r\n  /* defined via js:\r\n  --pswp-transition-duration: 333ms; */\r\n  \r\n  --pswp-icon-color: #fff;\r\n  --pswp-icon-color-secondary: #4f4f4f;\r\n  --pswp-icon-stroke-color: #4f4f4f;\r\n  --pswp-icon-stroke-width: 2px;\r\n\r\n  --pswp-error-text-color: var(--pswp-icon-color);\r\n}\r\n\r\n\r\n/*\r\n\tStyles for basic PhotoSwipe (pswp) functionality (sliding area, open/close transitions)\r\n*/\r\n\r\n.pswp {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tz-index: var(--pswp-root-z-index);\r\n\tdisplay: none;\r\n\ttouch-action: none;\r\n\toutline: 0;\r\n\topacity: 0.003;\r\n\tcontain: layout style size;\r\n\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}\r\n\r\n/* Prevents focus outline on the root element,\r\n  (it may be focused initially) */\r\n.pswp:focus {\r\n  outline: 0;\r\n}\r\n\r\n.pswp * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.pswp img {\r\n  max-width: none;\r\n}\r\n\r\n.pswp--open {\r\n\tdisplay: block;\r\n}\r\n\r\n.pswp,\r\n.pswp__bg {\r\n\ttransform: translateZ(0);\r\n\twill-change: opacity;\r\n}\r\n\r\n.pswp__bg {\r\n  opacity: 0.005;\r\n\tbackground: var(--pswp-bg);\r\n}\r\n\r\n.pswp,\r\n.pswp__scroll-wrap {\r\n\toverflow: hidden;\r\n}\r\n\r\n.pswp__scroll-wrap,\r\n.pswp__bg,\r\n.pswp__container,\r\n.pswp__item,\r\n.pswp__content,\r\n.pswp__img,\r\n.pswp__zoom-wrap {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.pswp__img,\r\n.pswp__zoom-wrap {\r\n\twidth: auto;\r\n\theight: auto;\r\n}\r\n\r\n.pswp--click-to-zoom.pswp--zoom-allowed .pswp__img {\r\n\tcursor: zoom-in;\r\n}\r\n\r\n.pswp--click-to-zoom.pswp--zoomed-in .pswp__img {\r\n\tcursor: move;\r\n\tcursor: grab;\r\n}\r\n\r\n.pswp--click-to-zoom.pswp--zoomed-in .pswp__img:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n/* :active to override grabbing cursor */\r\n.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img,\r\n.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img:active,\r\n.pswp__img {\r\n\tcursor: zoom-out;\r\n}\r\n\r\n\r\n/* Prevent selection and tap highlights */\r\n.pswp__container,\r\n.pswp__img,\r\n.pswp__button,\r\n.pswp__counter {\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.pswp__item {\r\n\t/* z-index for fade transition */\r\n\tz-index: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.pswp__hidden {\r\n\tdisplay: none !important;\r\n}\r\n\r\n/* Allow to click through pswp__content element, but not its children */\r\n.pswp__content {\r\n  pointer-events: none;\r\n}\r\n.pswp__content > * {\r\n  pointer-events: auto;\r\n}\r\n\r\n\r\n/*\r\n\r\n  PhotoSwipe UI\r\n\r\n*/\r\n\r\n/*\r\n\tError message appears when image is not loaded\r\n\t(JS option errorMsg controls markup)\r\n*/\r\n.pswp__error-msg-container {\r\n  display: grid;\r\n}\r\n.pswp__error-msg {\r\n\tmargin: auto;\r\n\tfont-size: 1em;\r\n\tline-height: 1;\r\n\tcolor: var(--pswp-error-text-color);\r\n}\r\n\r\n/*\r\nclass pswp__hide-on-close is applied to elements that\r\nshould hide (for example fade out) when PhotoSwipe is closed\r\nand show (for example fade in) when PhotoSwipe is opened\r\n */\r\n.pswp .pswp__hide-on-close {\r\n\topacity: 0.005;\r\n\twill-change: opacity;\r\n\ttransition: opacity var(--pswp-transition-duration) cubic-bezier(0.4, 0, 0.22, 1);\r\n\tz-index: 10; /* always overlap slide content */\r\n\tpointer-events: none; /* hidden elements should not be clickable */\r\n}\r\n\r\n/* class pswp--ui-visible is added when opening or closing transition starts */\r\n.pswp--ui-visible .pswp__hide-on-close {\r\n\topacity: 1;\r\n\tpointer-events: auto;\r\n}\r\n\r\n/* <button> styles, including css reset */\r\n.pswp__button {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\twidth: 50px;\r\n\theight: 60px;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\toverflow: hidden;\r\n\tcursor: pointer;\r\n\tbackground: none;\r\n\tborder: 0;\r\n\tbox-shadow: none;\r\n\topacity: 0.85;\r\n\t-webkit-appearance: none;\r\n\t-webkit-touch-callout: none;\r\n}\r\n\r\n.pswp__button:hover,\r\n.pswp__button:active,\r\n.pswp__button:focus {\r\n  transition: none;\r\n  padding: 0;\r\n  background: none;\r\n  border: 0;\r\n  box-shadow: none;\r\n  opacity: 1;\r\n}\r\n\r\n.pswp__button:disabled {\r\n  opacity: 0.3;\r\n  cursor: auto;\r\n}\r\n\r\n.pswp__icn {\r\n  fill: var(--pswp-icon-color);\r\n  color: var(--pswp-icon-color-secondary);\r\n  position: absolute;\r\n  top: 14px;\r\n  left: 9px;\r\n  width: 32px;\r\n  height: 32px;\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n.pswp__icn-shadow {\r\n  stroke: var(--pswp-icon-stroke-color);\r\n  stroke-width: var(--pswp-icon-stroke-width);\r\n  fill: none;\r\n}\r\n\r\n.pswp__icn:focus {\r\n\toutline: 0;\r\n}\r\n\r\n/*\r\n\tdiv element that matches size of large image,\r\n\tlarge image loads on top of it,\r\n\tused when msrc is not provided\r\n*/\r\ndiv.pswp__img--placeholder,\r\n.pswp__img--with-bg {\r\n\tbackground: var(--pswp-placeholder-bg);\r\n}\r\n\r\n.pswp__top-bar {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\theight: 60px;\r\n\tdisplay: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n\tz-index: 10;\r\n\r\n\t/* allow events to pass through top bar itself */\r\n\tpointer-events: none !important;\r\n}\r\n.pswp__top-bar > * {\r\n  pointer-events: auto;\r\n  /* this makes transition significantly more smooth,\r\n     even though inner elements are not animated */\r\n  will-change: opacity;\r\n}\r\n\r\n\r\n/*\r\n\r\n  Close button\r\n\r\n*/\r\n.pswp__button--close {\r\n  margin-right: 6px;\r\n}\r\n\r\n\r\n/*\r\n\r\n  Arrow buttons\r\n\r\n*/\r\n.pswp__button--arrow {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 75px;\r\n  height: 100px;\r\n  top: 50%;\r\n  margin-top: -50px;\r\n}\r\n\r\n.pswp__button--arrow:disabled {\r\n  display: none;\r\n  cursor: default;\r\n}\r\n\r\n.pswp__button--arrow .pswp__icn {\r\n  top: 50%;\r\n  margin-top: -30px;\r\n  width: 60px;\r\n  height: 60px;\r\n  background: none;\r\n  border-radius: 0;\r\n}\r\n\r\n.pswp--one-slide .pswp__button--arrow {\r\n  display: none;\r\n}\r\n\r\n/* hide arrows on touch screens */\r\n.pswp--touch .pswp__button--arrow {\r\n  visibility: hidden;\r\n}\r\n\r\n/* show arrows only after mouse was used */\r\n.pswp--has_mouse .pswp__button--arrow {\r\n  visibility: visible;\r\n}\r\n\r\n.pswp__button--arrow--prev {\r\n  right: auto;\r\n  left: 0px;\r\n}\r\n\r\n.pswp__button--arrow--next {\r\n  right: 0px;\r\n}\r\n.pswp__button--arrow--next .pswp__icn {\r\n  left: auto;\r\n  right: 14px;\r\n  /* flip horizontally */\r\n  transform: scale(-1, 1);\r\n}\r\n\r\n/*\r\n\r\n  Zoom button\r\n\r\n*/\r\n.pswp__button--zoom {\r\n  display: none;\r\n}\r\n\r\n.pswp--zoom-allowed .pswp__button--zoom {\r\n  display: block;\r\n}\r\n\r\n/* "+" => "-" */\r\n.pswp--zoomed-in .pswp__zoom-icn-bar-v {\r\n  display: none;\r\n}\r\n\r\n\r\n/*\r\n\r\n  Loading indicator\r\n\r\n*/\r\n.pswp__preloader {\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 50px;\r\n  height: 60px;\r\n  margin-right: auto;\r\n}\r\n\r\n.pswp__preloader .pswp__icn {\r\n  opacity: 0;\r\n  transition: opacity 0.2s linear;\r\n  animation: pswp-clockwise 600ms linear infinite;\r\n}\r\n\r\n.pswp__preloader--active .pswp__icn {\r\n  opacity: 0.85;\r\n}\r\n\r\n@keyframes pswp-clockwise {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n\r\n/*\r\n\r\n  "1 of 10" counter\r\n\r\n*/\r\n.pswp__counter {\r\n  height: 30px;\r\n  margin: 15px 0 0 20px;\r\n  font-size: 14px;\r\n  line-height: 30px;\r\n  color: var(--pswp-icon-color);\r\n  text-shadow: 1px 1px 3px var(--pswp-icon-color-secondary);\r\n  opacity: 0.85;\r\n}\r\n\r\n.pswp--one-slide .pswp__counter {\r\n  display: none;\r\n}\r\n';styleInject(css_248z$8,{insertAt:"top"});var css_248z$7="";styleInject(css_248z$7,{insertAt:"top"});var FileSaver_min={exports:{}};!function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,s){var a=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?n(e,t,s):i(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,s){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),o);else if(r(e))n(e,o,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,h=d.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a}()}(FileSaver_min);var Download=function(e){var t=e.url,n=require$$0$1.useCallback((function(e){e.preventDefault(),FileSaver_min.exports.saveAs(t)}),[t]);return require$$0__default.default.createElement("button",{onClick:n},require$$0__default.default.createElement("div",{className:"flex justify-center items-center bg-gray-200 p-2 rounded-full"},require$$0__default.default.createElement(ArrowDownTrayIcon,{className:"h-4 w-4 text-gray-500"})))};let random=e=>crypto.getRandomValues(new Uint8Array(e)),customRandom=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let s="";for(;;){let t=n(i),a=i;for(;a--;)if(s+=e[t[a]&r]||"",s.length===o)return s}}},customAlphabet=(e,t=21)=>customRandom(e,t,random);var useFileUrl=function(e){var t=useRc().rc;return getFileUrl(t.getHost()+e)},ImageAttachment=function(e){var t,n,r,i,o,s=e.attachment,a=useFileUrl(s.image_url),l=customAlphabet("abcdefghijlmnoprstuw",10),c=require$$0$1.useMemo((function(){return l()}),[]);require$$0$1.useEffect((function(){var e=new PhotoSwipeLightbox({gallery:"#"+c,children:"a",pswpModule:PhotoSwipe});return e.init(),function(){e.destroy(),e=null}}),[c]);var u=require$$0$1.useMemo((function(){var e,t;return(null===(e=s.image_dimensions)||void 0===e?void 0:e.width)/(null===(t=s.image_dimensions)||void 0===t?void 0:t.height)}),[null===(t=s.image_dimensions)||void 0===t?void 0:t.height,null===(n=s.image_dimensions)||void 0===n?void 0:n.width]);return require$$0__default.default.createElement(require$$0__default.default.Fragment,null,require$$0__default.default.createElement("div",{className:"px-4 pt-2 first:pt-4 pb-2 flex gap-4 "},require$$0__default.default.createElement("div",{className:"pswp-gallery flex shrink",id:c},require$$0__default.default.createElement("a",{style:{aspectRatio:u},className:"max-w-[300px] overflow-hidden",href:a,"data-pswp-width":null===(r=s.image_dimensions)||void 0===r?void 0:r.width,"data-pswp-height":null===(i=s.image_dimensions)||void 0===i?void 0:i.height,key:c+"-"+s.image_url,target:"_blank",rel:"noreferrer"},require$$0__default.default.createElement("img",{src:a,alt:"",className:"box-content rounded-md object-cover block w-full h-full",style:{width:null===(o=s.image_dimensions)||void 0===o?void 0:o.width}}))),require$$0__default.default.createElement("div",{className:"flex basis-8"},require$$0__default.default.createElement(Download,{url:a}))),(null==s?void 0:s.description)?require$$0__default.default.createElement("div",{className:"flex px-4 !pb-2"},s.description):null,require$$0__default.default.createElement("div",null))},css_248z$6="";styleInject(css_248z$6,{insertAt:"top"});var FileAttachment=function(e){var t=e.attachment,n=useFileUrl(t.title_link);return require$$0__default.default.createElement("div",{className:"px-4 pt-4 pb-2 flex items-center"},require$$0__default.default.createElement(DocumentIcon,{className:"h-4 w-4 m-1 mr-2 text-indigo-500"}),require$$0__default.default.createElement("span",{className:"text-sm leading-5 font-medium text-gray-900 mr-5"},t.title),require$$0__default.default.createElement(Download,{url:n}))},css_248z$5=":root {\n  --plyr-range-fill-background: #4F46E5;\n}\n\n.message-owner {\n  --plyr-range-fill-background: #0284C7;\n}\n\n.plyr.plyr--video {\n  margin-right: 1.25em;\n  min-width: 100px;\n  max-width: 300px;\n}\n\n.plyr.plyr--video .plyr__controls {\n  background-color: transparent;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-top: 1em;\n  padding-bottom: 0.625em;\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__control {\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__control {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__control .icon--pressed,\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__control .icon--not-pressed {\n  height: 0.625em;\n  width: 0.625em;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__time--current.plyr__time {\n  min-width: 45px;\n  text-align: right;\n  font-size: 0.75em;\n  font-weight: 400;\n  line-height: 1rem;\n  --tw-text-opacity: 1;\n  color: rgb(199 210 254 / var(--tw-text-opacity));\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__time--current.plyr__time {\n  --tw-text-opacity: 1;\n  color: rgb(186 230 253 / var(--tw-text-opacity));\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-runnable-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-runnable-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--video .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}";styleInject(css_248z$5,{insertAt:"top"});var VideoAttachment=function(e){var t=e.attachment,n=useFileUrl(t.video_url);return React.createElement("div",{className:"px-4 pt-4 pb-2.5 flex gap-4"},React.createElement("div",{className:"flex shrink"},React.createElement("video",{width:300,controls:!0},React.createElement("source",{src:n,type:t.video_type}))),React.createElement("div",{className:"flex basis-8"},React.createElement(Download,{url:n})))},css_248z$4=":root {\n  --plyr-range-fill-background: #4F46E5;\n}\n\n.message-owner {\n  --plyr-range-fill-background: #0284C7;\n}\n\n.plyr.plyr--audio {\n  min-width: 120px;\n}\n\n.plyr.plyr--audio .plyr__controls {\n  background-color: transparent;\n  padding-left: 1em;\n  padding-right: 1em;\n  padding-top: 1em;\n  padding-bottom: 0.625em;\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__control {\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__control {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__control .icon--pressed,\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__control .icon--not-pressed {\n  height: 0.625em;\n  width: 0.625em;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__time--current.plyr__time {\n  min-width: 45px;\n  text-align: right;\n  font-size: 0.75em;\n  font-weight: 400;\n  line-height: 1rem;\n  --tw-text-opacity: 1;\n  color: rgb(55 48 163 / var(--tw-text-opacity));\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__time--current.plyr__time {\n  --tw-text-opacity: 1;\n  color: rgb(7 89 133 / var(--tw-text-opacity));\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-runnable-track {\n  background-color: rgb(199 210 254 / 0.75);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-runnable-track {\n  background-color: rgb(186 230 253 / 0.75);\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(79 70 229 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-webkit-slider-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-ms-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.message-owner .plyr.plyr--audio .plyr__controls .plyr__controls__item.plyr__progress__container .plyr__progress>input[type=range]::-moz-range-thumb {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity));\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}";styleInject(css_248z$4,{insertAt:"top"});var AudioAttachment=function(e){var t=e.attachment,n=useFileUrl(t.audio_url);return React.createElement("div",{className:"px-4 pt-4 pb-2.5 flex items-center"},React.createElement("audio",{controls:!0},React.createElement("source",{src:n,type:t.audio_type})))},Attachment=function(e){var t=e.attachment;return t.image_url?require$$0__default.default.createElement(ImageAttachment,{attachment:t}):t.video_url?require$$0__default.default.createElement(VideoAttachment,{attachment:t}):t.audio_url?require$$0__default.default.createElement(AudioAttachment,{attachment:t}):require$$0__default.default.createElement(FileAttachment,{attachment:t})},Attachments=function(e){var t=e.attachments;return require$$0__default.default.createElement(require$$0__default.default.Fragment,null,t.map((function(e,t){return require$$0__default.default.createElement(Attachment,{key:t,attachment:e})})))},css_248z$3="";styleInject(css_248z$3,{insertAt:"top"});var Avatar=function(e){var t=e.username,n=e.width,r=void 0===n?100:n,i=e.height,o=void 0===i?100:i,s=useFileUrl("/avatar/"+t);return require$$0__default.default.createElement("div",{style:{width:r,height:o},className:"flex "},require$$0__default.default.createElement("img",{src:s,className:"rounded-xl"}))},i$2=Object.defineProperty,d$1=(e,t,n)=>t in e?i$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r$1=(e,t,n)=>(d$1(e,"symbol"!=typeof t?t+"":t,n),n);class o$4{constructor(){r$1(this,"current",this.detect()),r$1(this,"handoffState","pending"),r$1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let s$3=new o$4,l$2=(e,t)=>{s$3.isServer?require$$0$1.useEffect(e,t):require$$0$1.useLayoutEffect(e,t)};function s$2(e){let t=require$$0$1.useRef(e);return l$2((()=>{t.current=e}),[e]),t}function t$2(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function m$1(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,r,i)=>(e.addEventListener(t,r,i),n.add((()=>e.removeEventListener(t,r,i)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},microTask(...e){let t={current:!0};return t$2((()=>{t.current&&e[0]()})),n.add((()=>{t.current=!1}))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function p$1(){let[e]=require$$0$1.useState(m$1);return require$$0$1.useEffect((()=>()=>e.dispose()),[e]),e}let o$3=function(e){let t=s$2(e);return require$$0__default.default.useCallback(((...e)=>t.current(...e)),[t])};function l$1(){let[e,t]=require$$0$1.useState(s$3.isHandoffComplete);return e&&!1===s$3.isHandoffComplete&&t(!1),require$$0$1.useEffect((()=>{!0!==e&&t(!0)}),[e]),require$$0$1.useEffect((()=>s$3.handoff()),[]),e}var o$2;let I$2=null!=(o$2=require$$0__default.default.useId)?o$2:function(){let e=l$1(),[t,n]=require$$0__default.default.useState(e?()=>s$3.nextId():null);return l$2((()=>{null===t&&n(s$3.nextId())}),[t]),null!=t?""+t:void 0};function u$2(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,u$2),r}function e$1(e){return s$3.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var L$1=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(L$1||{}),N=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(N||{}),T$1=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(T$1||{});function E(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(f$3)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var F$2=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(F$2||{});function h$1(e,t=0){var n;return e!==(null==(n=e$1(e))?void 0:n.body)&&u$2(t,{0:()=>e.matches(f$3),1(){let t=e;for(;null!==t;){if(t.matches(f$3))return!0;t=t.parentElement}return!1}})}function g(e){let t=e$1(e);m$1().nextFrame((()=>{t&&!h$1(t.activeElement,0)&&S(e)}))}function S(e){null==e||e.focus({preventScroll:!0})}let H=["textarea","input"].join(",");function w$1(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,H))&&n}function A$1(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function v$1(e,t){return I$1(E(),t,{relativeTo:e})}function I$1(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?A$1(e):e:E(e);i.length>0&&s.length>1&&(s=s.filter((e=>!i.includes(e)))),r=null!=r?r:o.activeElement;let a,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(r))-1;if(4&t)return Math.max(0,s.indexOf(r))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=s.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}a=s[e],null==a||a.focus(u),d+=l}while(a!==o.activeElement);return 6&t&&w$1(a)&&a.select(),a.hasAttribute("tabindex")||a.setAttribute("tabindex","0"),2}function d(e,t,n){let r=s$2(t);require$$0$1.useEffect((()=>{function t(e){r.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function L(e,t,n=!0){let r=require$$0$1.useRef(!1);function i(n,i){if(!r.current||n.defaultPrevented)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),s=i(n);if(null!==s&&s.getRootNode().contains(s)){for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(s)||n.composed&&n.composedPath().includes(t))return}return!h$1(s,F$2.Loose)&&-1!==s.tabIndex&&n.preventDefault(),t(n,s)}}require$$0$1.useEffect((()=>{requestAnimationFrame((()=>{r.current=n}))}),[n]);let o=require$$0$1.useRef(null);d("mousedown",(e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),d("click",(e=>{!o.current||(i(e,(()=>o.current)),o.current=null)}),!0),d("blur",(e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function i$1(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function s$1(e,t){let[n,r]=require$$0$1.useState((()=>i$1(e)));return l$2((()=>{r(i$1(e))}),[e.type,e.as]),l$2((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}let u$1=Symbol();function y(...e){let t=require$$0$1.useRef(e);require$$0$1.useEffect((()=>{t.current=e}),[e]);let n=o$3((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[u$1])))?void 0:n}function F$1({container:e,accept:t,walk:n,enabled:r=!0}){let i=require$$0$1.useRef(t),o=require$$0$1.useRef(n);require$$0$1.useEffect((()=>{i.current=t,o.current=n}),[t,n]),l$2((()=>{if(!e||!r)return;let t=e$1(e);if(!t)return;let n=i.current,s=o.current,a=Object.assign((e=>n(e)),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)s(l.currentNode)}),[e,r,i,o])}function f$2(e){throw new Error("Unexpected object: "+e)}var a=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(a||{});function x(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1,o=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=i)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:f$2(e)}})();return-1===o?r:o}function e(...e){return e.filter(Boolean).join(" ")}var j=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(j||{}),w=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(w||{});function X({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s}){let a=h(t,e);if(o)return m(a,n,r,s);let l=null!=i?i:0;if(2&l){let{static:e=!1,...t}=a;if(e)return m(t,n,r,s)}if(1&l){let{unmount:e=!0,...t}=a;return u$2(e?0:1,{0:()=>null,1:()=>m({...t,hidden:!0,style:{display:"none"}},n,r,s)})}return m(a,n,r,s)}function m(t,n={},r,i){var o;let{as:s=r,children:a,refName:l="ref",...c}=T(t,["unmount","static"]),u=void 0!==t.ref?{[l]:t.ref}:{},d="function"==typeof a?a(n):a;c.className&&"function"==typeof c.className&&(c.className=c.className(n));let p={};if(n){let e=!1,t=[];for(let[r,i]of Object.entries(n))"boolean"==typeof i&&(e=!0),!0===i&&t.push(r);e&&(p["data-headlessui-state"]=t.join(" "))}if(s===require$$0$1.Fragment&&Object.keys(P$1(c)).length>0){if(!require$$0$1.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let t=e(null==(o=d.props)?void 0:o.className,c.className),n=t?{className:t}:{};return require$$0$1.cloneElement(d,Object.assign({},h(d.props,P$1(T(c,["ref"]))),p,u,O$1(d.ref,u.ref),n))}return require$$0$1.createElement(s,Object.assign({},T(c,["ref"]),s!==require$$0$1.Fragment&&u,s!==require$$0$1.Fragment&&p),d)}function O$1(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}}function h(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let i=n[e];for(let e of i){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function V(e){var t;return Object.assign(require$$0$1.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function P$1(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function T(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function r(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!i(n))&&r}function i(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let o$1=require$$0$1.createContext(null);o$1.displayName="OpenClosedContext";var p=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(p||{});function s(){return require$$0$1.useContext(o$1)}function C({value:e,children:t}){return require$$0__default.default.createElement(o$1.Provider,{value:e},t)}var o=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(o||{});function t$1(e){return[e.screenX,e.screenY]}function u(){let e=require$$0$1.useRef([-1,-1]);return{wasMoved(t){let n=t$1(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=t$1(t)}}}function f$1(){let e=require$$0$1.useRef(!1);return l$2((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function n(...e){return require$$0$1.useMemo((()=>e$1(...e)),[...e])}var pe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pe||{}),de$1=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(de$1||{}),me=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(me||{});function U(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=A$1(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let fe={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var n;let r=U(e),i=x(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),o=i?e.items.indexOf(i):-1;return-1===o||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=U(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=U(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},G=require$$0$1.createContext(null);function O(e){let t=require$$0$1.useContext(G);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}return t}function Te(e,t){return u$2(t.type,fe,e,t)}G.displayName="MenuContext";let ye=require$$0$1.Fragment,Ie=V((function(e,t){let n=require$$0$1.useReducer(Te,{menuState:1,buttonRef:require$$0$1.createRef(),itemsRef:require$$0$1.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:i,buttonRef:o},s]=n,a=y(t);L([o,i],((e,t)=>{var n;s({type:1}),h$1(t,F$2.Loose)||(e.preventDefault(),null==(n=o.current)||n.focus())}),0===r);let l=o$3((()=>{s({type:1})})),c=require$$0$1.useMemo((()=>({open:0===r,close:l})),[r,l]),u=e,d={ref:a};return require$$0__default.default.createElement(G.Provider,{value:n},require$$0__default.default.createElement(C,{value:u$2(r,{0:p.Open,1:p.Closed})},X({ourProps:d,theirProps:u,slot:c,defaultTag:ye,name:"Menu"})))})),ge$1="button",Me=V((function(e,t){var n;let i=I$2(),{id:s=`headlessui-menu-button-${i}`,...l}=e,[c,u]=O("Menu.Button"),d=y(c.buttonRef,t),h=p$1(),p=o$3((e=>{switch(e.key){case o.Space:case o.Enter:case o.ArrowDown:e.preventDefault(),e.stopPropagation(),u({type:0}),h.nextFrame((()=>u({type:2,focus:a.First})));break;case o.ArrowUp:e.preventDefault(),e.stopPropagation(),u({type:0}),h.nextFrame((()=>u({type:2,focus:a.Last})))}})),f=o$3((e=>{if(e.key===o.Space)e.preventDefault()})),m=o$3((t=>{if(r(t.currentTarget))return t.preventDefault();e.disabled||(0===c.menuState?(u({type:1}),h.nextFrame((()=>{var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),u({type:0})))})),g=require$$0$1.useMemo((()=>({open:0===c.menuState})),[c]);return X({ourProps:{ref:d,id:s,type:s$1(e,c.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=c.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===c.menuState,onKeyDown:p,onKeyUp:f,onClick:m},theirProps:l,slot:g,defaultTag:ge$1,name:"Menu.Button"})})),Re="div",be$1=j.RenderStrategy|j.Static,Ae=V((function(e,t){var r,i;let l=I$2(),{id:c=`headlessui-menu-items-${l}`,...u}=e,[d,h]=O("Menu.Items"),f=y(d.itemsRef,t),m=n(d.itemsRef),v=p$1(),b=s(),_=null!==b?b===p.Open:0===d.menuState;require$$0$1.useEffect((()=>{let e=d.itemsRef.current;!e||0===d.menuState&&e!==(null==m?void 0:m.activeElement)&&e.focus({preventScroll:!0})}),[d.menuState,d.itemsRef,m]),F$1({container:d.itemsRef.current,enabled:0===d.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let w=o$3((e=>{var t,n;switch(v.dispose(),e.key){case o.Space:if(""!==d.searchQuery)return e.preventDefault(),e.stopPropagation(),h({type:3,value:e.key});case o.Enter:if(e.preventDefault(),e.stopPropagation(),h({type:1}),null!==d.activeItemIndex){let{dataRef:e}=d.items[d.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}g(d.buttonRef.current);break;case o.ArrowDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:a.Next});case o.ArrowUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:a.Previous});case o.Home:case o.PageUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:a.First});case o.End:case o.PageDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:a.Last});case o.Escape:e.preventDefault(),e.stopPropagation(),h({type:1}),m$1().nextFrame((()=>{var e;return null==(e=d.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case o.Tab:e.preventDefault(),e.stopPropagation(),h({type:1}),m$1().nextFrame((()=>{v$1(d.buttonRef.current,e.shiftKey?L$1.Previous:L$1.Next)}));break;default:1===e.key.length&&(h({type:3,value:e.key}),v.setTimeout((()=>h({type:4})),350))}})),$=o$3((e=>{if(e.key===o.Space)e.preventDefault()})),S=require$$0$1.useMemo((()=>({open:0===d.menuState})),[d]);return X({ourProps:{"aria-activedescendant":null===d.activeItemIndex||null==(r=d.items[d.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(i=d.buttonRef.current)?void 0:i.id,id:c,onKeyDown:w,onKeyUp:$,role:"menu",tabIndex:0,ref:f},theirProps:u,slot:S,defaultTag:Re,features:be$1,visible:_,name:"Menu.Items"})})),ve=require$$0$1.Fragment,Se$1=V((function(e,t){let n=I$2(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,[s,l]=O("Menu.Item"),c=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===r,d=require$$0$1.useRef(null),h=y(t,d);l$2((()=>{if(0!==s.menuState||!c||0===s.activationTrigger)return;let e=m$1();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[d,c,s.menuState,s.activationTrigger,s.activeItemIndex]);let p=require$$0$1.useRef({disabled:i,domRef:d});l$2((()=>{p.current.disabled=i}),[p,i]),l$2((()=>{var e,t;p.current.textValue=null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[p,d]),l$2((()=>(l({type:5,id:r,dataRef:p}),()=>l({type:6,id:r}))),[p,r]);let f=o$3((()=>{l({type:1})})),m=o$3((e=>{if(i)return e.preventDefault();l({type:1}),g(s.buttonRef.current)})),v=o$3((()=>{if(i)return l({type:2,focus:a.Nothing});l({type:2,focus:a.Specific,id:r})})),b=u(),_=o$3((e=>b.update(e))),w=o$3((e=>{!b.wasMoved(e)||i||c||l({type:2,focus:a.Specific,id:r,trigger:0})})),$=o$3((e=>{!b.wasMoved(e)||i||!c||l({type:2,focus:a.Nothing})})),S=require$$0$1.useMemo((()=>({active:c,disabled:i,close:f})),[c,i,f]);return X({ourProps:{id:r,ref:h,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:m,onFocus:v,onPointerEnter:_,onMouseEnter:_,onPointerMove:w,onMouseMove:w,onPointerLeave:$,onMouseLeave:$},theirProps:o,slot:S,defaultTag:ve,name:"Menu.Item"})})),Ze=Object.assign(Ie,{Button:Me,Items:Ae,Item:Se$1});function l(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function v(e,...t){e&&t.length>0&&e.classList.add(...t)}function f(e,...t){e&&t.length>0&&e.classList.remove(...t)}function F(e,t){let n=m$1();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,s]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(o+s!==0){let r=n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),r())}))}else t();return n.add((()=>t())),n.dispose}function M$1(e,t,n,r){let i=n?"enter":"leave",o=m$1(),s=void 0!==r?l(r):()=>{};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");let a=u$2(i,{enter:()=>t.enter,leave:()=>t.leave}),c=u$2(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=u$2(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return f(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),v(e,...a,...u),o.nextFrame((()=>{f(e,...u),v(e,...c),F(e,(()=>(f(e,...a),v(e,...t.entered),s())))})),o.dispose}function D({container:e,direction:t,classes:n,onStart:r,onStop:i}){let o=f$1(),s=p$1(),a=s$2(t);l$2((()=>{let t=m$1();s.add(t.dispose);let l=e.current;if(l&&"idle"!==a.current&&o.current)return t.dispose(),r.current(a.current),t.add(M$1(l,n.current,"enter"===a.current,(()=>{t.dispose(),i.current(a.current)}))),t.dispose}),[t])}function P(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let A=require$$0$1.createContext(null);A.displayName="TransitionContext";var ge=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ge||{});function be(){let e=require$$0$1.useContext(A);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ee(){let e=require$$0$1.useContext(M);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let M=require$$0$1.createContext(null);function I(e){return"children"in e?I(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function ne(e,t){let n=s$2(e),r=require$$0$1.useRef([]),i=f$1(),o=p$1(),s=o$3(((e,t=w.Hidden)=>{let s=r.current.findIndex((({el:t})=>t===e));-1!==s&&(u$2(t,{[w.Unmount](){r.current.splice(s,1)},[w.Hidden](){r.current[s].state="hidden"}}),o.microTask((()=>{var e;!I(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),a=o$3((e=>{let t=r.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>s(e,w.Unmount)})),l=require$$0$1.useRef([]),c=require$$0$1.useRef(Promise.resolve()),u=require$$0$1.useRef({enter:[],leave:[],idle:[]}),d=o$3(((e,n,r)=>{l.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((([t])=>t!==e))),null==t||t.chains.current[n].push([e,new Promise((e=>{l.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(u.current[n].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===n?c.current=c.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),h=o$3(((e,t,n)=>{Promise.all(u.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=l.current.shift())||e()})).then((()=>n(t)))}));return require$$0$1.useMemo((()=>({children:r,register:a,unregister:s,onStart:d,onStop:h,wait:c,chains:u})),[a,s,r,d,h,u,c])}function Se(){}M.displayName="NestingContext";let xe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function re(e){var t;let n={};for(let r of xe)n[r]=null!=(t=e[r])?t:Se;return n}function Pe(e){let t=require$$0$1.useRef(re(e));return require$$0$1.useEffect((()=>{t.current=re(e)}),[e]),t}let He="div",ie=j.RenderStrategy,oe=V((function(t,n){let{beforeEnter:r,afterEnter:i,beforeLeave:o,afterLeave:s,enter:a,enterFrom:l,enterTo:c,entered:u,leave:d,leaveFrom:h,leaveTo:f,...m}=t,g=require$$0$1.useRef(null),v=y(g,n),b=m.unmount?w.Unmount:w.Hidden,{show:_,appear:$,initial:S}=be(),[x,E]=require$$0$1.useState(_?"visible":"hidden"),O=Ee(),{register:k,unregister:A}=O,T=require$$0$1.useRef(null);require$$0$1.useEffect((()=>k(g)),[k,g]),require$$0$1.useEffect((()=>{if(b===w.Hidden&&g.current)return _&&"visible"!==x?void E("visible"):u$2(x,{hidden:()=>A(g),visible:()=>k(g)})}),[x,g,k,A,_,b]);let R=s$2({enter:P(a),enterFrom:P(l),enterTo:P(c),entered:P(u),leave:P(d),leaveFrom:P(h),leaveTo:P(f)}),L=Pe({beforeEnter:r,afterEnter:i,beforeLeave:o,afterLeave:s}),N=l$1();require$$0$1.useEffect((()=>{if(N&&"visible"===x&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[g,x,N]);let j=S&&!$,F=!N||j||T.current===_?"idle":_?"enter":"leave",z=o$3((e=>u$2(e,{enter:()=>L.current.beforeEnter(),leave:()=>L.current.beforeLeave(),idle:()=>{}}))),U=o$3((e=>u$2(e,{enter:()=>L.current.afterEnter(),leave:()=>L.current.afterLeave(),idle:()=>{}}))),q=ne((()=>{E("hidden"),A(g)}),O);D({container:g,classes:R,direction:F,onStart:s$2((e=>{q.onStart(g,e,z)})),onStop:s$2((e=>{q.onStop(g,e,U),"leave"===e&&!I(q)&&(E("hidden"),A(g))}))}),require$$0$1.useEffect((()=>{!j||(b===w.Hidden?T.current=null:T.current=_)}),[_,j,x]);let H=m,B={ref:v};return $&&_&&s$3.isServer&&(H={...H,className:e(m.className,...R.current.enter,...R.current.enterFrom)}),require$$0__default.default.createElement(M.Provider,{value:q},require$$0__default.default.createElement(C,{value:u$2(x,{visible:p.Open,hidden:p.Closed})},X({ourProps:B,theirProps:H,defaultTag:He,features:ie,visible:"visible"===x,name:"Transition.Child"})))})),J=V((function(e,t){let{show:n,appear:r=!1,unmount:i,...o}=e,a=require$$0$1.useRef(null),l=y(a,t);l$1();let c=s();if(void 0===n&&null!==c&&(n=u$2(c,{[p.Open]:!0,[p.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=require$$0$1.useState(n?"visible":"hidden"),h=ne((()=>{d("hidden")})),[f,m]=require$$0$1.useState(!0),g=require$$0$1.useRef([n]);l$2((()=>{!1!==f&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))}),[g,n]);let v=require$$0$1.useMemo((()=>({show:n,appear:r,initial:f})),[n,r,f]);require$$0$1.useEffect((()=>{if(n)d("visible");else if(I(h)){let e=a.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")}),[n,h]);let b={unmount:i};return require$$0__default.default.createElement(M.Provider,{value:h},require$$0__default.default.createElement(A.Provider,{value:v},X({ourProps:{...b,as:require$$0$1.Fragment,children:require$$0__default.default.createElement(oe,{ref:l,...b,...o})},theirProps:{},defaultTag:require$$0$1.Fragment,features:ie,visible:"visible"===u,name:"Transition"})))})),Ne=V((function(e,t){let n=null!==require$$0$1.useContext(A),r=null!==s();return require$$0__default.default.createElement(require$$0__default.default.Fragment,null,!n&&r?require$$0__default.default.createElement(J,{ref:t,...e}):require$$0__default.default.createElement(oe,{ref:t,...e}))})),Ke=Object.assign(J,{Child:Ne,Root:J});var MessageDropdown=function(e){var t=require$$0$1.useState(!1),n=t[0],r=t[1],i=require$$0$1.useMemo((function(){return e.messageLength>25}),[]);return require$$0__default.default.createElement(Ze,{as:"div",className:classNames("absolute items-center group-hover:visible top-0 bottom-0 my-auto mx-0 h-min",e.myMessage?"-left-8":"-right-8",n?"!visible":"invisible")},(function(t){var n=t.open;return require$$0$1.useEffect((function(){r(n)}),[n]),require$$0__default.default.createElement(require$$0__default.default.Fragment,null,require$$0__default.default.createElement(Ze.Button,{className:"h-5 w-5 text-gray-500 hover:bg-gray-100 rounded-full my-auto"},require$$0__default.default.createElement(EllipsisHorizontalIcon,{className:"h-5 w-5"})),require$$0__default.default.createElement(Ke,{as:require$$0$1.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},require$$0__default.default.createElement(Ze.Items,{className:classNames("absolute z-10 w-40 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none group-[:nth-last-child(2)]:bottom-[calc(100%_+_0.5rem)] @2xl:right-0 @2xl:left-auto",i||e.isMediaAttached?"":"!left-auto !right-0",e.isMediaAttached?"left-0 right-auto @2xl:!left-auto @2xl:!right-0":"")},require$$0__default.default.createElement("div",{className:"py-1"},e.items.map((function(e,t){var n=!1;return"isDisabled"in e&&(n=!!e.isDisabled),require$$0__default.default.createElement(Ze.Item,{disabled:n,key:t},(function(t){var n=t.active,r=t.disabled;return require$$0__default.default.createElement("span",{className:classNames("text-left",n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm cursor-pointer",(null==e?void 0:e.textColorClass)?e.textColorClass:"",r?"!text-gray-400 !cursor-not-allowed":""),onClick:function(t){return e.onClick(t)}},e.label)}))}))))))}))},Message=function(e){var t,n,r=e.message,i=e.divider,o=void 0!==i&&i,s=useTranslation().t,a=useRc().rc,l=useAppSelector((function(e){return e.user})).user,c=useAppDispatch(),u=useTheme(),d=u.theme,h=u.themes,p=require$$0$1.useMemo((function(){return(null==l?void 0:l._id)===r.u._id}),[null==l?void 0:l._id,r.u._id]),f=[{label:s("DELETE"),onClick:function(){return __awaiter$5(void 0,void 0,void 0,(function(){return __generator$5(this,(function(e){switch(e.label){case 0:return[4,a.deleteMessage(r.rid,r._id)];case 1:return e.sent(),c(removeOne(r._id)),[2]}}))}))},isDisabled:!1,textColorClass:"!text-red-500"}];return require$$0__default.default.createElement("div",{className:classNames("message flex mb-2 w-100 mx-4 flex-wrap items-end group",p?"justify-end message-owner":"")},o?require$$0__default.default.createElement(MessageDivider,{message:r}):null,p?null:require$$0__default.default.createElement(Avatar,{height:24,width:24,username:r.u.username}),require$$0__default.default.createElement("div",{className:classNames("flex flex-col relative ml-2 bg-gray-100 rounded-md max-w-[calc(100%_-_2.31rem)]",p?d===h.TEAL?"!bg-theme-teal-0":"!bg-sky-50":"")},(null===(t=r.attachments)||void 0===t?void 0:t.length)?require$$0__default.default.createElement(Attachments,{attachments:r.attachments}):null,r.msg?require$$0__default.default.createElement(MessageBody,{message:r}):null,require$$0__default.default.createElement(MessageFooter,{message:r}),p?require$$0__default.default.createElement(MessageDropdown,{isMediaAttached:!!(null===(n=r.attachments)||void 0===n?void 0:n.length),myMessage:p,items:f,messageLength:r.msg?r.msg.length:0}):null))};function Spinner(e){var t=e.cssClasses,n=void 0===t?"inline mr-3 text-gray-400 animate-spin fill-white":t,r=e.size;return n+=r&&"small"===r?" h-3 w-3 mb-0.5":" h-4 w-4",React.createElement("svg",{role:"status",className:n,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),React.createElement("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"}))}var List=require$$0__default.default.forwardRef((function(e,t){var n=e.messages,r=e.loadMore,i=e.isLoading,o=require$$0$1.useRef(null),s=require$$0$1.useState(!1),a=s[0],l=s[1],c=require$$0$1.useState(!1),u=c[0],d=c[1],h=function(e){e[0].isIntersecting?l(!0):l(!1)},p=require$$0$1.useCallback((function(){(null==t?void 0:t.current)&&t.current.scrollIntoView({})}),[t]);require$$0$1.useEffect((function(){a&&u&&r()}),[a]),require$$0$1.useEffect((function(){var e=new IntersectionObserver(h,{threshold:0});return o.current&&e.observe(o.current),function(){o.current&&e.unobserve(o.current)}}),[]),require$$0$1.useEffect((function(){n.length&&d(!0)}),[n.length]),require$$0$1.useEffect((function(){p()}),[u]);return require$$0__default.default.createElement("div",{className:"@container overflow-y-scroll overflow-x-hidden flex-1"},require$$0__default.default.createElement("div",{className:"loader h-20 flex justify-center items-center",ref:o},i?require$$0__default.default.createElement(Spinner,null):null),n.map((function(e,t,n){var r,i,o=n[t>0?t-1:0],s=(r=e,!(i=o)||!isSameDay(new Date(r.ts),new Date(i.ts)));return require$$0__default.default.createElement(Message,{key:e._id,divider:s,message:e})})),require$$0__default.default.createElement("div",{className:"h-1",ref:t}))})),Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer="undefined"==typeof window||"Deno"in window;function noop$1(){}function functionalUpdate(e,t){return"function"==typeof e?e(t):e}function isValidTimeout(e){return"number"==typeof e&&e>=0&&e!==1/0}function timeUntilStale(e,t){return Math.max(e+(t||0)-Date.now(),0)}function matchQuery(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==hashQueryKeyByOptions(s,t.options))return!1}else if(!partialMatchKey(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((void 0===i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function matchMutation(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(hashKey(t.options.mutationKey)!==hashKey(o))return!1}else if(!partialMatchKey(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function hashQueryKeyByOptions(e,t){return(t?.queryKeyHashFn||hashKey)(e)}function hashKey(e){return JSON.stringify(e,((e,t)=>isPlainObject(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function partialMatchKey(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!partialMatchKey(e[n],t[n]))))}function replaceEqualDeep(e,t){if(e===t)return e;const n=isPlainArray(e)&&isPlainArray(t);if(n||isPlainObject(e)&&isPlainObject(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,s=n?[]:{};let a=0;for(let r=0;r<o;r++){const o=n?r:i[r];s[o]=replaceEqualDeep(e[o],t[o]),s[o]===e[o]&&a++}return r===o&&a===r?e:s}return t}function shallowEqualObjects(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject(e){if(!hasObjectPrototype(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!hasObjectPrototype(n)&&!!n.hasOwnProperty("isPrototypeOf")}function hasObjectPrototype(e){return"[object Object]"===Object.prototype.toString.call(e)}function sleep(e){return new Promise((t=>{setTimeout(t,e)}))}function replaceData(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?replaceEqualDeep(e,t):t}function addToEnd(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function addToStart(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var FocusManager=class extends Subscribable{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!isServer&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){this.listeners.forEach((e=>{e()}))}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},focusManager=new FocusManager,OnlineManager=class extends Subscribable{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!isServer&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}},onlineManager=new OnlineManager;function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return"online"!==(e??"online")||onlineManager.isOnline()}var CancelledError=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function isCancelledError(e){return e instanceof CancelledError}function createRetryer(e){let t,n,r,i=!1,o=0,s=!1;const a=new Promise(((e,t)=>{n=e,r=t})),l=()=>!focusManager.isFocused()||"always"!==e.networkMode&&!onlineManager.isOnline(),c=r=>{s||(s=!0,e.onSuccess?.(r),t?.(),n(r))},u=n=>{s||(s=!0,e.onError?.(n),t?.(),r(n))},d=()=>new Promise((n=>{t=e=>{const t=s||!l();return t&&n(e),t},e.onPause?.()})).then((()=>{t=void 0,s||e.onContinue?.()})),h=()=>{if(s)return;let t;try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(c).catch((t=>{if(s)return;const n=e.retry??(isServer?0:3),r=e.retryDelay??defaultRetryDelay,a="function"==typeof r?r(o,t):r,c=!0===n||"number"==typeof n&&o<n||"function"==typeof n&&n(o,t);!i&&c?(o++,e.onFail?.(o,t),sleep(a).then((()=>{if(l())return d()})).then((()=>{i?u(t):h()}))):u(t)}))};return canFetch(e.networkMode)?h():d().then(h),{promise:a,cancel:t=>{s||(u(new CancelledError(t)),e.abort?.())},continue:()=>{const e=t?.();return e?a:Promise.resolve()},cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}function createNotifyManager(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const o=r=>{t?e.push(r):i((()=>{n(r)}))},s=()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||s()}return n},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}var notifyManager=createNotifyManager(),Removable=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},Query=class extends Removable{constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.#a(e.options),this.#l=[],this.#c=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#u=e.state||getDefaultState$1(this.options),this.state=this.#u,this.scheduleGc()}#u;#d;#c;#h;#p;#l;#s;#o;get meta(){return this.options.meta}#a(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.#l.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const n=replaceData(this.state.data,e,this.options);return this.#f({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#h;return this.#p?.cancel(e),t?t.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#u)}isActive(){return this.#l.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#l.some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){const e=this.#l.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#p?.continue()}onOnline(){const e=this.#l.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#p?.continue()}addObserver(e){this.#l.includes(e)||(this.#l.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.#l.includes(e)&&(this.#l=this.#l.filter((t=>t!==e)),this.#l.length||(this.#p&&(this.#o?this.#p.cancel({revert:!0}):this.#p.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.#l.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#h)return this.#p?.continueRetry(),this.#h;if(e&&this.#a(e),!this.options.queryFn){const e=this.#l.find((e=>e.options.queryFn));e&&this.#a(e.options)}const n=new AbortController,r={queryKey:this.queryKey,meta:this.meta},i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})};i(r);const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.#o=!1,this.options.persister?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`))};i(o),this.options.behavior?.onFetch(o,this),this.#d=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#f({type:"fetch",meta:o.fetchOptions?.meta});const s=e=>{isCancelledError(e)&&e.silent||this.#f({type:"error",error:e}),isCancelledError(e)||(this.#c.config.onError?.(e,this),this.#c.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#p=createRetryer({fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{void 0!==e?(this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode}),this.#h=this.#p.promise,this.#h}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return isCancelledError(n)&&n.revert&&this.#d?{...this.#d,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),notifyManager.batch((()=>{this.#l.forEach((e=>{e.onQueryUpdate()})),this.#c.notify({query:this,type:"updated",action:e})}))}};function getDefaultState$1(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var QueryCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#m=new Map}#m;build(e,t,n){const r=t.queryKey,i=t.queryHash??hashQueryKeyByOptions(r,t);let o=this.get(i);return o||(o=new Query({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#m.has(e.queryHash)||(this.#m.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#m.get(e.queryHash);t&&(e.destroy(),t===e&&this.#m.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#m.get(e)}getAll(){return[...this.#m.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>matchQuery(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>matchQuery(e,t))):t}notify(e){notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){notifyManager.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){notifyManager.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},Mutation=class extends Removable{constructor(e){super(),this.mutationId=e.mutationId,this.#s=e.defaultOptions,this.#g=e.mutationCache,this.#l=[],this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}#l;#s;#g;#p;setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#l.includes(e)||(this.#l.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#l=this.#l.filter((t=>t!==e)),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#l.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#p?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>(this.#p=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#p.promise),n="pending"===this.state.status;try{if(!n){this.#f({type:"pending",variables:e}),await(this.#g.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e})}const r=await t();return await(this.#g.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#g.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#f({type:"success",data:r}),r}catch(t){try{throw await(this.#g.config.onError?.(t,e,this.state.context,this)),await(this.options.onError?.(t,e,this.state.context)),await(this.#g.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,t,e,this.state.context)),t}finally{this.#f({type:"error",error:t})}}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),notifyManager.batch((()=>{this.#l.forEach((t=>{t.onMutationUpdate(e)})),this.#g.notify({mutation:this,type:"updated",action:e})}))}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#y=[],this.#v=0}#y;#v;#b;build(e,t,n){const r=new Mutation({mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#y.push(e),this.notify({type:"added",mutation:e})}remove(e){this.#y=this.#y.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){notifyManager.batch((()=>{this.#y.forEach((e=>{this.remove(e)}))}))}getAll(){return this.#y}find(e){const t={exact:!0,...e};return this.#y.find((e=>matchMutation(t,e)))}findAll(e={}){return this.#y.filter((t=>matchMutation(e,t)))}notify(e){notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){return this.#b=(this.#b??Promise.resolve()).then((()=>{const e=this.#y.filter((e=>e.state.isPaused));return notifyManager.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(noop$1)))),Promise.resolve())))})).then((()=>{this.#b=void 0})),this.#b}};function infiniteQueryBehavior(e){return{onFetch:(t,n)=>{const r=async()=>{const n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[],s={pages:[],pageParams:[]};let a=!1;const l=t.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`))),c=async(e,n,r)=>{if(a)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:n,direction:r?"backward":"forward",meta:t.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",(()=>{a=!0})),t.signal)});const s=await l(i),{maxPages:c}=t.options,u=r?addToStart:addToEnd;return{pages:u(e.pages,s,c),pageParams:u(e.pageParams,n,c)}};let u;if(r&&i.length){const e="backward"===r,t={pages:i,pageParams:o},s=(e?getPreviousPageParam:getNextPageParam)(n,t);u=await c(t,s,e)}else{u=await c(s,o[0]??n.initialPageParam);const t=e??i.length;for(let e=1;e<t;e++){const e=getNextPageParam(n,u);u=await c(u,e)}}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=r}}}function getNextPageParam(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function getPreviousPageParam(e,{pages:t,pageParams:n}){return e.getPreviousPageParam?.(t[0],t,n[0],n)}function hasNextPage(e,t){return!!t&&null!=getNextPageParam(e,t)}function hasPreviousPage(e,t){return!(!t||!e.getPreviousPageParam)&&null!=getPreviousPageParam(e,t)}var QueryClient=class{#_;#g;#s;#w;#$;#S;#x;#E;constructor(e={}){this.#_=e.queryCache||new QueryCache,this.#g=e.mutationCache||new MutationCache,this.#s=e.defaultOptions||{},this.#w=new Map,this.#$=new Map,this.#S=0}mount(){this.#S++,1===this.#S&&(this.#x=focusManager.subscribe((()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.#_.onFocus())})),this.#E=onlineManager.subscribe((()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.#_.onOnline())})))}unmount(){this.#S--,0===this.#S&&(this.#x?.(),this.#x=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#_.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){return this.#_.find({queryKey:e})?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);return void 0!==t?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.#_.find({queryKey:e})?.state.data,i=functionalUpdate(t,r);if(void 0===i)return;const o=this.defaultQueryOptions({queryKey:e});return this.#_.build(this,o).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return notifyManager.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){return this.#_.find({queryKey:e})?.state}removeQueries(e){const t=this.#_;notifyManager.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#_,r={type:"active",...e};return notifyManager.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=notifyManager.batch((()=>this.#_.findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(noop$1).catch(noop$1)}invalidateQueries(e={},t={}){return notifyManager.batch((()=>{if(this.#_.findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=notifyManager.batch((()=>this.#_.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(noop$1)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(noop$1)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#_.build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$1).catch(noop$1)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$1).catch(noop$1)}resumePausedMutations(){return this.#g.resumePausedMutations()}getQueryCache(){return this.#_}getMutationCache(){return this.#g}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#w.set(hashKey(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#w.values()];let n={};return t.forEach((t=>{partialMatchKey(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){this.#$.set(hashKey(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#$.values()];let n={};return t.forEach((t=>{partialMatchKey(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e?._defaulted)return e;const t={...this.#s.queries,...e?.queryKey&&this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hashQueryKeyByOptions(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),void 0===t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#_.clear(),this.#g.clear()}},QueryObserver=class extends Subscribable{constructor(e,t){super(),this.options=t,this.#O=e,this.#k=null,this.bindMethods(),this.setOptions(t)}#O;#A=void 0;#P=void 0;#T=void 0;#R;#C;#k;#I;#D;#L;#M;#N;#j;#F=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#A.addObserver(this),shouldFetchOnMount(this.#A,this.options)?this.#z():this.updateResult(),this.#U())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#A,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#A,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#q(),this.#H(),this.#A.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#A;if(this.options=this.#O.defaultQueryOptions(e),shallowEqualObjects(n,this.options)||this.#O.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#A,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.#B();const i=this.hasListeners();i&&shouldFetchOptionally(this.#A,r,this.options,n)&&this.#z(),this.updateResult(t),!i||this.#A===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.#W();const o=this.#G();!i||this.#A===r&&this.options.enabled===n.enabled&&o===this.#j||this.#V(o)}getOptimisticResult(e){const t=this.#O.getQueryCache().build(this.#O,e),n=this.createResult(t,e);return shouldAssignObserverCurrentProperties(this,n)&&(this.#T=n,this.#C=this.options,this.#R=this.#A.state),n}getCurrentResult(){return this.#T}trackResult(e){const t={};return Object.keys(e).forEach((n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.#F.add(n),e[n])})})),t}getCurrentQuery(){return this.#A}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#O.defaultQueryOptions(e),n=this.#O.getQueryCache().build(this.#O,t);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#z({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#T)))}#z(e){this.#B();let t=this.#A.fetch(this.options,e);return e?.throwOnError||(t=t.catch(noop$1)),t}#W(){if(this.#q(),isServer||this.#T.isStale||!isValidTimeout(this.options.staleTime))return;const e=timeUntilStale(this.#T.dataUpdatedAt,this.options.staleTime)+1;this.#M=setTimeout((()=>{this.#T.isStale||this.updateResult()}),e)}#G(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#A):this.options.refetchInterval)??!1}#V(e){this.#H(),this.#j=e,!isServer&&!1!==this.options.enabled&&isValidTimeout(this.#j)&&0!==this.#j&&(this.#N=setInterval((()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#z()}),this.#j))}#U(){this.#W(),this.#V(this.#G())}#q(){this.#M&&(clearTimeout(this.#M),this.#M=void 0)}#H(){this.#N&&(clearInterval(this.#N),this.#N=void 0)}createResult(e,t){const n=this.#A,r=this.options,i=this.#T,o=this.#R,s=this.#C,a=e!==n?e.state:this.#P,{state:l}=e;let c,{error:u,errorUpdatedAt:d,fetchStatus:h,status:p}=l,f=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&shouldFetchOnMount(e,t),s=i&&shouldFetchOptionally(e,n,t,r);(o||s)&&(h=canFetch(e.options.networkMode)?"fetching":"paused",l.dataUpdatedAt||(p="pending")),"isRestoring"===t._optimisticResults&&(h="idle")}if(t.select&&void 0!==l.data)if(i&&l.data===o?.data&&t.select===this.#I)c=this.#D;else try{this.#I=t.select,c=t.select(l.data),c=replaceData(i?.data,c,t),this.#D=c,this.#k=null}catch(e){this.#k=e}else c=l.data;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;if(i?.isPlaceholderData&&t.placeholderData===s?.placeholderData)e=i.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#L?.state.data,this.#L):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#k=null}catch(e){this.#k=e}void 0!==e&&(p="success",c=replaceData(i?.data,e,t),f=!0)}this.#k&&(u=this.#k,c=this.#D,d=Date.now(),p="error");const m="fetching"===h,g="pending"===p,y="error"===p,v=g&&m;return{status:p,fetchStatus:h,isPending:g,isSuccess:"success"===p,isError:y,isInitialLoading:v,isLoading:v,data:c,dataUpdatedAt:l.dataUpdatedAt,error:u,errorUpdatedAt:d,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>a.dataUpdateCount||l.errorUpdateCount>a.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:y&&0===l.dataUpdatedAt,isPaused:"paused"===h,isPlaceholderData:f,isRefetchError:y&&0!==l.dataUpdatedAt,isStale:isStale(e,t),refetch:this.refetch}}updateResult(e){const t=this.#T,n=this.createResult(this.#A,this.options);if(this.#R=this.#A.state,this.#C=this.options,void 0!==this.#R.data&&(this.#L=this.#A),shallowEqualObjects(n,t))return;this.#T=n;const r={};!1!==e?.listeners&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!this.#F.size)return!0;const r=new Set(n??this.#F);return this.options.throwOnError&&r.add("error"),Object.keys(this.#T).some((e=>{const n=e;return this.#T[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.#K({...r,...e})}#B(){const e=this.#O.getQueryCache().build(this.#O,this.options);if(e===this.#A)return;const t=this.#A;this.#A=e,this.#P=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#U()}#K(e){notifyManager.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#T)})),this.#O.getQueryCache().notify({query:this.#A,type:"observerResultsUpdated"})}))}};function shouldLoadOnMount(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}function shouldFetchOnMount(e,t){return shouldLoadOnMount(e,t)||e.state.dataUpdatedAt>0&&shouldFetchOn(e,t,t.refetchOnMount)}function shouldFetchOn(e,t,n){if(!1!==t.enabled){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&isStale(e,t)}return!1}function shouldFetchOptionally(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&isStale(e,n)}function isStale(e,t){return e.isStaleByTime(t.staleTime)}function shouldAssignObserverCurrentProperties(e,t){return!shallowEqualObjects(e.getCurrentResult(),t)}var InfiniteQueryObserver=class extends QueryObserver{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:infiniteQueryBehavior()},t)}getOptimisticResult(e){return e.behavior=infiniteQueryBehavior(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:o}=r,s=i&&"forward"===n.fetchMeta?.fetchMore?.direction,a=i&&"backward"===n.fetchMeta?.fetchMore?.direction;return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(t,n.data),hasPreviousPage:hasPreviousPage(t,n.data),isFetchingNextPage:s,isFetchingPreviousPage:a,isRefetching:o&&!s&&!a}}},QueryClientContext=require$$0__namespace.createContext(void 0),useQueryClient=e=>{const t=require$$0__namespace.useContext(QueryClientContext);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},QueryClientProvider=({client:e,children:t})=>(require$$0__namespace.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),require$$0__namespace.createElement(QueryClientContext.Provider,{value:e},t)),IsRestoringContext=require$$0__namespace.createContext(!1),useIsRestoring=()=>require$$0__namespace.useContext(IsRestoringContext);function createValue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}IsRestoringContext.Provider;var QueryErrorResetBoundaryContext=require$$0__namespace.createContext(createValue()),useQueryErrorResetBoundary=()=>require$$0__namespace.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(e,t){return"function"==typeof e?e(...t):!!e}var ensurePreventErrorBoundaryRetry=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},useClearResetErrorBoundary=e=>{require$$0__namespace.useEffect((()=>{e.clearReset()}),[e])},getHasError=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&shouldThrowError(n,[e.error,r]),ensureStaleTime=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},shouldSuspend=(e,t)=>e?.suspense&&t.isPending,fetchOptimistic=(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()}));function useBaseQuery(e,t,n){const r=useQueryClient(n),i=useIsRestoring(),o=useQueryErrorResetBoundary(),s=r.defaultQueryOptions(e);s._optimisticResults=i?"isRestoring":"optimistic",ensureStaleTime(s),ensurePreventErrorBoundaryRetry(s,o),useClearResetErrorBoundary(o);const[a]=require$$0__namespace.useState((()=>new t(r,s))),l=a.getOptimisticResult(s);if(require$$0__namespace.useSyncExternalStore(require$$0__namespace.useCallback((e=>{const t=i?()=>{}:a.subscribe(notifyManager.batchCalls(e));return a.updateResult(),t}),[a,i]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),require$$0__namespace.useEffect((()=>{a.setOptions(s,{listeners:!1})}),[s,a]),shouldSuspend(s,l))throw fetchOptimistic(s,a,o);if(getHasError({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return s.notifyOnChangeProps?l:a.trackResult(l)}function useInfiniteQuery(e,t){return useBaseQuery(e,InfiniteQueryObserver,t)}var lib={},TextareaAutosize$1={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(e,t,n,r,i,o){if(o!==ReactPropTypesSecret){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return n.PropTypes=n,n};propTypes.exports=factoryWithThrowingShims();var autosize$1={exports:{}};
/*!
    	autosize 4.0.4
    	license: MIT
    	http://www.jacklmoore.com/autosize
    */!function(e,t){!function(e,t){var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t=null,n=null,r=null,s=function(){e.clientWidth!==n&&h()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",h,!1),e.removeEventListener("keyup",h,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",h,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",h,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",h,!1),e.addEventListener("autosize:update",h,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:a,update:h}),l()}function l(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),h()}function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function d(){if(0!==e.scrollHeight){var r=u(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach((function(e){e.node.scrollTop=e.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function h(){d();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(c("scroll"),d(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),d(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==i){r=i;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):(c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return s(e)})),e},c.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default}(e,t)}(autosize$1,autosize$1.exports);var computedStyle$1=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]},computedStyle_commonjs=computedStyle$1,computedStyle=computedStyle_commonjs;function lineHeight(e){var t=computedStyle(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=computedStyle(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,o=document.createElement(i);o.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&o.setAttribute("rows","1");var s=computedStyle(e,"font-size");o.style.fontSize=s,o.style.padding="0px",o.style.border="0px";var a=document.body;a.appendChild(o),n=o.offsetHeight,a.removeChild(o)}return n}var lineHeight_1=lineHeight,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};TextareaAutosize$1.__esModule=!0;var React$1=require$$0__default.default,PropTypes=propTypes.exports,autosize=autosize$1.exports,_getLineHeight=lineHeight_1,getLineHeight=_getLineHeight,RESIZED="autosize:resized",TextareaAutosizeClass=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=null,t.onResize=function(e){t.props.onResize&&t.props.onResize(e)},t.updateLineHeight=function(){t.textarea&&t.setState({lineHeight:getLineHeight(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t}return __extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,r=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return e.textarea&&autosize(e.textarea)})):this.textarea&&autosize(this.textarea),this.textarea&&this.textarea.addEventListener(RESIZED,this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(RESIZED,this.onResize),autosize.destroy(this.textarea))},t.prototype.render=function(){var e=this,t=this.props;t.onResize;var n=t.maxRows;t.onChange;var r=t.style;t.innerRef;var i=t.children,o=__rest(t,["onResize","maxRows","onChange","style","innerRef","children"]),s=this.state.lineHeight,a=n&&s?s*n:null;return React$1.createElement("textarea",__assign({},o,{onChange:this.onChange,style:a?__assign({},r,{maxHeight:a}):r,ref:function(t){e.textarea=t,"function"==typeof e.props.innerRef?e.props.innerRef(t):e.props.innerRef&&(e.props.innerRef.current=t)}}),i)},t.prototype.componentDidUpdate=function(){this.textarea&&autosize.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:PropTypes.number,maxRows:PropTypes.number,onResize:PropTypes.func,innerRef:PropTypes.any,async:PropTypes.bool},t}(React$1.Component);TextareaAutosize$1.TextareaAutosize=React$1.forwardRef((function(e,t){return React$1.createElement(TextareaAutosizeClass,__assign({},e,{innerRef:t}))})),function(e){e.__esModule=!0;var t=TextareaAutosize$1;e.default=t.TextareaAutosize}(lib);var TextareaAutosize=getDefaultExportFromCjs(lib),FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function p(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function f(e){return c=e,a=setTimeout(g,t),u?p(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=now();if(m(e))return y(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?nativeMin(n,o-(e-c)):n}(e))}function y(e){return a=void 0,h&&r?p(e):(r=i=void 0,s)}function v(){var e=now(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return f(l);if(d)return a=setTimeout(g,t),p(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=toNumber(t)||0,isObject(n)&&(u=!!n.leading,o=(d="maxWait"in n)?nativeMax(toNumber(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},v.flush=function(){return void 0===a?s:y(now())},v}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_debounce=debounce,useAudioRecorder=function(){var e=require$$0$1.useState(!1),t=e[0],n=e[1],r=require$$0$1.useState(0),i=r[0],o=r[1],s=require$$0$1.useState(),a=s[0];s[1];var l=require$$0$1.useState(),c=l[0],u=l[1],d=require$$0$1.useState();d[0],d[1];return{startRecording:require$$0$1.useCallback((function(){}),[a]),stopRecording:function(){o(0),u(null),n(!1)},recordingFile:c,isRecording:t,recordingTime:i}},VoiceRecorder=function(e){var t=e.onRecordingComplete,n=e.setRecordingState,r=require$$0$1.useState(!1),i=r[0],o=r[1],s=useAudioRecorder(),a=s.startRecording,l=s.stopRecording,c=s.recordingFile,u=s.isRecording,d=s.recordingTime;return require$$0$1.useEffect((function(){i&&null!=c&&null!=t&&(t(c),o(!1),n(!1))}),[c,i]),require$$0$1.useEffect((function(){n(!!u)}),[u]),u?React.createElement("div",{className:"flex items-center"},React.createElement("button",{className:"p-2 cursor-pointer text-gray-500",onClick:function(){l()}},React.createElement(XCircleIcon,{className:"text-red-600 h-[18px] w-[18px]"})),React.createElement("div",{className:"flex items-center "},React.createElement("div",{className:"h-2 w-2 rounded-full bg-red-600 mr-1"}),React.createElement("span",{className:"min-w-[43px] text-right"},formatToMMSS(d))),React.createElement("button",{className:"p-2 cursor-pointer text-gray-500 mr-1.5"},React.createElement(CheckCircleIcon,{className:"text-green-600 h-[18px] w-[18px]",onClick:function(){o(!0),l()}}))):React.createElement("button",{className:"p-2 cursor-pointer text-gray-500 mr-1.5",onClick:function(){a(),o(!1)}},React.createElement(MicrophoneIcon,{className:"h-[18px] w-[18px]"}))},css_248z$2="";styleInject(css_248z$2,{insertAt:"top"});var useFileUpload=function(){var e=useRc().rc,t=useAppDispatch(),n=function(e,n){t(updateUploader({id:e,changes:{progress:n.progress}}))},r=function(e){var n,r=e.e,i=e.id,o=!0;if(null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.errorType)if("error-invalid-file-type"===r.data.errorType);else o=!1;t(updateUploader({id:i,changes:{canReUpload:o,error:!0}}))},i=function(n){var r=n.id;n.res,t(removeUploader(r)),e.abortUpload(r)};return function(o,s,a){var l=generateUploader(o,s,a);t(upsertUploader(l)),e.uploadFile(l.id,o,s,n).then(i).catch(r)}},UploaderItem=function(e){var t=e.item,n=useRc().rc,r=useTranslation().t,i=useAppDispatch(),o=useFileUpload(),s=useTheme(),a=s.theme,l=s.themes,c=require$$0$1.useMemo((function(){return Math.round(100*t.progress)}),[t.progress]),u=require$$0$1.useCallback((function(){n.abortUpload(t.id),i(removeUploader(t.id))}),[]),d=require$$0$1.useCallback((function(){var e=n.getUploadingFile(t.id);e?o(t.rid,e,t.id):i(removeUploader(t.id))}),[]);return require$$0__default.default.createElement("div",{className:"pb-2 pt-2 flex items-center"},require$$0__default.default.createElement(DocumentIcon,{className:classNames("h-4 w-4 m-2 ml-1 mr-2.5",a===l.TEAL?"text-theme-teal-1":"text-indigo-500")}),require$$0__default.default.createElement("span",{className:"text-sm leading-5 font-medium text-gray-900 mr-5"},t.name),require$$0__default.default.createElement("div",{className:classNames("items-center text-sm leading-5 font-medium flex-1 flex justify-end",a===l.TEAL?"text-theme-teal-1":"text-sky-400")},t.error?require$$0__default.default.createElement(require$$0__default.default.Fragment,null,require$$0__default.default.createElement("span",{className:"text-red-500"},r("UPLOAD_FAILED")),t.canReUpload?require$$0__default.default.createElement("button",{onClick:d,className:"ml-3 text-red-500"},require$$0__default.default.createElement(ArrowPathIcon,{className:"h-4 w-4 mx-1 my-2"})):null):require$$0__default.default.createElement(require$$0__default.default.Fragment,null,c,"%",require$$0__default.default.createElement("button",{onClick:u,className:"ml-3"},require$$0__default.default.createElement(XMarkIcon,{className:"h-4 w-4 mx-1 my-2 text-red-500"})))))},useGetRoomId=function(){var e=useRc().rc,t=useAppSelector((function(e){return e.room})).rid,n=useAppDispatch();return function(){return __awaiter$5(void 0,void 0,void 0,(function(){var r;return __generator$5(this,(function(i){switch(i.label){case 0:if(t)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.createImRoom()];case 2:return r=i.sent(),n(setRoom(r)),[2,r._id];case 3:throw i.sent(),new Error("Cannot create im");case 4:return[2,t]}}))}))}},Composer=function(e){var t=e.isTyping,n=useAppSelector((function(e){return e.room})).rid,r=useAppSelector(uploaderSelectors.selectAll),i=useRc().rc,o=useTranslation().t,s=useQueryClient(),a=require$$0$1.useState(""),l=a[0],c=a[1],u=useGetRoomId(),d=useFileUpload(),h=require$$0$1.useState(!1),p=h[0],f=h[1],m=useTheme(),g=m.theme,y=m.themes,v=require$$0$1.useCallback((function(){c("")}),[]),b=require$$0$1.useCallback((function(e){return __awaiter$5(void 0,void 0,void 0,(function(){var t,r;return __generator$5(this,(function(o){switch(o.label){case 0:if(e&&e.preventDefault(),!l)return[2];o.label=1;case 1:return o.trys.push([1,4,,5]),t=n,[4,u()];case 2:return r=o.sent(),[4,i.sendMessage(r,l)];case 3:return o.sent(),r!==t&&s.resetQueries(["messages"]),$(),v(),[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}}))}))}),[l,n]),_=require$$0__default.default.useRef(lodash_debounce((function(){$()}),1e3)).current,w=require$$0$1.useCallback((function(){n&&i.sendIsTyping(n,!0)}),[n]),$=require$$0$1.useCallback((function(){n&&i.sendIsTyping(n,!1)}),[n]),S=require$$0$1.useCallback((function(e){var t=e.target;return __awaiter$5(void 0,void 0,void 0,(function(){var e;return __generator$5(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u()];case 1:return e=n.sent(),t.files&&Array.from(t.files).forEach((function(t){d(e,t)})),t.value="",[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))}),[n]);return require$$0__default.default.createElement("div",{className:"bg-white pb-4 pl-4 pr-4 relative"},require$$0__default.default.createElement("div",null,r.map((function(e){return require$$0__default.default.createElement(UploaderItem,{key:e.id,item:e})}))),require$$0__default.default.createElement("div",{className:"flex pt-4"},require$$0__default.default.createElement("div",{className:"flex flex-1 rounded-md outline outline-1 outline-gray-300"},require$$0__default.default.createElement(TextareaAutosize,{placeholder:o("MESSAGE")+"...",className:"ja-chat-composer flex-1 p-2.5 !pl-3 text-sm leading-[1.8em] outline-none font-normal placeholder:text-gray-500",rows:1,maxRows:5,value:l,onKeyDown:function(e){13!==e.keyCode||e.shiftKey||(e.preventDefault(),b())},onChange:function(e){c(e.target.value),w(),_()}}),p?null:require$$0__default.default.createElement("label",{htmlFor:"select-file",className:"p-2 px-1 cursor-pointer text-gray-500 relative flex items-center"},require$$0__default.default.createElement("input",{id:"select-file",className:"hidden",onChange:S,multiple:!0,type:"file"}),require$$0__default.default.createElement(PaperClipIcon,{className:"h-4 w-4 -rotate-45"})),require$$0__default.default.createElement(VoiceRecorder,{setRecordingState:function(e){f(e)},onRecordingComplete:function(e){return __awaiter$5(void 0,void 0,void 0,(function(){var t;return __generator$5(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u()];case 1:return t=n.sent(),d(t,e),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))}})),require$$0__default.default.createElement("button",{className:classNames("ml-1 p-2.5 cursor-pointer",l?g===y.TEAL?"text-theme-teal-1":"text-sky-500":"text-gray-300"),disabled:!l,type:"button",onClick:b},require$$0__default.default.createElement(PaperAirplaneIcon,{className:"h-[18px] w-[18px]"}))),t.display?require$$0__default.default.createElement("span",{className:"text-[10px] absolute bottom-0 left-4"},t.username," ",o("IS_TYPING")," ..."):null)},hasFocus=function(){return"undefined"!=typeof document&&document.hasFocus()},useWindowFocus=function(){var e=require$$0$1.useState(hasFocus),t=e[0],n=e[1];return require$$0$1.useEffect((function(){n(hasFocus());var e=function(){return n(!0)},t=function(){return n(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",t),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[]),t},css_248z$1="";styleInject(css_248z$1,{insertAt:"top"});var DropZone=function(e){var t=e.children,n=useTranslation().t,r=useGetRoomId(),i=useFileUpload(),o=useTheme(),s=o.theme,a=o.themes,l=require$$0__default.default.useRef(null),c=require$$0$1.useState(!1),u=c[0],d=c[1];return require$$0__default.default.createElement("div",{onDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},onDrop:function(e){return __awaiter$5(void 0,void 0,void 0,(function(){var t,n;return __generator$5(this,(function(o){switch(o.label){case 0:return e.preventDefault(),e.stopPropagation(),t=Array.from(e.dataTransfer.files),[4,r()];case 1:return n=o.sent(),t.forEach((function(e){i(n,e)})),d(!1),[2]}}))}))},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.target!==l.current&&d(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),e.target===l.current&&d(!1)},className:"ja-chat flex flex-col h-full overflow-hidden relative"},t,u?require$$0__default.default.createElement("div",{ref:l,"data-message":n("DROP_TO_UPLOAD_FILE"),className:classNames("absolute w-full h-full  bg-opacity-70 flex items-center justify-center text-white before:content-[attr(data-message)]",s===a.TEAL?"bg-theme-teal-1":"bg-sky-400")}):null)},NotificationButton=function(){var e=require$$0$1.useState("1"===localStorage.getItem("disablePushNotification")),t=e[0],n=e[1],r=useTranslation().t,i=useTheme(),o=i.theme,s=i.themes,a=require$$0$1.useMemo((function(){return o===s.TEAL?"bg-theme-teal-1":"bg-sky-200"}),[o]);return"default"!==(null===Notification||void 0===Notification?void 0:Notification.permission)||t?null:React.createElement("div",{className:classNames("flex w-full justify-center items-center p-2",a)},React.createElement("button",{onClick:function(){("Notification"in window&&"granted"!==Notification.permission||!t)&&Notification.requestPermission().then((function(e){"granted"===e&&new Notification(r("THANKS_YOU_FOR_ENABLING_NOTIFICATION"))}))}},r("ENABLE_PUSH_NOTIFICATIONS")),React.createElement("div",{className:"flex justify-center hover:cursor-pointer ml-2 items-center h-4 w-4",onClick:function(){n(!0),localStorage.setItem("disablePushNotification","1")}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))},useNotification=function(e,t){if(void 0===t&&(t={}),"granted"===Notification.permission)return new Notification(e,__assign$6({},t))};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof$2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function ownKeys$6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$6(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var consoleLogger={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Logger=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.init(t,n)}return _createClass(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||consoleLogger,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,_objectSpread$6(_objectSpread$6({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),baseLogger=new Logger,EventEmitter=function(){function e(){_classCallCheck(this,e),this.observers={}}return _createClass(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function defer(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function makeString(e){return null==e?"":""+e}function copy(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function getLastOfPath(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function setPath(e,t,n){var r=getLastOfPath(e,t,Object);r.obj[r.k]=n}function pushPath(e,t,n,r){var i=getLastOfPath(e,t,Object),o=i.obj,s=i.k;o[s]=o[s]||[],r&&(o[s]=o[s].concat(n)),r||o[s].push(n)}function getPath(e,t){var n=getLastOfPath(e,t),r=n.obj,i=n.k;if(r)return r[i]}function getPathWithDefaults(e,t,n){var r=getPath(e,n);return void 0!==r?r:getPath(t,n)}function deepExtend(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):deepExtend(e[r],t[r],n):e[r]=t[r]);return e}function regexEscape(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return _entityMap[e]})):e}var isIE10="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(e,t,n){t=t||"",n=n||"";var r=chars.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}function ownKeys$5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$5(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct$3(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function deepFind(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var s=2,a=r.slice(o,o+s).join(n),l=i[a];void 0===l&&r.length>o+s;)s++,l=i[a=r.slice(o,o+s).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(a)){if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a]}var c=r.slice(o+s).join(n);return c?deepFind(l,c,n):void 0}i=i[r[o]]}return i}}var ResourceStore=function(e){_inherits(n,e);var t=_createSuper$3(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,n),r=t.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return _createClass(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=getPath(this.data,s);return a||!o||"string"!=typeof n?a:deepFind(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(s=e.split("."))[1]),this.addNamespaces(t),setPath(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=getPath(this.data,s)||{};r?deepExtend(a,n,i):a=_objectSpread$5(_objectSpread$5({},a),n),setPath(this.data,s,a),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread$5(_objectSpread$5({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(EventEmitter),postProcessor={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function ownKeys$4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$4(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var checkedLoadedFor={},Translator=function(e){_inherits(n,e);var t=_createSuper$2(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),r=t.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(r)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,_assertThisInitialized(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=baseLogger.create("translator"),r}return _createClass(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||looksLikeObjectPath(e,n,r));if(o&&!s){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==_typeof$2(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),l=a.key,c=a.namespaces,u=c[c.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var p=t.nsSeparator||this.options.nsSeparator;return o?(f.res="".concat(u).concat(p).concat(l),f):"".concat(u).concat(p).concat(l)}return o?(f.res=l,f):l}var f=this.resolve(e,t),m=f&&f.res,g=f&&f.usedKey||l,y=f&&f.exactUsedKey||l,v=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,$="string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m;if(w&&m&&$&&b.indexOf(v)<0&&("string"!=typeof _||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,_objectSpread$4(_objectSpread$4({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=S,f):S}if(s){var x="[object Array]"===v,E=x?[]:{},O=x?y:g;for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var A="".concat(O).concat(s).concat(k);E[k]=this.translate(A,_objectSpread$4(_objectSpread$4({},t),{joinArrays:!1,ns:c})),E[k]===A&&(E[k]=m[k])}m=E}}else if(w&&"string"==typeof _&&"[object Array]"===v)(m=m.join(_))&&(m=this.extendTranslation(m,e,t,r));else{var P=!1,T=!1,R=void 0!==t.count&&"string"!=typeof t.count,C=n.hasDefaultValue(t),I=R?this.pluralResolver.getSuffix(d,t.count,t):"",D=t["defaultValue".concat(I)]||t.defaultValue;!this.isValidLookup(m)&&C&&(P=!0,m=D),this.isValidLookup(m)||(T=!0,m=l);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=L&&T?void 0:m,N=C&&D!==m&&this.options.updateMissing;if(T||P||N){if(this.logger.log(N?"updateKey":"missingKey",d,u,l,N?D:m),s){var j=this.resolve(l,_objectSpread$4(_objectSpread$4({},t),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&z&&z[0])for(var U=0;U<z.length;U++)F.push(z[U]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var q=function(e,n,r){var o=C&&r!==m?r:M;i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,n,o,N,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,n,o,N,t),i.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?F.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){q([e],l+n,t["defaultValue".concat(n)]||D)}))})):q(F,l,D))}m=this.extendTranslation(m,e,t,f,r),T&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(l)),(T||P)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,P?m:void 0):this.options.parseMissingKeyHandler(m))}return o?(f.res=m,f):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(_objectSpread$4(_objectSpread$4({},n),{interpolation:_objectSpread$4(_objectSpread$4({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){var u=e.match(this.interpolator.nestingRegexp);s<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=postProcessor.handle(h,e,t,this.options&&this.options.postProcessPassResolved?_objectSpread$4({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,a),c=l.key;n=c;var u=l.namespaces;s.options.fallbackNS&&(u=u.concat(s.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,h=d&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);u.forEach((function(e){s.isValidLookup(t)||(o=e,!checkedLoadedFor["".concat(f[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(checkedLoadedFor["".concat(f[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!s.isValidLookup(t)){i=n;var o,l=[c];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(l,c,n,e,a);else{var u;d&&(u=s.pluralResolver.getSuffix(n,a.count,a));var f="".concat(s.options.pluralSeparator,"zero");if(d&&(l.push(c+u),h&&l.push(c+f)),p){var m="".concat(c).concat(s.options.contextSeparator).concat(a.context);l.push(m),d&&(l.push(m+u),h&&l.push(m+f))}}for(;o=l.pop();)s.isValidLookup(t)||(r=o,t=s.getResource(n,e,o,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(EventEmitter);function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var LanguageUtil=function(){function e(t){_classCallCheck(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=capitalize(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var e={};return sets.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:_rulesPluralsTypes[t.fc]}}))})),e}var PluralResolver=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.languageUtils=t,this.options=n,this.logger=baseLogger.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return suffixesOrder[e]-suffixesOrder[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),e}();function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Interpolator=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.logger=baseLogger.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return _createClass(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:escape$1,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?regexEscape(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?regexEscape(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?regexEscape(t.nestingPrefix):t.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=t.nestingSuffix?regexEscape(t.nestingSuffix):t.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(a.formatSeparator)<0){var i=getPathWithDefaults(t,l,e);return a.alwaysFormat?a.format(i,void 0,n,_objectSpread$3(_objectSpread$3(_objectSpread$3({},r),t),{},{interpolationkey:e})):i}var o=e.split(a.formatSeparator),s=o.shift().trim(),c=o.join(a.formatSeparator).trim();return a.format(getPathWithDefaults(t,l,s),c,n,_objectSpread$3(_objectSpread$3(_objectSpread$3({},r),t),{},{interpolationkey:s}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(s=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=u(n)))if("function"==typeof d){var l=d(e,i,r);o="string"==typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(h){o=i[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=makeString(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var s=(o=this.interpolate(o,i)).match(/'/g),a=o.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=_objectSpread$3(_objectSpread$3({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var l=[];(i=(i=_objectSpread$3({},s)).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(a.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=makeString(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return o.format(e,t,s.lng,_objectSpread$3(_objectSpread$3({},s),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function parseFormatStr(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{i.split(";").forEach((function(e){if(e){var t=_toArray(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}}return{formatName:t,formatOptions:n}}function createCachedFormatter(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),s=t[o];return s||(s=e(r,i),t[o]=s),s(n)}}var Formatter=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.logger=baseLogger.create("formatter"),this.options=t,this.formats={number:createCachedFormatter((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:createCachedFormatter((function(e,t){var n=new Intl.NumberFormat(e,_objectSpread$2(_objectSpread$2({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:createCachedFormatter((function(e,t){var n=new Intl.DateTimeFormat(e,_objectSpread$2({},t));return function(e){return n.format(e)}})),relativetime:createCachedFormatter((function(e,t){var n=new Intl.RelativeTimeFormat(e,_objectSpread$2({},t));return function(e){return n.format(e,t.range||"day")}})),list:createCachedFormatter((function(e,t){var n=new Intl.ListFormat(e,_objectSpread$2({},t));return function(e){return n.format(e)}}))},this.init(t)}return _createClass(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=createCachedFormatter(t)}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=parseFormatStr(t),s=o.formatName,a=o.formatOptions;if(i.formats[s]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=i.formats[s](e,u,_objectSpread$2(_objectSpread$2(_objectSpread$2({},a),r),c))}catch(e){i.logger.warn(e)}return l}return i.logger.warn("there was no format function for ".concat(s)),e}),e);return o}}]),e}();function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function removePending(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}var Connector=function(e){_inherits(n,e);var t=_createSuper$1(n);function n(e,r,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,n),o=t.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(o)),o.backend=e,o.store=r,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=baseLogger.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return _createClass(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},s={},a={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?void 0===s[a]&&(s[a]=!0):(i.state[a]=1,r=!1,void 0===s[a]&&(s[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){pushPath(n.loaded,[i],o),removePending(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:s});else{this.readingCalls++;var a=function(a,l){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}a&&l&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,s)}),o):s(a,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,a);try{var c=l(e,t);c&&"function"==typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(e){a(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,s){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),t.loaded(e,r,s)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var a=_objectSpread$1(_objectSpread$1({},o),{},{isUpdate:i}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var c;(c=5===l.length?l(e,t,n,r,a):l(e,t,n,r))&&"function"==typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(e){s(e)}else l(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(EventEmitter);function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===_typeof$2(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===_typeof$2(e[2])||"object"===_typeof$2(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function noop(){}function bindMemberFunctions(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var I18n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,n),e=t.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(e)),e.options=transformOptions(r),e.services={},e.logger=baseLogger,e.modules={external:[]},bindMemberFunctions(_assertThisInitialized(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),_possibleConstructorReturn(e,_assertThisInitialized(e));setTimeout((function(){e.init(r,i)}),0)}return e}return _createClass(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=get();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=_objectSpread(_objectSpread(_objectSpread({},r),this.options),transformOptions(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=_objectSpread(_objectSpread({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?baseLogger.init(i(this.modules.logger),this.options):baseLogger.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Formatter);var s=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var a=this.services;a.logger=baseLogger,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new PluralResolver(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=i(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Interpolator(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Connector(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=defer(),h=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)s(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=defer();return e||(e=this.languages),t||(t=this.options.ns),n||(n=noop),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&postProcessor.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=defer();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==_typeof$2(i)){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([t,i].concat(a))}else o=_objectSpread({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var c,u=r.options.keySeparator||".";return c=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(u).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(u).concat(t):t,r.t(c,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(r,e)||i&&!s(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=defer();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=defer();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new LanguageUtil(get());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,i=_objectSpread(_objectSpread(_objectSpread({},this.options),t),{isClone:!0}),o=new n(i);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));var s=["store","services","language"];return s.forEach((function(t){o[t]=e[t]})),o.services=_objectSpread({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new Translator(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(EventEmitter);_defineProperty(I18n,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new I18n(e,t)}));var instance=I18n.createInstance();instance.createInstance=I18n.createInstance,instance.createInstance,instance.dir,instance.init,instance.loadResources,instance.reloadResources,instance.use,instance.changeLanguage,instance.getFixedT;var t=instance.t;instance.exists,instance.setDefaultNamespace,instance.hasLoadedNamespace,instance.loadNamespaces,instance.loadLanguages;var useTitleNotification=function(){var e=require$$0$1.useState(!0),t=e[0],n=e[1],r=require$$0$1.useState(!0),i=r[0],o=r[1],s=require$$0$1.useState(""),a=s[0],l=s[1],c=require$$0$1.useMemo((function(){return document.title}),[]);return require$$0$1.useEffect((function(){var e=setInterval((function(){n((function(e){return!e}))}),1e3);return i||(clearInterval(e),n(!1),l("")),function(){return clearInterval(e)}}),[i]),require$$0$1.useEffect((function(){document.title=t?a:c}),[t]),{show:function(e){l(e),o(!0)},resetTitle:function(){o(!1)}}},MESSAGES_PER_PAGE=30,Body=function(){var e=require$$0$1.useRef(null),n=useAppSelector((function(e){return e.room})).rid,r=useAppSelector((function(e){return e.user})).user,i=useRc().rc,o=useAppSelector(messagesSelectors.selectAll),s=useAppDispatch(),a=useWindowFocus(),l=useTitleNotification(),c=l.show,u=l.resetTitle,d=require$$0$1.useState({display:!1,username:""}),h=d[0],p=d[1],f=require$$0$1.useCallback((function(t){e.current&&e.current.scrollIntoView(t)}),[e]),m=useInfiniteQuery({queryKey:["messages",n],queryFn:function(e){var t=e.pageParam;return n?i.getMessages(n,t,MESSAGES_PER_PAGE):void 0},initialPageParam:0,getNextPageParam:function(e,t){if(!(e&&e.count<MESSAGES_PER_PAGE))return MESSAGES_PER_PAGE*t.length},enabled:!!n}),g=m.data,y=m.fetchNextPage,v=m.isFetchingNextPage,b=require$$0__default.default.useRef(lodash_debounce((function(){p({display:!1,username:""})}),5e3)).current,_=require$$0__default.default.useRef(lodash_debounce((function(e){i.markAsRead(e)}),1e3)),w=function(e){var i,o;s(upsertMessage(e)),document.hasFocus()?_.current(n):(null==r?void 0:r._id)!==e.u._id&&(c((null===(i=e.attachments)||void 0===i?void 0:i.length)?e.u.name+" "+t("SENT_A_FILE"):e.u.name+" "+t("SENT_A_NEW_MESSAGE")),useNotification(e.u.name,{body:(null===(o=e.attachments)||void 0===o?void 0:o.length)?e.u.name+" "+t("SENT_A_FILE"):e.msg})),setTimeout((function(){f({behavior:"smooth"})}),50)},$=function(e,t){p({display:t,username:e}),b()},S=function(e){s(removeOne(e._id))},x=function(e,t){switch(e){case EventType.TYPING:$.apply(void 0,t);break;case EventType.DELETE_MESSAGE:S.apply(void 0,t)}};return require$$0$1.useEffect((function(){null==g||g.pages.forEach((function(e){e&&(s(addMessages(e.messages)),setTimeout((function(){f()}),10))}))}),[g]),require$$0$1.useEffect((function(){if(n)return console.log("Create socket"),i.realtime(n,w,x),function(){console.log("Close socket"),i.close()}}),[n]),require$$0$1.useEffect((function(){a&&n&&(i.markAsRead(n),u())}),[a,n]),require$$0__default.default.createElement("div",{style:{fontSize:"16px"},className:"h-full"},require$$0__default.default.createElement(DropZone,null,require$$0__default.default.createElement(NotificationButton,null),require$$0__default.default.createElement(List,{ref:e,isLoading:v,loadMore:y,messages:o}),require$$0__default.default.createElement(Composer,{isTyping:h})))},App=function(e){e.lang;var t=useRc().rc,n=useAppSelector((function(e){return e.user})).isAuthorized,r=useAppDispatch();return require$$0$1.useEffect((function(){r(removeAll()),r(clearRoom()),function(){__awaiter$5(this,void 0,void 0,(function(){var e,n;return __generator$5(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.me()];case 1:if("error"===(null==(e=i.sent())?void 0:e.status))throw new Error;return r(setUser(e)),r(setAuthorized(!0)),[3,3];case 2:return i.sent(),r(setUser(null)),r(setAuthorized(!1)),[2];case 3:if(i.trys.push([3,8,,9]),!t.rid&&!t.dmUid)throw new Error("Cannot initialize chat. Room id or Dm User id is not defined");return t.rid?[4,t.getRoomInfo(t.rid)]:[3,5];case 4:return n=i.sent(),[3,7];case 5:return[4,t.autoDiscoverImRoom(t.dmUid)];case 6:n=i.sent(),i.label=7;case 7:return r(setRoom(n)),[3,9];case 8:return i.sent(),r(clearRoom()),[3,9];case 9:return[2]}}))}))}()}),[t.rid,t.dmUid]),n?require$$0__default.default.createElement(Body,null):null},css_248z='/*\n! tailwindcss v3.2.4 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: \'\';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user\'s configured `sans` font-family by default.\n5. Use the user\'s configured `sans` font-feature-settings by default.\n*/\n\nhtml {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user\'s configured `mono` font family by default.\n2. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\n[type=\'button\'],\n[type=\'reset\'],\n[type=\'submit\'] {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type=\'search\'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user\'s configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role="button"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don\'t get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden] {\n  display: none;\n}\n\n*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n.container {\n  width: 100%;\n}\n@media (min-width: 500px) {\n\n  .container {\n    max-width: 500px;\n  }\n}\n@media (min-width: 640px) {\n\n  .container {\n    max-width: 640px;\n  }\n}\n@media (min-width: 768px) {\n\n  .container {\n    max-width: 768px;\n  }\n}\n@media (min-width: 1024px) {\n\n  .container {\n    max-width: 1024px;\n  }\n}\n@media (min-width: 1280px) {\n\n  .container {\n    max-width: 1280px;\n  }\n}\n@media (min-width: 1536px) {\n\n  .container {\n    max-width: 1536px;\n  }\n}\n.\\!visible {\n  visibility: visible !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.bottom-0 {\n  bottom: 0px;\n}\n.left-4 {\n  left: 1em;\n}\n.top-0 {\n  top: 0px;\n}\n.-left-8 {\n  left: -2em;\n}\n.-right-8 {\n  right: -2em;\n}\n.\\!left-auto {\n  left: auto !important;\n}\n.\\!right-0 {\n  right: 0px !important;\n}\n.left-0 {\n  left: 0px;\n}\n.right-auto {\n  right: auto;\n}\n.z-10 {\n  z-index: 10;\n}\n.m-1 {\n  margin: 0.25em;\n}\n.m-2 {\n  margin: 0.5em;\n}\n.mx-4 {\n  margin-left: 1em;\n  margin-right: 1em;\n}\n.my-auto {\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.mx-0 {\n  margin-left: 0px;\n  margin-right: 0px;\n}\n.mx-1 {\n  margin-left: 0.25em;\n  margin-right: 0.25em;\n}\n.my-2 {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n}\n.ml-1 {\n  margin-left: 0.25em;\n}\n.ml-2 {\n  margin-left: 0.5em;\n}\n.mr-3 {\n  margin-right: 0.75em;\n}\n.mb-0\\.5 {\n  margin-bottom: 0.125em;\n}\n.mb-0 {\n  margin-bottom: 0px;\n}\n.mr-2 {\n  margin-right: 0.5em;\n}\n.mr-5 {\n  margin-right: 1.25em;\n}\n.mr-1 {\n  margin-right: 0.25em;\n}\n.mr-1\\.5 {\n  margin-right: 0.375em;\n}\n.mb-2 {\n  margin-bottom: 0.5em;\n}\n.mr-2\\.5 {\n  margin-right: 0.625em;\n}\n.ml-3 {\n  margin-left: 0.75em;\n}\n.box-content {\n  box-sizing: content-box;\n}\n.block {\n  display: block;\n}\n.inline {\n  display: inline;\n}\n.flex {\n  display: flex;\n}\n.hidden {\n  display: none;\n}\n.h-full {\n  height: 100%;\n}\n.h-4 {\n  height: 1em;\n}\n.h-\\[18px\\] {\n  height: 18px;\n}\n.h-20 {\n  height: 5em;\n}\n.h-1 {\n  height: 0.25em;\n}\n.h-6 {\n  height: 1.5em;\n}\n.h-3 {\n  height: 0.75em;\n}\n.h-2 {\n  height: 0.5em;\n}\n.h-min {\n  height: -moz-min-content;\n  height: min-content;\n}\n.h-5 {\n  height: 1.25em;\n}\n.w-4 {\n  width: 1em;\n}\n.w-\\[18px\\] {\n  width: 18px;\n}\n.w-full {\n  width: 100%;\n}\n.w-6 {\n  width: 1.5em;\n}\n.w-3 {\n  width: 0.75em;\n}\n.w-2 {\n  width: 0.5em;\n}\n.w-5 {\n  width: 1.25em;\n}\n.w-40 {\n  width: 10em;\n}\n.min-w-\\[43px\\] {\n  min-width: 43px;\n}\n.max-w-\\[300px\\] {\n  max-width: 300px;\n}\n.max-w-\\[calc\\(100\\%_-_2\\.31rem\\)\\] {\n  max-width: calc(100% - 2.31rem);\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.shrink {\n  flex-shrink: 1;\n}\n.basis-8 {\n  flex-basis: 2em;\n}\n.basis-full {\n  flex-basis: 100%;\n}\n.origin-top-right {\n  transform-origin: top right;\n}\n.-rotate-45 {\n  --tw-rotate: -45deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-95 {\n  --tw-scale-x: .95;\n  --tw-scale-y: .95;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-100 {\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.\\!cursor-not-allowed {\n  cursor: not-allowed !important;\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-end {\n  align-items: flex-end;\n}\n.items-center {\n  align-items: center;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.gap-4 {\n  gap: 1em;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-x-hidden {\n  overflow-x: hidden;\n}\n.overflow-y-scroll {\n  overflow-y: scroll;\n}\n.break-words {\n  overflow-wrap: break-word;\n}\n.rounded-xl {\n  border-radius: 0.75rem;\n}\n.rounded-md {\n  border-radius: 0.375rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n.bg-theme-teal-1 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(19 189 157 / var(--tw-bg-opacity));\n}\n.bg-sky-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(186 230 253 / var(--tw-bg-opacity));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity));\n}\n.bg-red-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity));\n}\n.\\!bg-theme-teal-0 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(240 249 249 / var(--tw-bg-opacity)) !important;\n}\n.\\!bg-sky-50 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(240 249 255 / var(--tw-bg-opacity)) !important;\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity));\n}\n.bg-sky-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(56 189 248 / var(--tw-bg-opacity));\n}\n.bg-opacity-70 {\n  --tw-bg-opacity: 0.7;\n}\n.fill-white {\n  fill: #fff;\n}\n.object-cover {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.p-2\\.5 {\n  padding: 0.625em;\n}\n.p-2 {\n  padding: 0.5em;\n}\n.p-4 {\n  padding: 1em;\n}\n.px-1 {\n  padding-left: 0.25em;\n  padding-right: 0.25em;\n}\n.px-4 {\n  padding-left: 1em;\n  padding-right: 1em;\n}\n.py-1 {\n  padding-top: 0.25em;\n  padding-bottom: 0.25em;\n}\n.py-2 {\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n}\n.pb-4 {\n  padding-bottom: 1em;\n}\n.pl-4 {\n  padding-left: 1em;\n}\n.pr-4 {\n  padding-right: 1em;\n}\n.pt-4 {\n  padding-top: 1em;\n}\n.\\!pl-3 {\n  padding-left: 0.75em !important;\n}\n.pb-2\\.5 {\n  padding-bottom: 0.625em;\n}\n.pb-2 {\n  padding-bottom: 0.5em;\n}\n.pt-2 {\n  padding-top: 0.5em;\n}\n.\\!pb-2 {\n  padding-bottom: 0.5em !important;\n}\n.text-left {\n  text-align: left;\n}\n.text-right {\n  text-align: right;\n}\n.align-middle {\n  vertical-align: middle;\n}\n.text-sm {\n  font-size: 0.8em;\n}\n.text-\\[10px\\] {\n  font-size: 10px;\n}\n.text-xs {\n  font-size: 0.75em;\n}\n.font-normal {\n  font-weight: 400;\n}\n.font-medium {\n  font-weight: 500;\n}\n.leading-\\[1\\.8em\\] {\n  line-height: 1.8em;\n}\n.leading-5 {\n  line-height: 1.25rem;\n}\n.leading-4 {\n  line-height: 1rem;\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity));\n}\n.text-theme-teal-1 {\n  --tw-text-opacity: 1;\n  color: rgb(19 189 157 / var(--tw-text-opacity));\n}\n.text-sky-500 {\n  --tw-text-opacity: 1;\n  color: rgb(14 165 233 / var(--tw-text-opacity));\n}\n.text-gray-300 {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity));\n}\n.text-indigo-500 {\n  --tw-text-opacity: 1;\n  color: rgb(99 102 241 / var(--tw-text-opacity));\n}\n.text-gray-900 {\n  --tw-text-opacity: 1;\n  color: rgb(17 24 39 / var(--tw-text-opacity));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity));\n}\n.\\!text-red-500 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(239 68 68 / var(--tw-text-opacity)) !important;\n}\n.text-theme-teal-2 {\n  --tw-text-opacity: 1;\n  color: rgb(29 96 99 / var(--tw-text-opacity));\n}\n.text-sky-900 {\n  --tw-text-opacity: 1;\n  color: rgb(12 74 110 / var(--tw-text-opacity));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity));\n}\n.\\!text-gray-400 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(156 163 175 / var(--tw-text-opacity)) !important;\n}\n.text-sky-600 {\n  --tw-text-opacity: 1;\n  color: rgb(2 132 199 / var(--tw-text-opacity));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n.text-sky-400 {\n  --tw-text-opacity: 1;\n  color: rgb(56 189 248 / var(--tw-text-opacity));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity));\n}\n.opacity-0 {\n  opacity: 0;\n}\n.opacity-100 {\n  opacity: 1;\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.outline {\n  outline-style: solid;\n}\n.outline-1 {\n  outline-width: 1px;\n}\n.outline-gray-300 {\n  outline-color: #d1d5db;\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-black {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity));\n}\n.ring-opacity-5 {\n  --tw-ring-opacity: 0.05;\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-100 {\n  transition-duration: 100ms;\n}\n.duration-75 {\n  transition-duration: 75ms;\n}\n.ease-out {\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.ease-in {\n  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);\n}\n.\\@container {\n  container-type: inline-size;\n}\n.placeholder\\:text-gray-500::-moz-placeholder {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity));\n}\n.placeholder\\:text-gray-500::placeholder {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity));\n}\n.before\\:content-\\[attr\\(data-message\\)\\]::before {\n  --tw-content: attr(data-message);\n  content: var(--tw-content);\n}\n.first\\:pt-4:first-child {\n  padding-top: 1em;\n}\n.hover\\:cursor-pointer:hover {\n  cursor: pointer;\n}\n.hover\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity));\n}\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.group:hover .group-hover\\:visible {\n  visibility: visible;\n}\n.group:nth-last-child(2) .group-\\[\\:nth-last-child\\(2\\)\\]\\:bottom-\\[calc\\(100\\%_\\+_0\\.5rem\\)\\] {\n  bottom: calc(100% + 0.5rem);\n}\n@container (min-width: 42rem) {\n\n  .\\@2xl\\:right-0 {\n    right: 0px;\n  }\n\n  .\\@2xl\\:left-auto {\n    left: auto;\n  }\n\n  .\\@2xl\\:\\!left-auto {\n    left: auto !important;\n  }\n\n  .\\@2xl\\:\\!right-0 {\n    right: 0px !important;\n  }\n}\n.\\[\\&\\:not\\(\\:first-child\\)\\]\\:pt-0:not(:first-child) {\n  padding-top: 0px;\n}\n';styleInject(css_248z,{insertAt:"top"});var MESSAGE$1="Message",IS_TYPING$1="is typing",DROP_TO_UPLOAD_FILE$1="Drop to upload file",DELETE$1="Delete",UPLOAD_FAILED$1="Upload failed",TODAY$1="today",TOMORROW$1="tomorrow",YESTERDAY$1="yesterday",SENT_A_FILE$1="sent a file.",SENT_A_NEW_MESSAGE$1="wrote a new message.",THANKS_YOU_FOR_ENABLING_NOTIFICATION$1="Thanks you for enabling notification",ENABLE_PUSH_NOTIFICATIONS$1=" Enable Push Notifications",en={MESSAGE:MESSAGE$1,IS_TYPING:IS_TYPING$1,DROP_TO_UPLOAD_FILE:DROP_TO_UPLOAD_FILE$1,DELETE:DELETE$1,UPLOAD_FAILED:UPLOAD_FAILED$1,TODAY:TODAY$1,TOMORROW:TOMORROW$1,YESTERDAY:YESTERDAY$1,SENT_A_FILE:SENT_A_FILE$1,SENT_A_NEW_MESSAGE:SENT_A_NEW_MESSAGE$1,THANKS_YOU_FOR_ENABLING_NOTIFICATION:THANKS_YOU_FOR_ENABLING_NOTIFICATION$1,ENABLE_PUSH_NOTIFICATIONS:ENABLE_PUSH_NOTIFICATIONS$1},MESSAGE="Nachricht",IS_TYPING="tippt",DROP_TO_UPLOAD_FILE="Ablegen, um Datei hochzuladen",DELETE="Löschen",UPLOAD_FAILED="Hochladen fehlgeschlagen",TODAY="heute",TOMORROW="morgen",YESTERDAY="gestern",SENT_A_FILE="hat eine Datei gesendet.",SENT_A_NEW_MESSAGE="hat eine neue Nachricht geschrieben.",THANKS_YOU_FOR_ENABLING_NOTIFICATION="Danke für die Aktivierung der Benachrichtigungen",ENABLE_PUSH_NOTIFICATIONS="Push-Benachrichtigungen aktivieren",de={MESSAGE:MESSAGE,IS_TYPING:IS_TYPING,DROP_TO_UPLOAD_FILE:DROP_TO_UPLOAD_FILE,DELETE:DELETE,UPLOAD_FAILED:UPLOAD_FAILED,TODAY:TODAY,TOMORROW:TOMORROW,YESTERDAY:YESTERDAY,SENT_A_FILE:SENT_A_FILE,SENT_A_NEW_MESSAGE:SENT_A_NEW_MESSAGE,THANKS_YOU_FOR_ENABLING_NOTIFICATION:THANKS_YOU_FOR_ENABLING_NOTIFICATION,ENABLE_PUSH_NOTIFICATIONS:ENABLE_PUSH_NOTIFICATIONS},settings={debug:!0,fallbackLng:"de",supportedLngs:["de","en"],resources:{en:{translation:en},de:{translation:de}},interpolation:{escapeValue:!1}};instance.use(initReactI18next).init(settings);var queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),Chat=function(e){var t=e.config,n=e.theme,r=e.lng;console.log("new RCService",t);var i=new RcService(t);return React.createElement(Provider,{store:store},React.createElement(QueryClientProvider,{client:queryClient},React.createElement(Rc,{instance:i},React.createElement(ThemeProvider,{theme:n},React.createElement(App,{lang:r})))))};return Chat}));
//# sourceMappingURL=ja_chat.min.js.map
